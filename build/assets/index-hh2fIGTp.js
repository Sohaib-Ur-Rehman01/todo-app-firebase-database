(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&a(h)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();function Ev(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var mf={exports:{}},fa={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q_;function sb(){if(Q_)return fa;Q_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var h=null;if(c!==void 0&&(h=""+c),o.key!==void 0&&(h=""+o.key),"key"in o){c={};for(var d in o)d!=="key"&&(c[d]=o[d])}else c=o;return o=c.ref,{$$typeof:s,type:a,key:h,ref:o!==void 0?o:null,props:c}}return fa.Fragment=t,fa.jsx=i,fa.jsxs=i,fa}var K_;function rb(){return K_||(K_=1,mf.exports=sb()),mf.exports}var x=rb(),_f={exports:{}},se={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X_;function ab(){if(X_)return se;X_=1;var s=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.iterator;function T(v){return v===null||typeof v!="object"?null:(v=b&&v[b]||v["@@iterator"],typeof v=="function"?v:null)}var z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,K={};function te(v,M,H){this.props=v,this.context=M,this.refs=K,this.updater=H||z}te.prototype.isReactComponent={},te.prototype.setState=function(v,M){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,M,"setState")},te.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function ke(){}ke.prototype=te.prototype;function Oe(v,M,H){this.props=v,this.context=M,this.refs=K,this.updater=H||z}var de=Oe.prototype=new ke;de.constructor=Oe,j(de,te.prototype),de.isPureReactComponent=!0;var Ie=Array.isArray,ie={H:null,A:null,T:null,S:null,V:null},be=Object.prototype.hasOwnProperty;function He(v,M,H,P,G,ne){return H=ne.ref,{$$typeof:s,type:v,key:M,ref:H!==void 0?H:null,props:ne}}function Pe(v,M){return He(v.type,M,void 0,void 0,void 0,v.props)}function Ge(v){return typeof v=="object"&&v!==null&&v.$$typeof===s}function ye(v){var M={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(H){return M[H]})}var re=/\/+/g;function Le(v,M){return typeof v=="object"&&v!==null&&v.key!=null?ye(""+v.key):M.toString(36)}function Pt(){}function Q(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(Pt,Pt):(v.status="pending",v.then(function(M){v.status==="pending"&&(v.status="fulfilled",v.value=M)},function(M){v.status==="pending"&&(v.status="rejected",v.reason=M)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function V(v,M,H,P,G){var ne=typeof v;(ne==="undefined"||ne==="boolean")&&(v=null);var X=!1;if(v===null)X=!0;else switch(ne){case"bigint":case"string":case"number":X=!0;break;case"object":switch(v.$$typeof){case s:case t:X=!0;break;case y:return X=v._init,V(X(v._payload),M,H,P,G)}}if(X)return G=G(v),X=P===""?"."+Le(v,0):P,Ie(G)?(H="",X!=null&&(H=X.replace(re,"$&/")+"/"),V(G,M,H,"",function(ht){return ht})):G!=null&&(Ge(G)&&(G=Pe(G,H+(G.key==null||v&&v.key===G.key?"":(""+G.key).replace(re,"$&/")+"/")+X)),M.push(G)),1;X=0;var Ye=P===""?".":P+":";if(Ie(v))for(var ve=0;ve<v.length;ve++)P=v[ve],ne=Ye+Le(P,ve),X+=V(P,M,H,ne,G);else if(ve=T(v),typeof ve=="function")for(v=ve.call(v),ve=0;!(P=v.next()).done;)P=P.value,ne=Ye+Le(P,ve++),X+=V(P,M,H,ne,G);else if(ne==="object"){if(typeof v.then=="function")return V(Q(v),M,H,P,G);throw M=String(v),Error("Objects are not valid as a React child (found: "+(M==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":M)+"). If you meant to render a collection of children, use an array instead.")}return X}function S(v,M,H){if(v==null)return v;var P=[],G=0;return V(v,P,"","",function(ne){return M.call(H,ne,G++)}),P}function N(v){if(v._status===-1){var M=v._result;M=M(),M.then(function(H){(v._status===0||v._status===-1)&&(v._status=1,v._result=H)},function(H){(v._status===0||v._status===-1)&&(v._status=2,v._result=H)}),v._status===-1&&(v._status=0,v._result=M)}if(v._status===1)return v._result.default;throw v._result}var I=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var M=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(M))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function B(){}return se.Children={map:S,forEach:function(v,M,H){S(v,function(){M.apply(this,arguments)},H)},count:function(v){var M=0;return S(v,function(){M++}),M},toArray:function(v){return S(v,function(M){return M})||[]},only:function(v){if(!Ge(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},se.Component=te,se.Fragment=i,se.Profiler=o,se.PureComponent=Oe,se.StrictMode=a,se.Suspense=m,se.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,se.__COMPILER_RUNTIME={__proto__:null,c:function(v){return ie.H.useMemoCache(v)}},se.cache=function(v){return function(){return v.apply(null,arguments)}},se.cloneElement=function(v,M,H){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var P=j({},v.props),G=v.key,ne=void 0;if(M!=null)for(X in M.ref!==void 0&&(ne=void 0),M.key!==void 0&&(G=""+M.key),M)!be.call(M,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&M.ref===void 0||(P[X]=M[X]);var X=arguments.length-2;if(X===1)P.children=H;else if(1<X){for(var Ye=Array(X),ve=0;ve<X;ve++)Ye[ve]=arguments[ve+2];P.children=Ye}return He(v.type,G,void 0,void 0,ne,P)},se.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:c,_context:v},v},se.createElement=function(v,M,H){var P,G={},ne=null;if(M!=null)for(P in M.key!==void 0&&(ne=""+M.key),M)be.call(M,P)&&P!=="key"&&P!=="__self"&&P!=="__source"&&(G[P]=M[P]);var X=arguments.length-2;if(X===1)G.children=H;else if(1<X){for(var Ye=Array(X),ve=0;ve<X;ve++)Ye[ve]=arguments[ve+2];G.children=Ye}if(v&&v.defaultProps)for(P in X=v.defaultProps,X)G[P]===void 0&&(G[P]=X[P]);return He(v,ne,void 0,void 0,null,G)},se.createRef=function(){return{current:null}},se.forwardRef=function(v){return{$$typeof:d,render:v}},se.isValidElement=Ge,se.lazy=function(v){return{$$typeof:y,_payload:{_status:-1,_result:v},_init:N}},se.memo=function(v,M){return{$$typeof:_,type:v,compare:M===void 0?null:M}},se.startTransition=function(v){var M=ie.T,H={};ie.T=H;try{var P=v(),G=ie.S;G!==null&&G(H,P),typeof P=="object"&&P!==null&&typeof P.then=="function"&&P.then(B,I)}catch(ne){I(ne)}finally{ie.T=M}},se.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},se.use=function(v){return ie.H.use(v)},se.useActionState=function(v,M,H){return ie.H.useActionState(v,M,H)},se.useCallback=function(v,M){return ie.H.useCallback(v,M)},se.useContext=function(v){return ie.H.useContext(v)},se.useDebugValue=function(){},se.useDeferredValue=function(v,M){return ie.H.useDeferredValue(v,M)},se.useEffect=function(v,M,H){var P=ie.H;if(typeof H=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return P.useEffect(v,M)},se.useId=function(){return ie.H.useId()},se.useImperativeHandle=function(v,M,H){return ie.H.useImperativeHandle(v,M,H)},se.useInsertionEffect=function(v,M){return ie.H.useInsertionEffect(v,M)},se.useLayoutEffect=function(v,M){return ie.H.useLayoutEffect(v,M)},se.useMemo=function(v,M){return ie.H.useMemo(v,M)},se.useOptimistic=function(v,M){return ie.H.useOptimistic(v,M)},se.useReducer=function(v,M,H){return ie.H.useReducer(v,M,H)},se.useRef=function(v){return ie.H.useRef(v)},se.useState=function(v){return ie.H.useState(v)},se.useSyncExternalStore=function(v,M,H){return ie.H.useSyncExternalStore(v,M,H)},se.useTransition=function(){return ie.H.useTransition()},se.version="19.1.0",se}var W_;function sh(){return W_||(W_=1,_f.exports=ab()),_f.exports}var qe=sh();const Zi=Ev(qe);var gf={exports:{}},ha={},vf={exports:{}},yf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z_;function lb(){return Z_||(Z_=1,function(s){function t(S,N){var I=S.length;S.push(N);e:for(;0<I;){var B=I-1>>>1,v=S[B];if(0<o(v,N))S[B]=N,S[I]=v,I=B;else break e}}function i(S){return S.length===0?null:S[0]}function a(S){if(S.length===0)return null;var N=S[0],I=S.pop();if(I!==N){S[0]=I;e:for(var B=0,v=S.length,M=v>>>1;B<M;){var H=2*(B+1)-1,P=S[H],G=H+1,ne=S[G];if(0>o(P,I))G<v&&0>o(ne,P)?(S[B]=ne,S[G]=I,B=G):(S[B]=P,S[H]=I,B=H);else if(G<v&&0>o(ne,I))S[B]=ne,S[G]=I,B=G;else break e}}return N}function o(S,N){var I=S.sortIndex-N.sortIndex;return I!==0?I:S.id-N.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;s.unstable_now=function(){return c.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var m=[],_=[],y=1,b=null,T=3,z=!1,j=!1,K=!1,te=!1,ke=typeof setTimeout=="function"?setTimeout:null,Oe=typeof clearTimeout=="function"?clearTimeout:null,de=typeof setImmediate<"u"?setImmediate:null;function Ie(S){for(var N=i(_);N!==null;){if(N.callback===null)a(_);else if(N.startTime<=S)a(_),N.sortIndex=N.expirationTime,t(m,N);else break;N=i(_)}}function ie(S){if(K=!1,Ie(S),!j)if(i(m)!==null)j=!0,be||(be=!0,Le());else{var N=i(_);N!==null&&V(ie,N.startTime-S)}}var be=!1,He=-1,Pe=5,Ge=-1;function ye(){return te?!0:!(s.unstable_now()-Ge<Pe)}function re(){if(te=!1,be){var S=s.unstable_now();Ge=S;var N=!0;try{e:{j=!1,K&&(K=!1,Oe(He),He=-1),z=!0;var I=T;try{t:{for(Ie(S),b=i(m);b!==null&&!(b.expirationTime>S&&ye());){var B=b.callback;if(typeof B=="function"){b.callback=null,T=b.priorityLevel;var v=B(b.expirationTime<=S);if(S=s.unstable_now(),typeof v=="function"){b.callback=v,Ie(S),N=!0;break t}b===i(m)&&a(m),Ie(S)}else a(m);b=i(m)}if(b!==null)N=!0;else{var M=i(_);M!==null&&V(ie,M.startTime-S),N=!1}}break e}finally{b=null,T=I,z=!1}N=void 0}}finally{N?Le():be=!1}}}var Le;if(typeof de=="function")Le=function(){de(re)};else if(typeof MessageChannel<"u"){var Pt=new MessageChannel,Q=Pt.port2;Pt.port1.onmessage=re,Le=function(){Q.postMessage(null)}}else Le=function(){ke(re,0)};function V(S,N){He=ke(function(){S(s.unstable_now())},N)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(S){S.callback=null},s.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Pe=0<S?Math.floor(1e3/S):5},s.unstable_getCurrentPriorityLevel=function(){return T},s.unstable_next=function(S){switch(T){case 1:case 2:case 3:var N=3;break;default:N=T}var I=T;T=N;try{return S()}finally{T=I}},s.unstable_requestPaint=function(){te=!0},s.unstable_runWithPriority=function(S,N){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var I=T;T=S;try{return N()}finally{T=I}},s.unstable_scheduleCallback=function(S,N,I){var B=s.unstable_now();switch(typeof I=="object"&&I!==null?(I=I.delay,I=typeof I=="number"&&0<I?B+I:B):I=B,S){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=I+v,S={id:y++,callback:N,priorityLevel:S,startTime:I,expirationTime:v,sortIndex:-1},I>B?(S.sortIndex=I,t(_,S),i(m)===null&&S===i(_)&&(K?(Oe(He),He=-1):K=!0,V(ie,I-B))):(S.sortIndex=v,t(m,S),j||z||(j=!0,be||(be=!0,Le()))),S},s.unstable_shouldYield=ye,s.unstable_wrapCallback=function(S){var N=T;return function(){var I=T;T=N;try{return S.apply(this,arguments)}finally{T=I}}}}(yf)),yf}var $_;function ob(){return $_||($_=1,vf.exports=lb()),vf.exports}var Ef={exports:{}},mt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function ub(){if(J_)return mt;J_=1;var s=sh();function t(m){var _="https://react.dev/errors/"+m;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)_+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+m+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(m,_,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:m,containerInfo:_,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,_){if(m==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return mt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,mt.createPortal=function(m,_){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(m,_,null,y)},mt.flushSync=function(m){var _=h.T,y=a.p;try{if(h.T=null,a.p=2,m)return m()}finally{h.T=_,a.p=y,a.d.f()}},mt.preconnect=function(m,_){typeof m=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(m,_))},mt.prefetchDNS=function(m){typeof m=="string"&&a.d.D(m)},mt.preinit=function(m,_){if(typeof m=="string"&&_&&typeof _.as=="string"){var y=_.as,b=d(y,_.crossOrigin),T=typeof _.integrity=="string"?_.integrity:void 0,z=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;y==="style"?a.d.S(m,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:z}):y==="script"&&a.d.X(m,{crossOrigin:b,integrity:T,fetchPriority:z,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},mt.preinitModule=function(m,_){if(typeof m=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var y=d(_.as,_.crossOrigin);a.d.M(m,{crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(m)},mt.preload=function(m,_){if(typeof m=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var y=_.as,b=d(y,_.crossOrigin);a.d.L(m,y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},mt.preloadModule=function(m,_){if(typeof m=="string")if(_){var y=d(_.as,_.crossOrigin);a.d.m(m,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:y,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(m)},mt.requestFormReset=function(m){a.d.r(m)},mt.unstable_batchedUpdates=function(m,_){return m(_)},mt.useFormState=function(m,_,y){return h.H.useFormState(m,_,y)},mt.useFormStatus=function(){return h.H.useHostTransitionStatus()},mt.version="19.1.0",mt}var eg;function cb(){if(eg)return Ef.exports;eg=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),Ef.exports=ub(),Ef.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tg;function fb(){if(tg)return ha;tg=1;var s=ob(),t=sh(),i=cb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function h(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function d(e){if(c(e)!==e)throw Error(a(188))}function m(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var r=e,l=n;;){var u=r.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){r=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===r)return d(u),e;if(f===l)return d(u),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=u,l=f;else{for(var p=!1,g=u.child;g;){if(g===r){p=!0,r=u,l=f;break}if(g===l){p=!0,l=u,r=f;break}g=g.sibling}if(!p){for(g=f.child;g;){if(g===r){p=!0,r=f,l=u;break}if(g===l){p=!0,l=f,r=u;break}g=g.sibling}if(!p)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),z=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),K=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ke=Symbol.for("react.provider"),Oe=Symbol.for("react.consumer"),de=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),ie=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),He=Symbol.for("react.memo"),Pe=Symbol.for("react.lazy"),Ge=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function Le(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var Pt=Symbol.for("react.client.reference");function Q(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===Pt?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case j:return"Fragment";case te:return"Profiler";case K:return"StrictMode";case ie:return"Suspense";case be:return"SuspenseList";case Ge:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case z:return"Portal";case de:return(e.displayName||"Context")+".Provider";case Oe:return(e._context.displayName||"Context")+".Consumer";case Ie:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case He:return n=e.displayName||null,n!==null?n:Q(e.type)||"Memo";case Pe:n=e._payload,e=e._init;try{return Q(e(n))}catch{}}return null}var V=Array.isArray,S=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I={pending:!1,data:null,method:null,action:null},B=[],v=-1;function M(e){return{current:e}}function H(e){0>v||(e.current=B[v],B[v]=null,v--)}function P(e,n){v++,B[v]=e.current,e.current=n}var G=M(null),ne=M(null),X=M(null),Ye=M(null);function ve(e,n){switch(P(X,n),P(ne,e),P(G,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?S_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=S_(n),e=b_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(G),P(G,e)}function ht(){H(G),H(ne),H(X)}function Je(e){e.memoizedState!==null&&P(Ye,e);var n=G.current,r=b_(n,e.type);n!==r&&(P(ne,e),P(G,r))}function Ot(e){ne.current===e&&(H(G),H(ne)),Ye.current===e&&(H(Ye),aa._currentValue=I)}var gn=Object.prototype.hasOwnProperty,Vn=s.unstable_scheduleCallback,nu=s.unstable_cancelCallback,L0=s.unstable_shouldYield,z0=s.unstable_requestPaint,on=s.unstable_now,H0=s.unstable_getCurrentPriorityLevel,td=s.unstable_ImmediatePriority,nd=s.unstable_UserBlockingPriority,Ka=s.unstable_NormalPriority,P0=s.unstable_LowPriority,id=s.unstable_IdlePriority,B0=s.log,j0=s.unstable_setDisableYieldValue,pr=null,Dt=null;function Gn(e){if(typeof B0=="function"&&j0(e),Dt&&typeof Dt.setStrictMode=="function")try{Dt.setStrictMode(pr,e)}catch{}}var Mt=Math.clz32?Math.clz32:G0,q0=Math.log,V0=Math.LN2;function G0(e){return e>>>=0,e===0?32:31-(q0(e)/V0|0)|0}var Xa=256,Wa=4194304;function Oi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Za(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var u=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var g=l&134217727;return g!==0?(l=g&~f,l!==0?u=Oi(l):(p&=g,p!==0?u=Oi(p):r||(r=g&~e,r!==0&&(u=Oi(r))))):(g=l&~f,g!==0?u=Oi(g):p!==0?u=Oi(p):r||(r=l&~e,r!==0&&(u=Oi(r)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:u}function mr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Y0(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sd(){var e=Xa;return Xa<<=1,(Xa&4194048)===0&&(Xa=256),e}function rd(){var e=Wa;return Wa<<=1,(Wa&62914560)===0&&(Wa=4194304),e}function iu(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function _r(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function F0(e,n,r,l,u,f){var p=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var g=e.entanglements,E=e.expirationTimes,R=e.hiddenUpdates;for(r=p&~r;0<r;){var k=31-Mt(r),L=1<<k;g[k]=0,E[k]=-1;var O=R[k];if(O!==null)for(R[k]=null,k=0;k<O.length;k++){var D=O[k];D!==null&&(D.lane&=-536870913)}r&=~L}l!==0&&ad(e,l,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function ad(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Mt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&4194090}function ld(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-Mt(r),u=1<<l;u&n|e[l]&n&&(e[l]|=n),r&=~u}}function su(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ru(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function od(){var e=N.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function Q0(e,n){var r=N.p;try{return N.p=e,n()}finally{N.p=r}}var Yn=Math.random().toString(36).slice(2),dt="__reactFiber$"+Yn,yt="__reactProps$"+Yn,os="__reactContainer$"+Yn,au="__reactEvents$"+Yn,K0="__reactListeners$"+Yn,X0="__reactHandles$"+Yn,ud="__reactResources$"+Yn,gr="__reactMarker$"+Yn;function lu(e){delete e[dt],delete e[yt],delete e[au],delete e[K0],delete e[X0]}function us(e){var n=e[dt];if(n)return n;for(var r=e.parentNode;r;){if(n=r[os]||r[dt]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=w_(e);e!==null;){if(r=e[dt])return r;e=w_(e)}return n}e=r,r=e.parentNode}return null}function cs(e){if(e=e[dt]||e[os]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function vr(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function fs(e){var n=e[ud];return n||(n=e[ud]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function et(e){e[gr]=!0}var cd=new Set,fd={};function Di(e,n){hs(e,n),hs(e+"Capture",n)}function hs(e,n){for(fd[e]=n,e=0;e<n.length;e++)cd.add(n[e])}var W0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hd={},dd={};function Z0(e){return gn.call(dd,e)?!0:gn.call(hd,e)?!1:W0.test(e)?dd[e]=!0:(hd[e]=!0,!1)}function $a(e,n,r){if(Z0(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Ja(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function vn(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}var ou,pd;function ds(e){if(ou===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);ou=n&&n[1]||"",pd=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ou+e+pd}var uu=!1;function cu(e,n){if(!e||uu)return"";uu=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var L=function(){throw Error()};if(Object.defineProperty(L.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(L,[])}catch(D){var O=D}Reflect.construct(e,[],L)}else{try{L.call()}catch(D){O=D}e.call(L.prototype)}}else{try{throw Error()}catch(D){O=D}(L=e())&&typeof L.catch=="function"&&L.catch(function(){})}}catch(D){if(D&&O&&typeof D.stack=="string")return[D.stack,O.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],g=f[1];if(p&&g){var E=p.split(`
`),R=g.split(`
`);for(u=l=0;l<E.length&&!E[l].includes("DetermineComponentFrameRoot");)l++;for(;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;if(l===E.length||u===R.length)for(l=E.length-1,u=R.length-1;1<=l&&0<=u&&E[l]!==R[u];)u--;for(;1<=l&&0<=u;l--,u--)if(E[l]!==R[u]){if(l!==1||u!==1)do if(l--,u--,0>u||E[l]!==R[u]){var k=`
`+E[l].replace(" at new "," at ");return e.displayName&&k.includes("<anonymous>")&&(k=k.replace("<anonymous>",e.displayName)),k}while(1<=l&&0<=u);break}}}finally{uu=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?ds(r):""}function $0(e){switch(e.tag){case 26:case 27:case 5:return ds(e.type);case 16:return ds("Lazy");case 13:return ds("Suspense");case 19:return ds("SuspenseList");case 0:case 15:return cu(e.type,!1);case 11:return cu(e.type.render,!1);case 1:return cu(e.type,!0);case 31:return ds("Activity");default:return""}}function md(e){try{var n="";do n+=$0(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Bt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _d(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function J0(e){var n=_d(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(p){l=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(p){l=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function el(e){e._valueTracker||(e._valueTracker=J0(e))}function gd(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=_d(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function tl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var eE=/[\n"\\]/g;function jt(e){return e.replace(eE,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function fu(e,n,r,l,u,f,p,g){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Bt(n)):e.value!==""+Bt(n)&&(e.value=""+Bt(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?hu(e,p,Bt(n)):r!=null?hu(e,p,Bt(r)):l!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.name=""+Bt(g):e.removeAttribute("name")}function vd(e,n,r,l,u,f,p,g){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Bt(r):"",n=n!=null?""+Bt(n):r,g||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=g?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p)}function hu(e,n,r){n==="number"&&tl(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function ps(e,n,r,l){if(e=e.options,n){n={};for(var u=0;u<r.length;u++)n["$"+r[u]]=!0;for(r=0;r<e.length;r++)u=n.hasOwnProperty("$"+e[r].value),e[r].selected!==u&&(e[r].selected=u),u&&l&&(e[r].defaultSelected=!0)}else{for(r=""+Bt(r),n=null,u=0;u<e.length;u++){if(e[u].value===r){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function yd(e,n,r){if(n!=null&&(n=""+Bt(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Bt(r):""}function Ed(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(V(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Bt(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l)}function ms(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var tE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Sd(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||tE.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function bd(e,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&r[u]!==l&&Sd(e,u,l)}else for(var f in n)n.hasOwnProperty(f)&&Sd(e,f,n[f])}function du(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),iE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nl(e){return iE.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pu=null;function mu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _s=null,gs=null;function Td(e){var n=cs(e);if(n&&(e=n.stateNode)){var r=e[yt]||null;e:switch(e=n.stateNode,n.type){case"input":if(fu(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+jt(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var u=l[yt]||null;if(!u)throw Error(a(90));fu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&gd(l)}break e;case"textarea":yd(e,r.value,r.defaultValue);break e;case"select":n=r.value,n!=null&&ps(e,!!r.multiple,n,!1)}}}var _u=!1;function Cd(e,n,r){if(_u)return e(n,r);_u=!0;try{var l=e(n);return l}finally{if(_u=!1,(_s!==null||gs!==null)&&(jl(),_s&&(n=_s,e=gs,gs=_s=null,Td(n),e)))for(n=0;n<e.length;n++)Td(e[n])}}function yr(e,n){var r=e.stateNode;if(r===null)return null;var l=r[yt]||null;if(l===null)return null;r=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gu=!1;if(yn)try{var Er={};Object.defineProperty(Er,"passive",{get:function(){gu=!0}}),window.addEventListener("test",Er,Er),window.removeEventListener("test",Er,Er)}catch{gu=!1}var Fn=null,vu=null,il=null;function Ad(){if(il)return il;var e,n=vu,r=n.length,l,u="value"in Fn?Fn.value:Fn.textContent,f=u.length;for(e=0;e<r&&n[e]===u[e];e++);var p=r-e;for(l=1;l<=p&&n[r-l]===u[f-l];l++);return il=u.slice(e,1<l?1-l:void 0)}function sl(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function rl(){return!0}function wd(){return!1}function Et(e){function n(r,l,u,f,p){this._reactName=r,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(r=e[g],this[g]=r?r(f):f[g]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?rl:wd,this.isPropagationStopped=wd,this}return y(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=rl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=rl)},persist:function(){},isPersistent:rl}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},al=Et(Mi),Sr=y({},Mi,{view:0,detail:0}),sE=Et(Sr),yu,Eu,br,ll=y({},Sr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==br&&(br&&e.type==="mousemove"?(yu=e.screenX-br.screenX,Eu=e.screenY-br.screenY):Eu=yu=0,br=e),yu)},movementY:function(e){return"movementY"in e?e.movementY:Eu}}),Rd=Et(ll),rE=y({},ll,{dataTransfer:0}),aE=Et(rE),lE=y({},Sr,{relatedTarget:0}),Su=Et(lE),oE=y({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),uE=Et(oE),cE=y({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fE=Et(cE),hE=y({},Mi,{data:0}),Nd=Et(hE),dE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _E(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mE[e])?!!n[e]:!1}function bu(){return _E}var gE=y({},Sr,{key:function(e){if(e.key){var n=dE[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=sl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pE[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bu,charCode:function(e){return e.type==="keypress"?sl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?sl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vE=Et(gE),yE=y({},ll,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Od=Et(yE),EE=y({},Sr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bu}),SE=Et(EE),bE=y({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),TE=Et(bE),CE=y({},ll,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),AE=Et(CE),wE=y({},Mi,{newState:0,oldState:0}),RE=Et(wE),NE=[9,13,27,32],Tu=yn&&"CompositionEvent"in window,Tr=null;yn&&"documentMode"in document&&(Tr=document.documentMode);var OE=yn&&"TextEvent"in window&&!Tr,Dd=yn&&(!Tu||Tr&&8<Tr&&11>=Tr),Md=" ",Id=!1;function xd(e,n){switch(e){case"keyup":return NE.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var vs=!1;function DE(e,n){switch(e){case"compositionend":return kd(n);case"keypress":return n.which!==32?null:(Id=!0,Md);case"textInput":return e=n.data,e===Md&&Id?null:e;default:return null}}function ME(e,n){if(vs)return e==="compositionend"||!Tu&&xd(e,n)?(e=Ad(),il=vu=Fn=null,vs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Dd&&n.locale!=="ko"?null:n.data;default:return null}}var IE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ud(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!IE[e.type]:n==="textarea"}function Ld(e,n,r,l){_s?gs?gs.push(l):gs=[l]:_s=l,n=Ql(n,"onChange"),0<n.length&&(r=new al("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Cr=null,Ar=null;function xE(e){__(e,0)}function ol(e){var n=vr(e);if(gd(n))return e}function zd(e,n){if(e==="change")return n}var Hd=!1;if(yn){var Cu;if(yn){var Au="oninput"in document;if(!Au){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),Au=typeof Pd.oninput=="function"}Cu=Au}else Cu=!1;Hd=Cu&&(!document.documentMode||9<document.documentMode)}function Bd(){Cr&&(Cr.detachEvent("onpropertychange",jd),Ar=Cr=null)}function jd(e){if(e.propertyName==="value"&&ol(Ar)){var n=[];Ld(n,Ar,e,mu(e)),Cd(xE,n)}}function kE(e,n,r){e==="focusin"?(Bd(),Cr=n,Ar=r,Cr.attachEvent("onpropertychange",jd)):e==="focusout"&&Bd()}function UE(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(Ar)}function LE(e,n){if(e==="click")return ol(n)}function zE(e,n){if(e==="input"||e==="change")return ol(n)}function HE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var It=typeof Object.is=="function"?Object.is:HE;function wr(e,n){if(It(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var u=r[l];if(!gn.call(n,u)||!It(e[u],n[u]))return!1}return!0}function qd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vd(e,n){var r=qd(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=qd(r)}}function Gd(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Gd(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Yd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=tl(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=tl(e.document)}return n}function wu(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var PE=yn&&"documentMode"in document&&11>=document.documentMode,ys=null,Ru=null,Rr=null,Nu=!1;function Fd(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Nu||ys==null||ys!==tl(l)||(l=ys,"selectionStart"in l&&wu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Rr&&wr(Rr,l)||(Rr=l,l=Ql(Ru,"onSelect"),0<l.length&&(n=new al("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=ys)))}function Ii(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Es={animationend:Ii("Animation","AnimationEnd"),animationiteration:Ii("Animation","AnimationIteration"),animationstart:Ii("Animation","AnimationStart"),transitionrun:Ii("Transition","TransitionRun"),transitionstart:Ii("Transition","TransitionStart"),transitioncancel:Ii("Transition","TransitionCancel"),transitionend:Ii("Transition","TransitionEnd")},Ou={},Qd={};yn&&(Qd=document.createElement("div").style,"AnimationEvent"in window||(delete Es.animationend.animation,delete Es.animationiteration.animation,delete Es.animationstart.animation),"TransitionEvent"in window||delete Es.transitionend.transition);function xi(e){if(Ou[e])return Ou[e];if(!Es[e])return e;var n=Es[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Qd)return Ou[e]=n[r];return e}var Kd=xi("animationend"),Xd=xi("animationiteration"),Wd=xi("animationstart"),BE=xi("transitionrun"),jE=xi("transitionstart"),qE=xi("transitioncancel"),Zd=xi("transitionend"),$d=new Map,Du="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Du.push("scrollEnd");function $t(e,n){$d.set(e,n),Di(n,[e])}var Jd=new WeakMap;function qt(e,n){if(typeof e=="object"&&e!==null){var r=Jd.get(e);return r!==void 0?r:(n={value:e,source:n,stack:md(n)},Jd.set(e,n),n)}return{value:e,source:n,stack:md(n)}}var Vt=[],Ss=0,Mu=0;function ul(){for(var e=Ss,n=Mu=Ss=0;n<e;){var r=Vt[n];Vt[n++]=null;var l=Vt[n];Vt[n++]=null;var u=Vt[n];Vt[n++]=null;var f=Vt[n];if(Vt[n++]=null,l!==null&&u!==null){var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}f!==0&&ep(r,u,f)}}function cl(e,n,r,l){Vt[Ss++]=e,Vt[Ss++]=n,Vt[Ss++]=r,Vt[Ss++]=l,Mu|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Iu(e,n,r,l){return cl(e,n,r,l),fl(e)}function bs(e,n){return cl(e,null,null,n),fl(e)}function ep(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var u=!1,f=e.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-Mt(r),e=f.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=r|536870912),f):null}function fl(e){if(50<$r)throw $r=0,Hc=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Ts={};function VE(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,n,r,l){return new VE(e,n,r,l)}function xu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,n){var r=e.alternate;return r===null?(r=xt(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function tp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function hl(e,n,r,l,u,f){var p=0;if(l=e,typeof e=="function")xu(e)&&(p=1);else if(typeof e=="string")p=YS(e,r,G.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ge:return e=xt(31,r,n,u),e.elementType=Ge,e.lanes=f,e;case j:return ki(r.children,u,f,n);case K:p=8,u|=24;break;case te:return e=xt(12,r,n,u|2),e.elementType=te,e.lanes=f,e;case ie:return e=xt(13,r,n,u),e.elementType=ie,e.lanes=f,e;case be:return e=xt(19,r,n,u),e.elementType=be,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ke:case de:p=10;break e;case Oe:p=9;break e;case Ie:p=11;break e;case He:p=14;break e;case Pe:p=16,l=null;break e}p=29,r=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=xt(p,r,n,u),n.elementType=e,n.type=l,n.lanes=f,n}function ki(e,n,r,l){return e=xt(7,e,l,n),e.lanes=r,e}function ku(e,n,r){return e=xt(6,e,null,n),e.lanes=r,e}function Uu(e,n,r){return n=xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cs=[],As=0,dl=null,pl=0,Gt=[],Yt=0,Ui=null,Sn=1,bn="";function Li(e,n){Cs[As++]=pl,Cs[As++]=dl,dl=e,pl=n}function np(e,n,r){Gt[Yt++]=Sn,Gt[Yt++]=bn,Gt[Yt++]=Ui,Ui=e;var l=Sn;e=bn;var u=32-Mt(l)-1;l&=~(1<<u),r+=1;var f=32-Mt(n)+u;if(30<f){var p=u-u%5;f=(l&(1<<p)-1).toString(32),l>>=p,u-=p,Sn=1<<32-Mt(n)+u|r<<u|l,bn=f+e}else Sn=1<<f|r<<u|l,bn=e}function Lu(e){e.return!==null&&(Li(e,1),np(e,1,0))}function zu(e){for(;e===dl;)dl=Cs[--As],Cs[As]=null,pl=Cs[--As],Cs[As]=null;for(;e===Ui;)Ui=Gt[--Yt],Gt[Yt]=null,bn=Gt[--Yt],Gt[Yt]=null,Sn=Gt[--Yt],Gt[Yt]=null}var gt=null,Be=null,_e=!1,zi=null,un=!1,Hu=Error(a(519));function Hi(e){var n=Error(a(418,""));throw Dr(qt(n,e)),Hu}function ip(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[dt]=e,n[yt]=l,r){case"dialog":fe("cancel",n),fe("close",n);break;case"iframe":case"object":case"embed":fe("load",n);break;case"video":case"audio":for(r=0;r<ea.length;r++)fe(ea[r],n);break;case"source":fe("error",n);break;case"img":case"image":case"link":fe("error",n),fe("load",n);break;case"details":fe("toggle",n);break;case"input":fe("invalid",n),vd(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),el(n);break;case"select":fe("invalid",n);break;case"textarea":fe("invalid",n),Ed(n,l.value,l.defaultValue,l.children),el(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||E_(n.textContent,r)?(l.popover!=null&&(fe("beforetoggle",n),fe("toggle",n)),l.onScroll!=null&&fe("scroll",n),l.onScrollEnd!=null&&fe("scrollend",n),l.onClick!=null&&(n.onclick=Kl),n=!0):n=!1,n||Hi(e)}function sp(e){for(gt=e.return;gt;)switch(gt.tag){case 5:case 13:un=!1;return;case 27:case 3:un=!0;return;default:gt=gt.return}}function Nr(e){if(e!==gt)return!1;if(!_e)return sp(e),_e=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||ef(e.type,e.memoizedProps)),r=!r),r&&Be&&Hi(e),sp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Be=en(e.nextSibling);break e}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Be=null}}else n===27?(n=Be,oi(e.type)?(e=rf,rf=null,Be=e):Be=n):Be=gt?en(e.stateNode.nextSibling):null;return!0}function Or(){Be=gt=null,_e=!1}function rp(){var e=zi;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),zi=null),e}function Dr(e){zi===null?zi=[e]:zi.push(e)}var Pu=M(null),Pi=null,Tn=null;function Qn(e,n,r){P(Pu,n._currentValue),n._currentValue=r}function Cn(e){e._currentValue=Pu.current,H(Pu)}function Bu(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function ju(e,n,r,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var p=u.child;f=f.firstContext;e:for(;f!==null;){var g=f;f=u;for(var E=0;E<n.length;E++)if(g.context===n[E]){f.lanes|=r,g=f.alternate,g!==null&&(g.lanes|=r),Bu(f.return,r,e),l||(p=null);break e}f=g.next}}else if(u.tag===18){if(p=u.return,p===null)throw Error(a(341));p.lanes|=r,f=p.alternate,f!==null&&(f.lanes|=r),Bu(p,r,e),p=null}else p=u.child;if(p!==null)p.return=u;else for(p=u;p!==null;){if(p===e){p=null;break}if(u=p.sibling,u!==null){u.return=p.return,p=u;break}p=p.return}u=p}}function Mr(e,n,r,l){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var p=u.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var g=u.type;It(u.pendingProps.value,p.value)||(e!==null?e.push(g):e=[g])}}else if(u===Ye.current){if(p=u.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(aa):e=[aa])}u=u.return}e!==null&&ju(n,e,r,l),n.flags|=262144}function ml(e){for(e=e.firstContext;e!==null;){if(!It(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Bi(e){Pi=e,Tn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function pt(e){return ap(Pi,e)}function _l(e,n){return Pi===null&&Bi(e),ap(e,n)}function ap(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},Tn===null){if(e===null)throw Error(a(308));Tn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Tn=Tn.next=n;return r}var GE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},YE=s.unstable_scheduleCallback,FE=s.unstable_NormalPriority,We={$$typeof:de,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qu(){return{controller:new GE,data:new Map,refCount:0}}function Ir(e){e.refCount--,e.refCount===0&&YE(FE,function(){e.controller.abort()})}var xr=null,Vu=0,ws=0,Rs=null;function QE(e,n){if(xr===null){var r=xr=[];Vu=0,ws=Yc(),Rs={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Vu++,n.then(lp,lp),n}function lp(){if(--Vu===0&&xr!==null){Rs!==null&&(Rs.status="fulfilled");var e=xr;xr=null,ws=0,Rs=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function KE(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(u){r.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<r.length;u++)(0,r[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<r.length;u++)(0,r[u])(void 0)}),l}var op=S.S;S.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&QE(e,n),op!==null&&op(e,n)};var ji=M(null);function Gu(){var e=ji.current;return e!==null?e:De.pooledCache}function gl(e,n){n===null?P(ji,ji.current):P(ji,n.pool)}function up(){var e=Gu();return e===null?null:{parent:We._currentValue,pool:e}}var kr=Error(a(460)),cp=Error(a(474)),vl=Error(a(542)),Yu={then:function(){}};function fp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function yl(){}function hp(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(yl,yl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e;default:if(typeof n.status=="string")n.then(yl,yl);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,pp(e),e}throw Ur=n,kr}}var Ur=null;function dp(){if(Ur===null)throw Error(a(459));var e=Ur;return Ur=null,e}function pp(e){if(e===kr||e===vl)throw Error(a(483))}var Kn=!1;function Fu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qu(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Xn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Wn(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ee&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=fl(e),ep(e,null,r),n}return cl(e,l,n,r),fl(e)}function Lr(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,ld(e,r)}}function Ku(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var u=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var p={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?u=f=p:f=f.next=p,r=r.next}while(r!==null);f===null?u=f=n:f=f.next=n}else u=f=n;r={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Xu=!1;function zr(){if(Xu){var e=Rs;if(e!==null)throw e}}function Hr(e,n,r,l){Xu=!1;var u=e.updateQueue;Kn=!1;var f=u.firstBaseUpdate,p=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var E=g,R=E.next;E.next=null,p===null?f=R:p.next=R,p=E;var k=e.alternate;k!==null&&(k=k.updateQueue,g=k.lastBaseUpdate,g!==p&&(g===null?k.firstBaseUpdate=R:g.next=R,k.lastBaseUpdate=E))}if(f!==null){var L=u.baseState;p=0,k=R=E=null,g=f;do{var O=g.lane&-536870913,D=O!==g.lane;if(D?(pe&O)===O:(l&O)===O){O!==0&&O===ws&&(Xu=!0),k!==null&&(k=k.next={lane:0,tag:g.tag,payload:g.payload,callback:null,next:null});e:{var J=e,W=g;O=n;var Ae=r;switch(W.tag){case 1:if(J=W.payload,typeof J=="function"){L=J.call(Ae,L,O);break e}L=J;break e;case 3:J.flags=J.flags&-65537|128;case 0:if(J=W.payload,O=typeof J=="function"?J.call(Ae,L,O):J,O==null)break e;L=y({},L,O);break e;case 2:Kn=!0}}O=g.callback,O!==null&&(e.flags|=64,D&&(e.flags|=8192),D=u.callbacks,D===null?u.callbacks=[O]:D.push(O))}else D={lane:O,tag:g.tag,payload:g.payload,callback:g.callback,next:null},k===null?(R=k=D,E=L):k=k.next=D,p|=O;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;D=g,g=D.next,D.next=null,u.lastBaseUpdate=D,u.shared.pending=null}}while(!0);k===null&&(E=L),u.baseState=E,u.firstBaseUpdate=R,u.lastBaseUpdate=k,f===null&&(u.shared.lanes=0),si|=p,e.lanes=p,e.memoizedState=L}}function mp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function _p(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)mp(r[e],n)}var Ns=M(null),El=M(0);function gp(e,n){e=Mn,P(El,e),P(Ns,n),Mn=e|n.baseLanes}function Wu(){P(El,Mn),P(Ns,Ns.current)}function Zu(){Mn=El.current,H(Ns),H(El)}var Zn=0,ae=null,Te=null,Ke=null,Sl=!1,Os=!1,qi=!1,bl=0,Pr=0,Ds=null,XE=0;function Fe(){throw Error(a(321))}function $u(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!It(e[r],n[r]))return!1;return!0}function Ju(e,n,r,l,u,f){return Zn=f,ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?em:tm,qi=!1,f=r(l,u),qi=!1,Os&&(f=yp(n,r,l,u)),vp(e),f}function vp(e){S.H=Nl;var n=Te!==null&&Te.next!==null;if(Zn=0,Ke=Te=ae=null,Sl=!1,Pr=0,Ds=null,n)throw Error(a(300));e===null||tt||(e=e.dependencies,e!==null&&ml(e)&&(tt=!0))}function yp(e,n,r,l){ae=e;var u=0;do{if(Os&&(Ds=null),Pr=0,Os=!1,25<=u)throw Error(a(301));if(u+=1,Ke=Te=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=nS,f=n(r,l)}while(Os);return f}function WE(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?Br(n):n,e=e.useState()[0],(Te!==null?Te.memoizedState:null)!==e&&(ae.flags|=1024),n}function ec(){var e=bl!==0;return bl=0,e}function tc(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function nc(e){if(Sl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Sl=!1}Zn=0,Ke=Te=ae=null,Os=!1,Pr=bl=0,Ds=null}function St(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?ae.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function Xe(){if(Te===null){var e=ae.alternate;e=e!==null?e.memoizedState:null}else e=Te.next;var n=Ke===null?ae.memoizedState:Ke.next;if(n!==null)Ke=n,Te=e;else{if(e===null)throw ae.alternate===null?Error(a(467)):Error(a(310));Te=e,e={memoizedState:Te.memoizedState,baseState:Te.baseState,baseQueue:Te.baseQueue,queue:Te.queue,next:null},Ke===null?ae.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function ic(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Br(e){var n=Pr;return Pr+=1,Ds===null&&(Ds=[]),e=hp(Ds,e,n),n=ae,(Ke===null?n.memoizedState:Ke.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?em:tm),e}function Tl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Br(e);if(e.$$typeof===de)return pt(e)}throw Error(a(438,String(e)))}function sc(e){var n=null,r=ae.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=ae.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ic(),ae.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=ye;return n.index++,r}function An(e,n){return typeof n=="function"?n(e):n}function Cl(e){var n=Xe();return rc(n,Te,e)}function rc(e,n,r){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var u=e.baseQueue,f=l.pending;if(f!==null){if(u!==null){var p=u.next;u.next=f.next,f.next=p}n.baseQueue=u=f,l.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var g=p=null,E=null,R=n,k=!1;do{var L=R.lane&-536870913;if(L!==R.lane?(pe&L)===L:(Zn&L)===L){var O=R.revertLane;if(O===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),L===ws&&(k=!0);else if((Zn&O)===O){R=R.next,O===ws&&(k=!0);continue}else L={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(g=E=L,p=f):E=E.next=L,ae.lanes|=O,si|=O;L=R.action,qi&&r(f,L),f=R.hasEagerState?R.eagerState:r(f,L)}else O={lane:L,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(g=E=O,p=f):E=E.next=O,ae.lanes|=L,si|=L;R=R.next}while(R!==null&&R!==n);if(E===null?p=f:E.next=g,!It(f,e.memoizedState)&&(tt=!0,k&&(r=Rs,r!==null)))throw r;e.memoizedState=f,e.baseState=p,e.baseQueue=E,l.lastRenderedState=f}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ac(e){var n=Xe(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=e;var l=r.dispatch,u=r.pending,f=n.memoizedState;if(u!==null){r.pending=null;var p=u=u.next;do f=e(f,p.action),p=p.next;while(p!==u);It(f,n.memoizedState)||(tt=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function Ep(e,n,r){var l=ae,u=Xe(),f=_e;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var p=!It((Te||u).memoizedState,r);p&&(u.memoizedState=r,tt=!0),u=u.queue;var g=Tp.bind(null,l,u,e);if(jr(2048,8,g,[e]),u.getSnapshot!==n||p||Ke!==null&&Ke.memoizedState.tag&1){if(l.flags|=2048,Ms(9,Al(),bp.bind(null,l,u,r,n),null),De===null)throw Error(a(349));f||(Zn&124)!==0||Sp(l,n,r)}return r}function Sp(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=ae.updateQueue,n===null?(n=ic(),ae.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function bp(e,n,r,l){n.value=r,n.getSnapshot=l,Cp(n)&&Ap(e)}function Tp(e,n,r){return r(function(){Cp(n)&&Ap(e)})}function Cp(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!It(e,r)}catch{return!0}}function Ap(e){var n=bs(e,2);n!==null&&Ht(n,e,2)}function lc(e){var n=St();if(typeof e=="function"){var r=e;if(e=r(),qi){Gn(!0);try{r()}finally{Gn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:e},n}function wp(e,n,r,l){return e.baseState=r,rc(e,Te,typeof l=="function"?l:An)}function ZE(e,n,r,l,u){if(Rl(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};S.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,Rp(n,f)):(f.next=r.next,n.pending=r.next=f)}}function Rp(e,n){var r=n.action,l=n.payload,u=e.state;if(n.isTransition){var f=S.T,p={};S.T=p;try{var g=r(u,l),E=S.S;E!==null&&E(p,g),Np(e,n,g)}catch(R){oc(e,n,R)}finally{S.T=f}}else try{f=r(u,l),Np(e,n,f)}catch(R){oc(e,n,R)}}function Np(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Op(e,n,l)},function(l){return oc(e,n,l)}):Op(e,n,r)}function Op(e,n,r){n.status="fulfilled",n.value=r,Dp(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Rp(e,r)))}function oc(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Dp(n),n=n.next;while(n!==l)}e.action=null}function Dp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Mp(e,n){return n}function Ip(e,n){if(_e){var r=De.formState;if(r!==null){e:{var l=ae;if(_e){if(Be){t:{for(var u=Be,f=un;u.nodeType!==8;){if(!f){u=null;break t}if(u=en(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Be=en(u.nextSibling),l=u.data==="F!";break e}}Hi(l)}l=!1}l&&(n=r[0])}}return r=St(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Mp,lastRenderedState:n},r.queue=l,r=Zp.bind(null,ae,l),l.dispatch=r,l=lc(!1),f=dc.bind(null,ae,!1,l.queue),l=St(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,r=ZE.bind(null,ae,u,f,r),u.dispatch=r,l.memoizedState=e,[n,r,!1]}function xp(e){var n=Xe();return kp(n,Te,e)}function kp(e,n,r){if(n=rc(e,n,Mp)[0],e=Cl(An)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Br(n)}catch(p){throw p===kr?vl:p}else l=n;n=Xe();var u=n.queue,f=u.dispatch;return r!==n.memoizedState&&(ae.flags|=2048,Ms(9,Al(),$E.bind(null,u,r),null)),[l,f,e]}function $E(e,n){e.action=n}function Up(e){var n=Xe(),r=Te;if(r!==null)return kp(n,r,e);Xe(),n=n.memoizedState,r=Xe();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function Ms(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=ae.updateQueue,n===null&&(n=ic(),ae.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Al(){return{destroy:void 0,resource:void 0}}function Lp(){return Xe().memoizedState}function wl(e,n,r,l){var u=St();l=l===void 0?null:l,ae.flags|=e,u.memoizedState=Ms(1|n,Al(),r,l)}function jr(e,n,r,l){var u=Xe();l=l===void 0?null:l;var f=u.memoizedState.inst;Te!==null&&l!==null&&$u(l,Te.memoizedState.deps)?u.memoizedState=Ms(n,f,r,l):(ae.flags|=e,u.memoizedState=Ms(1|n,f,r,l))}function zp(e,n){wl(8390656,8,e,n)}function Hp(e,n){jr(2048,8,e,n)}function Pp(e,n){return jr(4,2,e,n)}function Bp(e,n){return jr(4,4,e,n)}function jp(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function qp(e,n,r){r=r!=null?r.concat([e]):null,jr(4,4,jp.bind(null,n,e),r)}function uc(){}function Vp(e,n){var r=Xe();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&$u(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Gp(e,n){var r=Xe();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&$u(n,l[1]))return l[0];if(l=e(),qi){Gn(!0);try{e()}finally{Gn(!1)}}return r.memoizedState=[l,n],l}function cc(e,n,r){return r===void 0||(Zn&1073741824)!==0?e.memoizedState=n:(e.memoizedState=r,e=Qm(),ae.lanes|=e,si|=e,r)}function Yp(e,n,r,l){return It(r,n)?r:Ns.current!==null?(e=cc(e,r,l),It(e,n)||(tt=!0),e):(Zn&42)===0?(tt=!0,e.memoizedState=r):(e=Qm(),ae.lanes|=e,si|=e,n)}function Fp(e,n,r,l,u){var f=N.p;N.p=f!==0&&8>f?f:8;var p=S.T,g={};S.T=g,dc(e,!1,n,r);try{var E=u(),R=S.S;if(R!==null&&R(g,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var k=KE(E,l);qr(e,n,k,zt(e))}else qr(e,n,l,zt(e))}catch(L){qr(e,n,{then:function(){},status:"rejected",reason:L},zt())}finally{N.p=f,S.T=p}}function JE(){}function fc(e,n,r,l){if(e.tag!==5)throw Error(a(476));var u=Qp(e).queue;Fp(e,u,n,I,r===null?JE:function(){return Kp(e),r(l)})}function Qp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:I,baseState:I,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:I},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:An,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Kp(e){var n=Qp(e).next.queue;qr(e,n,{},zt())}function hc(){return pt(aa)}function Xp(){return Xe().memoizedState}function Wp(){return Xe().memoizedState}function eS(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=zt();e=Xn(r);var l=Wn(n,e,r);l!==null&&(Ht(l,n,r),Lr(l,n,r)),n={cache:qu()},e.payload=n;return}n=n.return}}function tS(e,n,r){var l=zt();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},Rl(e)?$p(n,r):(r=Iu(e,n,r,l),r!==null&&(Ht(r,e,l),Jp(r,n,l)))}function Zp(e,n,r){var l=zt();qr(e,n,r,l)}function qr(e,n,r,l){var u={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(Rl(e))$p(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,g=f(p,r);if(u.hasEagerState=!0,u.eagerState=g,It(g,p))return cl(e,n,u,0),De===null&&ul(),!1}catch{}finally{}if(r=Iu(e,n,u,l),r!==null)return Ht(r,e,l),Jp(r,n,l),!0}return!1}function dc(e,n,r,l){if(l={lane:2,revertLane:Yc(),action:l,hasEagerState:!1,eagerState:null,next:null},Rl(e)){if(n)throw Error(a(479))}else n=Iu(e,r,l,2),n!==null&&Ht(n,e,2)}function Rl(e){var n=e.alternate;return e===ae||n!==null&&n===ae}function $p(e,n){Os=Sl=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Jp(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,ld(e,r)}}var Nl={readContext:pt,use:Tl,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useLayoutEffect:Fe,useInsertionEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useSyncExternalStore:Fe,useId:Fe,useHostTransitionStatus:Fe,useFormState:Fe,useActionState:Fe,useOptimistic:Fe,useMemoCache:Fe,useCacheRefresh:Fe},em={readContext:pt,use:Tl,useCallback:function(e,n){return St().memoizedState=[e,n===void 0?null:n],e},useContext:pt,useEffect:zp,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,wl(4194308,4,jp.bind(null,n,e),r)},useLayoutEffect:function(e,n){return wl(4194308,4,e,n)},useInsertionEffect:function(e,n){wl(4,2,e,n)},useMemo:function(e,n){var r=St();n=n===void 0?null:n;var l=e();if(qi){Gn(!0);try{e()}finally{Gn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=St();if(r!==void 0){var u=r(n);if(qi){Gn(!0);try{r(n)}finally{Gn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=tS.bind(null,ae,e),[l.memoizedState,e]},useRef:function(e){var n=St();return e={current:e},n.memoizedState=e},useState:function(e){e=lc(e);var n=e.queue,r=Zp.bind(null,ae,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:uc,useDeferredValue:function(e,n){var r=St();return cc(r,e,n)},useTransition:function(){var e=lc(!1);return e=Fp.bind(null,ae,e.queue,!0,!1),St().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=ae,u=St();if(_e){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),De===null)throw Error(a(349));(pe&124)!==0||Sp(l,n,r)}u.memoizedState=r;var f={value:r,getSnapshot:n};return u.queue=f,zp(Tp.bind(null,l,f,e),[e]),l.flags|=2048,Ms(9,Al(),bp.bind(null,l,f,r,n),null),r},useId:function(){var e=St(),n=De.identifierPrefix;if(_e){var r=bn,l=Sn;r=(l&~(1<<32-Mt(l)-1)).toString(32)+r,n="«"+n+"R"+r,r=bl++,0<r&&(n+="H"+r.toString(32)),n+="»"}else r=XE++,n="«"+n+"r"+r.toString(32)+"»";return e.memoizedState=n},useHostTransitionStatus:hc,useFormState:Ip,useActionState:Ip,useOptimistic:function(e){var n=St();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=dc.bind(null,ae,!0,r),r.dispatch=n,[e,n]},useMemoCache:sc,useCacheRefresh:function(){return St().memoizedState=eS.bind(null,ae)}},tm={readContext:pt,use:Tl,useCallback:Vp,useContext:pt,useEffect:Hp,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:Bp,useMemo:Gp,useReducer:Cl,useRef:Lp,useState:function(){return Cl(An)},useDebugValue:uc,useDeferredValue:function(e,n){var r=Xe();return Yp(r,Te.memoizedState,e,n)},useTransition:function(){var e=Cl(An)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:Br(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:hc,useFormState:xp,useActionState:xp,useOptimistic:function(e,n){var r=Xe();return wp(r,Te,e,n)},useMemoCache:sc,useCacheRefresh:Wp},nS={readContext:pt,use:Tl,useCallback:Vp,useContext:pt,useEffect:Hp,useImperativeHandle:qp,useInsertionEffect:Pp,useLayoutEffect:Bp,useMemo:Gp,useReducer:ac,useRef:Lp,useState:function(){return ac(An)},useDebugValue:uc,useDeferredValue:function(e,n){var r=Xe();return Te===null?cc(r,e,n):Yp(r,Te.memoizedState,e,n)},useTransition:function(){var e=ac(An)[0],n=Xe().memoizedState;return[typeof e=="boolean"?e:Br(e),n]},useSyncExternalStore:Ep,useId:Xp,useHostTransitionStatus:hc,useFormState:Up,useActionState:Up,useOptimistic:function(e,n){var r=Xe();return Te!==null?wp(r,Te,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:sc,useCacheRefresh:Wp},Is=null,Vr=0;function Ol(e){var n=Vr;return Vr+=1,Is===null&&(Is=[]),hp(Is,e,n)}function Gr(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Dl(e,n){throw n.$$typeof===b?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function nm(e){var n=e._init;return n(e._payload)}function im(e){function n(A,C){if(e){var w=A.deletions;w===null?(A.deletions=[C],A.flags|=16):w.push(C)}}function r(A,C){if(!e)return null;for(;C!==null;)n(A,C),C=C.sibling;return null}function l(A){for(var C=new Map;A!==null;)A.key!==null?C.set(A.key,A):C.set(A.index,A),A=A.sibling;return C}function u(A,C){return A=En(A,C),A.index=0,A.sibling=null,A}function f(A,C,w){return A.index=w,e?(w=A.alternate,w!==null?(w=w.index,w<C?(A.flags|=67108866,C):w):(A.flags|=67108866,C)):(A.flags|=1048576,C)}function p(A){return e&&A.alternate===null&&(A.flags|=67108866),A}function g(A,C,w,U){return C===null||C.tag!==6?(C=ku(w,A.mode,U),C.return=A,C):(C=u(C,w),C.return=A,C)}function E(A,C,w,U){var Y=w.type;return Y===j?k(A,C,w.props.children,U,w.key):C!==null&&(C.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Pe&&nm(Y)===C.type)?(C=u(C,w.props),Gr(C,w),C.return=A,C):(C=hl(w.type,w.key,w.props,null,A.mode,U),Gr(C,w),C.return=A,C)}function R(A,C,w,U){return C===null||C.tag!==4||C.stateNode.containerInfo!==w.containerInfo||C.stateNode.implementation!==w.implementation?(C=Uu(w,A.mode,U),C.return=A,C):(C=u(C,w.children||[]),C.return=A,C)}function k(A,C,w,U,Y){return C===null||C.tag!==7?(C=ki(w,A.mode,U,Y),C.return=A,C):(C=u(C,w),C.return=A,C)}function L(A,C,w){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=ku(""+C,A.mode,w),C.return=A,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case T:return w=hl(C.type,C.key,C.props,null,A.mode,w),Gr(w,C),w.return=A,w;case z:return C=Uu(C,A.mode,w),C.return=A,C;case Pe:var U=C._init;return C=U(C._payload),L(A,C,w)}if(V(C)||Le(C))return C=ki(C,A.mode,w,null),C.return=A,C;if(typeof C.then=="function")return L(A,Ol(C),w);if(C.$$typeof===de)return L(A,_l(A,C),w);Dl(A,C)}return null}function O(A,C,w,U){var Y=C!==null?C.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return Y!==null?null:g(A,C,""+w,U);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case T:return w.key===Y?E(A,C,w,U):null;case z:return w.key===Y?R(A,C,w,U):null;case Pe:return Y=w._init,w=Y(w._payload),O(A,C,w,U)}if(V(w)||Le(w))return Y!==null?null:k(A,C,w,U,null);if(typeof w.then=="function")return O(A,C,Ol(w),U);if(w.$$typeof===de)return O(A,C,_l(A,w),U);Dl(A,w)}return null}function D(A,C,w,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return A=A.get(w)||null,g(C,A,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case T:return A=A.get(U.key===null?w:U.key)||null,E(C,A,U,Y);case z:return A=A.get(U.key===null?w:U.key)||null,R(C,A,U,Y);case Pe:var le=U._init;return U=le(U._payload),D(A,C,w,U,Y)}if(V(U)||Le(U))return A=A.get(w)||null,k(C,A,U,Y,null);if(typeof U.then=="function")return D(A,C,w,Ol(U),Y);if(U.$$typeof===de)return D(A,C,w,_l(C,U),Y);Dl(C,U)}return null}function J(A,C,w,U){for(var Y=null,le=null,F=C,Z=C=0,it=null;F!==null&&Z<w.length;Z++){F.index>Z?(it=F,F=null):it=F.sibling;var me=O(A,F,w[Z],U);if(me===null){F===null&&(F=it);break}e&&F&&me.alternate===null&&n(A,F),C=f(me,C,Z),le===null?Y=me:le.sibling=me,le=me,F=it}if(Z===w.length)return r(A,F),_e&&Li(A,Z),Y;if(F===null){for(;Z<w.length;Z++)F=L(A,w[Z],U),F!==null&&(C=f(F,C,Z),le===null?Y=F:le.sibling=F,le=F);return _e&&Li(A,Z),Y}for(F=l(F);Z<w.length;Z++)it=D(F,A,Z,w[Z],U),it!==null&&(e&&it.alternate!==null&&F.delete(it.key===null?Z:it.key),C=f(it,C,Z),le===null?Y=it:le.sibling=it,le=it);return e&&F.forEach(function(di){return n(A,di)}),_e&&Li(A,Z),Y}function W(A,C,w,U){if(w==null)throw Error(a(151));for(var Y=null,le=null,F=C,Z=C=0,it=null,me=w.next();F!==null&&!me.done;Z++,me=w.next()){F.index>Z?(it=F,F=null):it=F.sibling;var di=O(A,F,me.value,U);if(di===null){F===null&&(F=it);break}e&&F&&di.alternate===null&&n(A,F),C=f(di,C,Z),le===null?Y=di:le.sibling=di,le=di,F=it}if(me.done)return r(A,F),_e&&Li(A,Z),Y;if(F===null){for(;!me.done;Z++,me=w.next())me=L(A,me.value,U),me!==null&&(C=f(me,C,Z),le===null?Y=me:le.sibling=me,le=me);return _e&&Li(A,Z),Y}for(F=l(F);!me.done;Z++,me=w.next())me=D(F,A,Z,me.value,U),me!==null&&(e&&me.alternate!==null&&F.delete(me.key===null?Z:me.key),C=f(me,C,Z),le===null?Y=me:le.sibling=me,le=me);return e&&F.forEach(function(ib){return n(A,ib)}),_e&&Li(A,Z),Y}function Ae(A,C,w,U){if(typeof w=="object"&&w!==null&&w.type===j&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case T:e:{for(var Y=w.key;C!==null;){if(C.key===Y){if(Y=w.type,Y===j){if(C.tag===7){r(A,C.sibling),U=u(C,w.props.children),U.return=A,A=U;break e}}else if(C.elementType===Y||typeof Y=="object"&&Y!==null&&Y.$$typeof===Pe&&nm(Y)===C.type){r(A,C.sibling),U=u(C,w.props),Gr(U,w),U.return=A,A=U;break e}r(A,C);break}else n(A,C);C=C.sibling}w.type===j?(U=ki(w.props.children,A.mode,U,w.key),U.return=A,A=U):(U=hl(w.type,w.key,w.props,null,A.mode,U),Gr(U,w),U.return=A,A=U)}return p(A);case z:e:{for(Y=w.key;C!==null;){if(C.key===Y)if(C.tag===4&&C.stateNode.containerInfo===w.containerInfo&&C.stateNode.implementation===w.implementation){r(A,C.sibling),U=u(C,w.children||[]),U.return=A,A=U;break e}else{r(A,C);break}else n(A,C);C=C.sibling}U=Uu(w,A.mode,U),U.return=A,A=U}return p(A);case Pe:return Y=w._init,w=Y(w._payload),Ae(A,C,w,U)}if(V(w))return J(A,C,w,U);if(Le(w)){if(Y=Le(w),typeof Y!="function")throw Error(a(150));return w=Y.call(w),W(A,C,w,U)}if(typeof w.then=="function")return Ae(A,C,Ol(w),U);if(w.$$typeof===de)return Ae(A,C,_l(A,w),U);Dl(A,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,C!==null&&C.tag===6?(r(A,C.sibling),U=u(C,w),U.return=A,A=U):(r(A,C),U=ku(w,A.mode,U),U.return=A,A=U),p(A)):r(A,C)}return function(A,C,w,U){try{Vr=0;var Y=Ae(A,C,w,U);return Is=null,Y}catch(F){if(F===kr||F===vl)throw F;var le=xt(29,F,null,A.mode);return le.lanes=U,le.return=A,le}finally{}}}var xs=im(!0),sm=im(!1),Ft=M(null),cn=null;function $n(e){var n=e.alternate;P(Ze,Ze.current&1),P(Ft,e),cn===null&&(n===null||Ns.current!==null||n.memoizedState!==null)&&(cn=e)}function rm(e){if(e.tag===22){if(P(Ze,Ze.current),P(Ft,e),cn===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(cn=e)}}else Jn()}function Jn(){P(Ze,Ze.current),P(Ft,Ft.current)}function wn(e){H(Ft),cn===e&&(cn=null),H(Ze)}var Ze=M(0);function Ml(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||sf(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function pc(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:y({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var mc={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=zt(),u=Xn(l);u.payload=n,r!=null&&(u.callback=r),n=Wn(e,u,l),n!==null&&(Ht(n,e,l),Lr(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=zt(),u=Xn(l);u.tag=1,u.payload=n,r!=null&&(u.callback=r),n=Wn(e,u,l),n!==null&&(Ht(n,e,l),Lr(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=zt(),l=Xn(r);l.tag=2,n!=null&&(l.callback=n),n=Wn(e,l,r),n!==null&&(Ht(n,e,r),Lr(n,e,r))}};function am(e,n,r,l,u,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!wr(r,l)||!wr(u,f):!0}function lm(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&mc.enqueueReplaceState(n,n.state,null)}function Vi(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=y({},r));for(var u in e)r[u]===void 0&&(r[u]=e[u])}return r}var Il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function om(e){Il(e)}function um(e){console.error(e)}function cm(e){Il(e)}function xl(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function fm(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function _c(e,n,r){return r=Xn(r),r.tag=3,r.payload={element:null},r.callback=function(){xl(e,n)},r}function hm(e){return e=Xn(e),e.tag=3,e}function dm(e,n,r,l){var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;e.payload=function(){return u(f)},e.callback=function(){fm(n,r,l)}}var p=r.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){fm(n,r,l),typeof u!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var g=l.stack;this.componentDidCatch(l.value,{componentStack:g!==null?g:""})})}function iS(e,n,r,l,u){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Mr(n,r,u,!0),r=Ft.current,r!==null){switch(r.tag){case 13:return cn===null?Bc():r.alternate===null&&je===0&&(je=3),r.flags&=-257,r.flags|=65536,r.lanes=u,l===Yu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),qc(e,l,u)),!1;case 22:return r.flags|=65536,l===Yu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),qc(e,l,u)),!1}throw Error(a(435,r.tag))}return qc(e,l,u),Bc(),!1}if(_e)return n=Ft.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Hu&&(e=Error(a(422),{cause:l}),Dr(qt(e,r)))):(l!==Hu&&(n=Error(a(423),{cause:l}),Dr(qt(n,r))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=qt(l,r),u=_c(e.stateNode,l,u),Ku(e,u),je!==4&&(je=2)),!1;var f=Error(a(520),{cause:l});if(f=qt(f,r),Zr===null?Zr=[f]:Zr.push(f),je!==4&&(je=2),n===null)return!0;l=qt(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=u&-u,r.lanes|=e,e=_c(r.stateNode,l,e),Ku(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ri===null||!ri.has(f))))return r.flags|=65536,u&=-u,r.lanes|=u,u=hm(u),dm(u,e,r,l),Ku(r,u),!1}r=r.return}while(r!==null);return!1}var pm=Error(a(461)),tt=!1;function lt(e,n,r,l){n.child=e===null?sm(n,null,r,l):xs(n,e.child,r,l)}function mm(e,n,r,l,u){r=r.render;var f=n.ref;if("ref"in l){var p={};for(var g in l)g!=="ref"&&(p[g]=l[g])}else p=l;return Bi(n),l=Ju(e,n,r,p,f,u),g=ec(),e!==null&&!tt?(tc(e,n,u),Rn(e,n,u)):(_e&&g&&Lu(n),n.flags|=1,lt(e,n,l,u),n.child)}function _m(e,n,r,l,u){if(e===null){var f=r.type;return typeof f=="function"&&!xu(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,gm(e,n,f,l,u)):(e=hl(r.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Cc(e,u)){var p=f.memoizedProps;if(r=r.compare,r=r!==null?r:wr,r(p,l)&&e.ref===n.ref)return Rn(e,n,u)}return n.flags|=1,e=En(f,l),e.ref=n.ref,e.return=n,n.child=e}function gm(e,n,r,l,u){if(e!==null){var f=e.memoizedProps;if(wr(f,l)&&e.ref===n.ref)if(tt=!1,n.pendingProps=l=f,Cc(e,u))(e.flags&131072)!==0&&(tt=!0);else return n.lanes=e.lanes,Rn(e,n,u)}return gc(e,n,r,l,u)}function vm(e,n,r){var l=n.pendingProps,u=l.children,f=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,e!==null){for(u=n.child=e.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return ym(e,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&gl(n,f!==null?f.cachePool:null),f!==null?gp(n,f):Wu(),rm(n);else return n.lanes=n.childLanes=536870912,ym(e,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(gl(n,f.cachePool),gp(n,f),Jn(),n.memoizedState=null):(e!==null&&gl(n,null),Wu(),Jn());return lt(e,n,u,r),n.child}function ym(e,n,r,l){var u=Gu();return u=u===null?null:{parent:We._currentValue,pool:u},n.memoizedState={baseLanes:r,cachePool:u},e!==null&&gl(n,null),Wu(),rm(n),e!==null&&Mr(e,n,l,!0),null}function kl(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function gc(e,n,r,l,u){return Bi(n),r=Ju(e,n,r,l,void 0,u),l=ec(),e!==null&&!tt?(tc(e,n,u),Rn(e,n,u)):(_e&&l&&Lu(n),n.flags|=1,lt(e,n,r,u),n.child)}function Em(e,n,r,l,u,f){return Bi(n),n.updateQueue=null,r=yp(n,l,r,u),vp(e),l=ec(),e!==null&&!tt?(tc(e,n,f),Rn(e,n,f)):(_e&&l&&Lu(n),n.flags|=1,lt(e,n,r,f),n.child)}function Sm(e,n,r,l,u){if(Bi(n),n.stateNode===null){var f=Ts,p=r.contextType;typeof p=="object"&&p!==null&&(f=pt(p)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=mc,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Fu(n),p=r.contextType,f.context=typeof p=="object"&&p!==null?pt(p):Ts,f.state=n.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(pc(n,r,p,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&mc.enqueueReplaceState(f,f.state,null),Hr(n,l,f,u),zr(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var g=n.memoizedProps,E=Vi(r,g);f.props=E;var R=f.context,k=r.contextType;p=Ts,typeof k=="object"&&k!==null&&(p=pt(k));var L=r.getDerivedStateFromProps;k=typeof L=="function"||typeof f.getSnapshotBeforeUpdate=="function",g=n.pendingProps!==g,k||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g||R!==p)&&lm(n,f,l,p),Kn=!1;var O=n.memoizedState;f.state=O,Hr(n,l,f,u),zr(),R=n.memoizedState,g||O!==R||Kn?(typeof L=="function"&&(pc(n,r,L,l),R=n.memoizedState),(E=Kn||am(n,r,E,l,O,R,p))?(k||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=R),f.props=l,f.state=R,f.context=p,l=E):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Qu(e,n),p=n.memoizedProps,k=Vi(r,p),f.props=k,L=n.pendingProps,O=f.context,R=r.contextType,E=Ts,typeof R=="object"&&R!==null&&(E=pt(R)),g=r.getDerivedStateFromProps,(R=typeof g=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==L||O!==E)&&lm(n,f,l,E),Kn=!1,O=n.memoizedState,f.state=O,Hr(n,l,f,u),zr();var D=n.memoizedState;p!==L||O!==D||Kn||e!==null&&e.dependencies!==null&&ml(e.dependencies)?(typeof g=="function"&&(pc(n,r,g,l),D=n.memoizedState),(k=Kn||am(n,r,k,l,O,D,E)||e!==null&&e.dependencies!==null&&ml(e.dependencies))?(R||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,D,E),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,D,E)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=D),f.props=l,f.state=D,f.context=E,l=k):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&O===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,kl(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=xs(n,e.child,null,u),n.child=xs(n,null,r,u)):lt(e,n,r,u),n.memoizedState=f.state,e=n.child):e=Rn(e,n,u),e}function bm(e,n,r,l){return Or(),n.flags|=256,lt(e,n,r,l),n.child}var vc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function yc(e){return{baseLanes:e,cachePool:up()}}function Ec(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Qt),e}function Tm(e,n,r){var l=n.pendingProps,u=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),p&&(u=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(_e){if(u?$n(n):Jn(),_e){var g=Be,E;if(E=g){e:{for(E=g,g=un;E.nodeType!==8;){if(!g){g=null;break e}if(E=en(E.nextSibling),E===null){g=null;break e}}g=E}g!==null?(n.memoizedState={dehydrated:g,treeContext:Ui!==null?{id:Sn,overflow:bn}:null,retryLane:536870912,hydrationErrors:null},E=xt(18,null,null,0),E.stateNode=g,E.return=n,n.child=E,gt=n,Be=null,E=!0):E=!1}E||Hi(n)}if(g=n.memoizedState,g!==null&&(g=g.dehydrated,g!==null))return sf(g)?n.lanes=32:n.lanes=536870912,null;wn(n)}return g=l.children,l=l.fallback,u?(Jn(),u=n.mode,g=Ul({mode:"hidden",children:g},u),l=ki(l,u,r,null),g.return=n,l.return=n,g.sibling=l,n.child=g,u=n.child,u.memoizedState=yc(r),u.childLanes=Ec(e,p,r),n.memoizedState=vc,l):($n(n),Sc(n,g))}if(E=e.memoizedState,E!==null&&(g=E.dehydrated,g!==null)){if(f)n.flags&256?($n(n),n.flags&=-257,n=bc(e,n,r)):n.memoizedState!==null?(Jn(),n.child=e.child,n.flags|=128,n=null):(Jn(),u=l.fallback,g=n.mode,l=Ul({mode:"visible",children:l.children},g),u=ki(u,g,r,null),u.flags|=2,l.return=n,u.return=n,l.sibling=u,n.child=l,xs(n,e.child,null,r),l=n.child,l.memoizedState=yc(r),l.childLanes=Ec(e,p,r),n.memoizedState=vc,n=u);else if($n(n),sf(g)){if(p=g.nextSibling&&g.nextSibling.dataset,p)var R=p.dgst;p=R,l=Error(a(419)),l.stack="",l.digest=p,Dr({value:l,source:null,stack:null}),n=bc(e,n,r)}else if(tt||Mr(e,n,r,!1),p=(r&e.childLanes)!==0,tt||p){if(p=De,p!==null&&(l=r&-r,l=(l&42)!==0?1:su(l),l=(l&(p.suspendedLanes|r))!==0?0:l,l!==0&&l!==E.retryLane))throw E.retryLane=l,bs(e,l),Ht(p,e,l),pm;g.data==="$?"||Bc(),n=bc(e,n,r)}else g.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=E.treeContext,Be=en(g.nextSibling),gt=n,_e=!0,zi=null,un=!1,e!==null&&(Gt[Yt++]=Sn,Gt[Yt++]=bn,Gt[Yt++]=Ui,Sn=e.id,bn=e.overflow,Ui=n),n=Sc(n,l.children),n.flags|=4096);return n}return u?(Jn(),u=l.fallback,g=n.mode,E=e.child,R=E.sibling,l=En(E,{mode:"hidden",children:l.children}),l.subtreeFlags=E.subtreeFlags&65011712,R!==null?u=En(R,u):(u=ki(u,g,r,null),u.flags|=2),u.return=n,l.return=n,l.sibling=u,n.child=l,l=u,u=n.child,g=e.child.memoizedState,g===null?g=yc(r):(E=g.cachePool,E!==null?(R=We._currentValue,E=E.parent!==R?{parent:R,pool:R}:E):E=up(),g={baseLanes:g.baseLanes|r,cachePool:E}),u.memoizedState=g,u.childLanes=Ec(e,p,r),n.memoizedState=vc,l):($n(n),r=e.child,e=r.sibling,r=En(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=r,n.memoizedState=null,r)}function Sc(e,n){return n=Ul({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ul(e,n){return e=xt(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function bc(e,n,r){return xs(n,e.child,null,r),e=Sc(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Cm(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Bu(e.return,n,r)}function Tc(e,n,r,l,u){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:u}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=u)}function Am(e,n,r){var l=n.pendingProps,u=l.revealOrder,f=l.tail;if(lt(e,n,l.children,r),l=Ze.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cm(e,r,n);else if(e.tag===19)Cm(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(P(Ze,l),u){case"forwards":for(r=n.child,u=null;r!==null;)e=r.alternate,e!==null&&Ml(e)===null&&(u=r),r=r.sibling;r=u,r===null?(u=n.child,n.child=null):(u=r.sibling,r.sibling=null),Tc(n,!1,u,r,f);break;case"backwards":for(r=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&Ml(e)===null){n.child=u;break}e=u.sibling,u.sibling=r,r=u,u=e}Tc(n,!0,r,null,f);break;case"together":Tc(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Rn(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),si|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Mr(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,r=En(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=En(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Cc(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ml(e)))}function sS(e,n,r){switch(n.tag){case 3:ve(n,n.stateNode.containerInfo),Qn(n,We,e.memoizedState.cache),Or();break;case 27:case 5:Je(n);break;case 4:ve(n,n.stateNode.containerInfo);break;case 10:Qn(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?($n(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Tm(e,n,r):($n(n),e=Rn(e,n,r),e!==null?e.sibling:null);$n(n);break;case 19:var u=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Mr(e,n,r,!1),l=(r&n.childLanes)!==0),u){if(l)return Am(e,n,r);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),P(Ze,Ze.current),l)break;return null;case 22:case 23:return n.lanes=0,vm(e,n,r);case 24:Qn(n,We,e.memoizedState.cache)}return Rn(e,n,r)}function wm(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)tt=!0;else{if(!Cc(e,r)&&(n.flags&128)===0)return tt=!1,sS(e,n,r);tt=(e.flags&131072)!==0}else tt=!1,_e&&(n.flags&1048576)!==0&&np(n,pl,n.index);switch(n.lanes=0,n.tag){case 16:e:{e=n.pendingProps;var l=n.elementType,u=l._init;if(l=u(l._payload),n.type=l,typeof l=="function")xu(l)?(e=Vi(l,e),n.tag=1,n=Sm(null,n,l,e,r)):(n.tag=0,n=gc(null,n,l,e,r));else{if(l!=null){if(u=l.$$typeof,u===Ie){n.tag=11,n=mm(null,n,l,e,r);break e}else if(u===He){n.tag=14,n=_m(null,n,l,e,r);break e}}throw n=Q(l)||l,Error(a(306,n,""))}}return n;case 0:return gc(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,u=Vi(l,n.pendingProps),Sm(e,n,l,u,r);case 3:e:{if(ve(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;u=f.element,Qu(e,n),Hr(n,l,null,r);var p=n.memoizedState;if(l=p.cache,Qn(n,We,l),l!==f.cache&&ju(n,[We],r,!0),zr(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=bm(e,n,l,r);break e}else if(l!==u){u=qt(Error(a(424)),n),Dr(u),n=bm(e,n,l,r);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Be=en(e.firstChild),gt=n,_e=!0,zi=null,un=!0,r=sm(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Or(),l===u){n=Rn(e,n,r);break e}lt(e,n,l,r)}n=n.child}return n;case 26:return kl(e,n),e===null?(r=D_(n.type,null,n.pendingProps,null))?n.memoizedState=r:_e||(r=n.type,e=n.pendingProps,l=Xl(X.current).createElement(r),l[dt]=n,l[yt]=e,ut(l,r,e),et(l),n.stateNode=l):n.memoizedState=D_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Je(n),e===null&&_e&&(l=n.stateNode=R_(n.type,n.pendingProps,X.current),gt=n,un=!0,u=Be,oi(n.type)?(rf=u,Be=en(l.firstChild)):Be=u),lt(e,n,n.pendingProps.children,r),kl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&_e&&((u=l=Be)&&(l=IS(l,n.type,n.pendingProps,un),l!==null?(n.stateNode=l,gt=n,Be=en(l.firstChild),un=!1,u=!0):u=!1),u||Hi(n)),Je(n),u=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,ef(u,f)?l=null:p!==null&&ef(u,p)&&(n.flags|=32),n.memoizedState!==null&&(u=Ju(e,n,WE,null,null,r),aa._currentValue=u),kl(e,n),lt(e,n,l,r),n.child;case 6:return e===null&&_e&&((e=r=Be)&&(r=xS(r,n.pendingProps,un),r!==null?(n.stateNode=r,gt=n,Be=null,e=!0):e=!1),e||Hi(n)),null;case 13:return Tm(e,n,r);case 4:return ve(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=xs(n,null,l,r):lt(e,n,l,r),n.child;case 11:return mm(e,n,n.type,n.pendingProps,r);case 7:return lt(e,n,n.pendingProps,r),n.child;case 8:return lt(e,n,n.pendingProps.children,r),n.child;case 12:return lt(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,Qn(n,n.type,l.value),lt(e,n,l.children,r),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Bi(n),u=pt(u),l=l(u),n.flags|=1,lt(e,n,l,r),n.child;case 14:return _m(e,n,n.type,n.pendingProps,r);case 15:return gm(e,n,n.type,n.pendingProps,r);case 19:return Am(e,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},e===null?(r=Ul(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=En(e.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return vm(e,n,r);case 24:return Bi(n),l=pt(We),e===null?(u=Gu(),u===null&&(u=De,f=qu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=r),u=f),n.memoizedState={parent:l,cache:u},Fu(n),Qn(n,We,u)):((e.lanes&r)!==0&&(Qu(e,n),Hr(n,null,null,r),zr()),u=e.memoizedState,f=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Qn(n,We,l)):(l=f.cache,Qn(n,We,l),l!==u.cache&&ju(n,[We],r,!0))),lt(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Nn(e){e.flags|=4}function Rm(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!U_(n)){if(n=Ft.current,n!==null&&((pe&4194048)===pe?cn!==null:(pe&62914560)!==pe&&(pe&536870912)===0||n!==cn))throw Ur=Yu,cp;e.flags|=8192}}function Ll(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?rd():536870912,e.lanes|=n,zs|=n)}function Yr(e,n){if(!_e)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ze(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)r|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function rS(e,n,r){var l=n.pendingProps;switch(zu(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(n),null;case 1:return ze(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Cn(We),ht(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Nr(n)?Nn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rp())),ze(n),null;case 26:return r=n.memoizedState,e===null?(Nn(n),r!==null?(ze(n),Rm(n,r)):(ze(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Nn(n),ze(n),Rm(n,r)):(ze(n),n.flags&=-16777217):(e.memoizedProps!==l&&Nn(n),ze(n),n.flags&=-16777217),null;case 27:Ot(n),r=X.current;var u=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Nn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ze(n),null}e=G.current,Nr(n)?ip(n):(e=R_(u,l,r),n.stateNode=e,Nn(n))}return ze(n),null;case 5:if(Ot(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Nn(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ze(n),null}if(e=G.current,Nr(n))ip(n);else{switch(u=Xl(X.current),e){case 1:e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=u.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=u.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?u.createElement(r,{is:l.is}):u.createElement(r)}}e[dt]=n,e[yt]=l;e:for(u=n.child;u!==null;){if(u.tag===5||u.tag===6)e.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===n)break e;for(;u.sibling===null;){if(u.return===null||u.return===n)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}n.stateNode=e;e:switch(ut(e,r,l),r){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Nn(n)}}return ze(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Nn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=X.current,Nr(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,u=gt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[dt]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||E_(e.nodeValue,r)),e||Hi(n)}else e=Xl(e).createTextNode(l),e[dt]=n,n.stateNode=e}return ze(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=Nr(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(a(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(a(317));u[dt]=n}else Or(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ze(n),u=!1}else u=rp(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(wn(n),n):(wn(n),null)}if(wn(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,e=e!==null&&e.memoizedState!==null,r){l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Ll(n,n.updateQueue),ze(n),null;case 4:return ht(),e===null&&Xc(n.stateNode.containerInfo),ze(n),null;case 10:return Cn(n.type),ze(n),null;case 19:if(H(Ze),u=n.memoizedState,u===null)return ze(n),null;if(l=(n.flags&128)!==0,f=u.rendering,f===null)if(l)Yr(u,!1);else{if(je!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ml(e),f!==null){for(n.flags|=128,Yr(u,!1),e=f.updateQueue,n.updateQueue=e,Ll(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)tp(r,e),r=r.sibling;return P(Ze,Ze.current&1|2),n.child}e=e.sibling}u.tail!==null&&on()>Pl&&(n.flags|=128,l=!0,Yr(u,!1),n.lanes=4194304)}else{if(!l)if(e=Ml(f),e!==null){if(n.flags|=128,l=!0,e=e.updateQueue,n.updateQueue=e,Ll(n,e),Yr(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!_e)return ze(n),null}else 2*on()-u.renderingStartTime>Pl&&r!==536870912&&(n.flags|=128,l=!0,Yr(u,!1),n.lanes=4194304);u.isBackwards?(f.sibling=n.child,n.child=f):(e=u.last,e!==null?e.sibling=f:n.child=f,u.last=f)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=on(),n.sibling=null,e=Ze.current,P(Ze,l?e&1|2:e&1),n):(ze(n),null);case 22:case 23:return wn(n),Zu(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ze(n),n.subtreeFlags&6&&(n.flags|=8192)):ze(n),r=n.updateQueue,r!==null&&Ll(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&H(ji),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Cn(We),ze(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function aS(e,n){switch(zu(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Cn(We),ht(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ot(n),null;case 13:if(wn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Or()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return H(Ze),null;case 4:return ht(),null;case 10:return Cn(n.type),null;case 22:case 23:return wn(n),Zu(),e!==null&&H(ji),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Cn(We),null;case 25:return null;default:return null}}function Nm(e,n){switch(zu(n),n.tag){case 3:Cn(We),ht();break;case 26:case 27:case 5:Ot(n);break;case 4:ht();break;case 13:wn(n);break;case 19:H(Ze);break;case 10:Cn(n.type);break;case 22:case 23:wn(n),Zu(),e!==null&&H(ji);break;case 24:Cn(We)}}function Fr(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var u=l.next;r=u;do{if((r.tag&e)===e){l=void 0;var f=r.create,p=r.inst;l=f(),p.destroy=l}r=r.next}while(r!==u)}}catch(g){Re(n,n.return,g)}}function ei(e,n,r){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&e)===e){var p=l.inst,g=p.destroy;if(g!==void 0){p.destroy=void 0,u=n;var E=r,R=g;try{R()}catch(k){Re(u,E,k)}}}l=l.next}while(l!==f)}}catch(k){Re(n,n.return,k)}}function Om(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{_p(n,r)}catch(l){Re(e,e.return,l)}}}function Dm(e,n,r){r.props=Vi(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){Re(e,n,l)}}function Qr(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(u){Re(e,n,u)}}function fn(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(u){Re(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(u){Re(e,n,u)}else r.current=null}function Mm(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break e;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(u){Re(e,e.return,u)}}function Ac(e,n,r){try{var l=e.stateNode;RS(l,e.type,r,n),l[yt]=n}catch(u){Re(e,e.return,u)}}function Im(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&oi(e.type)||e.tag===4}function wc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Im(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&oi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Rc(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Kl));else if(l!==4&&(l===27&&oi(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(Rc(e,n,r),e=e.sibling;e!==null;)Rc(e,n,r),e=e.sibling}function zl(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&oi(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(zl(e,n,r),e=e.sibling;e!==null;)zl(e,n,r),e=e.sibling}function xm(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);ut(n,l,r),n[dt]=e,n[yt]=r}catch(f){Re(e,e.return,f)}}var On=!1,Qe=!1,Nc=!1,km=typeof WeakSet=="function"?WeakSet:Set,nt=null;function lS(e,n){if(e=e.containerInfo,$c=to,e=Yd(e),wu(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break e}var p=0,g=-1,E=-1,R=0,k=0,L=e,O=null;t:for(;;){for(var D;L!==r||u!==0&&L.nodeType!==3||(g=p+u),L!==f||l!==0&&L.nodeType!==3||(E=p+l),L.nodeType===3&&(p+=L.nodeValue.length),(D=L.firstChild)!==null;)O=L,L=D;for(;;){if(L===e)break t;if(O===r&&++R===u&&(g=p),O===f&&++k===l&&(E=p),(D=L.nextSibling)!==null)break;L=O,O=L.parentNode}L=D}r=g===-1||E===-1?null:{start:g,end:E}}else r=null}r=r||{start:0,end:0}}else r=null;for(Jc={focusedElem:e,selectionRange:r},to=!1,nt=n;nt!==null;)if(n=nt,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,nt=e;else for(;nt!==null;){switch(n=nt,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,r=n,u=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var J=Vi(r.type,u,r.elementType===r.type);e=l.getSnapshotBeforeUpdate(J,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(W){Re(r,r.return,W)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)nf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,nt=e;break}nt=n.return}}function Um(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ti(e,r),l&4&&Fr(5,r);break;case 1:if(ti(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(p){Re(r,r.return,p)}else{var u=Vi(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Re(r,r.return,p)}}l&64&&Om(r),l&512&&Qr(r,r.return);break;case 3:if(ti(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{_p(e,n)}catch(p){Re(r,r.return,p)}}break;case 27:n===null&&l&4&&xm(r);case 26:case 5:ti(e,r),n===null&&l&4&&Mm(r),l&512&&Qr(r,r.return);break;case 12:ti(e,r);break;case 13:ti(e,r),l&4&&Hm(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=_S.bind(null,r),kS(e,r))));break;case 22:if(l=r.memoizedState!==null||On,!l){n=n!==null&&n.memoizedState!==null||Qe,u=On;var f=Qe;On=l,(Qe=n)&&!f?ni(e,r,(r.subtreeFlags&8772)!==0):ti(e,r),On=u,Qe=f}break;case 30:break;default:ti(e,r)}}function Lm(e){var n=e.alternate;n!==null&&(e.alternate=null,Lm(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&lu(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ue=null,bt=!1;function Dn(e,n,r){for(r=r.child;r!==null;)zm(e,n,r),r=r.sibling}function zm(e,n,r){if(Dt&&typeof Dt.onCommitFiberUnmount=="function")try{Dt.onCommitFiberUnmount(pr,r)}catch{}switch(r.tag){case 26:Qe||fn(r,n),Dn(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:Qe||fn(r,n);var l=Ue,u=bt;oi(r.type)&&(Ue=r.stateNode,bt=!1),Dn(e,n,r),na(r.stateNode),Ue=l,bt=u;break;case 5:Qe||fn(r,n);case 6:if(l=Ue,u=bt,Ue=null,Dn(e,n,r),Ue=l,bt=u,Ue!==null)if(bt)try{(Ue.nodeType===9?Ue.body:Ue.nodeName==="HTML"?Ue.ownerDocument.body:Ue).removeChild(r.stateNode)}catch(f){Re(r,n,f)}else try{Ue.removeChild(r.stateNode)}catch(f){Re(r,n,f)}break;case 18:Ue!==null&&(bt?(e=Ue,A_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),ca(e)):A_(Ue,r.stateNode));break;case 4:l=Ue,u=bt,Ue=r.stateNode.containerInfo,bt=!0,Dn(e,n,r),Ue=l,bt=u;break;case 0:case 11:case 14:case 15:Qe||ei(2,r,n),Qe||ei(4,r,n),Dn(e,n,r);break;case 1:Qe||(fn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Dm(r,n,l)),Dn(e,n,r);break;case 21:Dn(e,n,r);break;case 22:Qe=(l=Qe)||r.memoizedState!==null,Dn(e,n,r),Qe=l;break;default:Dn(e,n,r)}}function Hm(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ca(e)}catch(r){Re(n,n.return,r)}}function oS(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new km),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new km),n;default:throw Error(a(435,e.tag))}}function Oc(e,n){var r=oS(e);n.forEach(function(l){var u=gS.bind(null,e,l);r.has(l)||(r.add(l),l.then(u,u))})}function kt(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var u=r[l],f=e,p=n,g=p;e:for(;g!==null;){switch(g.tag){case 27:if(oi(g.type)){Ue=g.stateNode,bt=!1;break e}break;case 5:Ue=g.stateNode,bt=!1;break e;case 3:case 4:Ue=g.stateNode.containerInfo,bt=!0;break e}g=g.return}if(Ue===null)throw Error(a(160));zm(f,p,u),Ue=null,bt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Pm(n,e),n=n.sibling}var Jt=null;function Pm(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:kt(n,e),Ut(e),l&4&&(ei(3,e,e.return),Fr(3,e),ei(5,e,e.return));break;case 1:kt(n,e),Ut(e),l&512&&(Qe||r===null||fn(r,r.return)),l&64&&On&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var u=Jt;if(kt(n,e),Ut(e),l&512&&(Qe||r===null||fn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){e:{l=e.type,r=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[gr]||f[dt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),ut(f,l,r),f[dt]=e,et(f),l=f;break e;case"link":var p=x_("link","href",u).get(l+(r.href||""));if(p){for(var g=0;g<p.length;g++)if(f=p[g],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){p.splice(g,1);break t}}f=u.createElement(l),ut(f,l,r),u.head.appendChild(f);break;case"meta":if(p=x_("meta","content",u).get(l+(r.content||""))){for(g=0;g<p.length;g++)if(f=p[g],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){p.splice(g,1);break t}}f=u.createElement(l),ut(f,l,r),u.head.appendChild(f);break;default:throw Error(a(468,l))}f[dt]=e,et(f),l=f}e.stateNode=l}else k_(u,e.type,e.stateNode);else e.stateNode=I_(u,l,e.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?k_(u,e.type,e.stateNode):I_(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&Ac(e,e.memoizedProps,r.memoizedProps)}break;case 27:kt(n,e),Ut(e),l&512&&(Qe||r===null||fn(r,r.return)),r!==null&&l&4&&Ac(e,e.memoizedProps,r.memoizedProps);break;case 5:if(kt(n,e),Ut(e),l&512&&(Qe||r===null||fn(r,r.return)),e.flags&32){u=e.stateNode;try{ms(u,"")}catch(D){Re(e,e.return,D)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,Ac(e,u,r!==null?r.memoizedProps:u)),l&1024&&(Nc=!0);break;case 6:if(kt(n,e),Ut(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(D){Re(e,e.return,D)}}break;case 3:if($l=null,u=Jt,Jt=Wl(n.containerInfo),kt(n,e),Jt=u,Ut(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{ca(n.containerInfo)}catch(D){Re(e,e.return,D)}Nc&&(Nc=!1,Bm(e));break;case 4:l=Jt,Jt=Wl(e.stateNode.containerInfo),kt(n,e),Ut(e),Jt=l;break;case 12:kt(n,e),Ut(e);break;case 13:kt(n,e),Ut(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(Uc=on()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 22:u=e.memoizedState!==null;var E=r!==null&&r.memoizedState!==null,R=On,k=Qe;if(On=R||u,Qe=k||E,kt(n,e),Qe=k,On=R,Ut(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(r===null||E||On||Qe||Gi(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){E=r=n;try{if(f=E.stateNode,u)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{g=E.stateNode;var L=E.memoizedProps.style,O=L!=null&&L.hasOwnProperty("display")?L.display:null;g.style.display=O==null||typeof O=="boolean"?"":(""+O).trim()}}catch(D){Re(E,E.return,D)}}}else if(n.tag===6){if(r===null){E=n;try{E.stateNode.nodeValue=u?"":E.memoizedProps}catch(D){Re(E,E.return,D)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Oc(e,r))));break;case 19:kt(n,e),Ut(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Oc(e,l)));break;case 30:break;case 21:break;default:kt(n,e),Ut(e)}}function Ut(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(Im(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var u=r.stateNode,f=wc(e);zl(e,f,u);break;case 5:var p=r.stateNode;r.flags&32&&(ms(p,""),r.flags&=-33);var g=wc(e);zl(e,g,p);break;case 3:case 4:var E=r.stateNode.containerInfo,R=wc(e);Rc(e,R,E);break;default:throw Error(a(161))}}catch(k){Re(e,e.return,k)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Bm(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ti(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Um(e,n.alternate,n),n=n.sibling}function Gi(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ei(4,n,n.return),Gi(n);break;case 1:fn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Dm(n,n.return,r),Gi(n);break;case 27:na(n.stateNode);case 26:case 5:fn(n,n.return),Gi(n);break;case 22:n.memoizedState===null&&Gi(n);break;case 30:Gi(n);break;default:Gi(n)}e=e.sibling}}function ni(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:ni(u,f,r),Fr(4,f);break;case 1:if(ni(u,f,r),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(R){Re(l,l.return,R)}if(l=f,u=l.updateQueue,u!==null){var g=l.stateNode;try{var E=u.shared.hiddenCallbacks;if(E!==null)for(u.shared.hiddenCallbacks=null,u=0;u<E.length;u++)mp(E[u],g)}catch(R){Re(l,l.return,R)}}r&&p&64&&Om(f),Qr(f,f.return);break;case 27:xm(f);case 26:case 5:ni(u,f,r),r&&l===null&&p&4&&Mm(f),Qr(f,f.return);break;case 12:ni(u,f,r);break;case 13:ni(u,f,r),r&&p&4&&Hm(u,f);break;case 22:f.memoizedState===null&&ni(u,f,r),Qr(f,f.return);break;case 30:break;default:ni(u,f,r)}n=n.sibling}}function Dc(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&Ir(r))}function Mc(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ir(e))}function hn(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)jm(e,n,r,l),n=n.sibling}function jm(e,n,r,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:hn(e,n,r,l),u&2048&&Fr(9,n);break;case 1:hn(e,n,r,l);break;case 3:hn(e,n,r,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ir(e)));break;case 12:if(u&2048){hn(e,n,r,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,g=f.onPostCommit;typeof g=="function"&&g(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){Re(n,n.return,E)}}else hn(e,n,r,l);break;case 13:hn(e,n,r,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?hn(e,n,r,l):Kr(e,n):f._visibility&2?hn(e,n,r,l):(f._visibility|=2,ks(e,n,r,l,(n.subtreeFlags&10256)!==0)),u&2048&&Dc(p,n);break;case 24:hn(e,n,r,l),u&2048&&Mc(n.alternate,n);break;default:hn(e,n,r,l)}}function ks(e,n,r,l,u){for(u=u&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,p=n,g=r,E=l,R=p.flags;switch(p.tag){case 0:case 11:case 15:ks(f,p,g,E,u),Fr(8,p);break;case 23:break;case 22:var k=p.stateNode;p.memoizedState!==null?k._visibility&2?ks(f,p,g,E,u):Kr(f,p):(k._visibility|=2,ks(f,p,g,E,u)),u&&R&2048&&Dc(p.alternate,p);break;case 24:ks(f,p,g,E,u),u&&R&2048&&Mc(p.alternate,p);break;default:ks(f,p,g,E,u)}n=n.sibling}}function Kr(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,u=l.flags;switch(l.tag){case 22:Kr(r,l),u&2048&&Dc(l.alternate,l);break;case 24:Kr(r,l),u&2048&&Mc(l.alternate,l);break;default:Kr(r,l)}n=n.sibling}}var Xr=8192;function Us(e){if(e.subtreeFlags&Xr)for(e=e.child;e!==null;)qm(e),e=e.sibling}function qm(e){switch(e.tag){case 26:Us(e),e.flags&Xr&&e.memoizedState!==null&&QS(Jt,e.memoizedState,e.memoizedProps);break;case 5:Us(e);break;case 3:case 4:var n=Jt;Jt=Wl(e.stateNode.containerInfo),Us(e),Jt=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Xr,Xr=16777216,Us(e),Xr=n):Us(e));break;default:Us(e)}}function Vm(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Wr(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nt=l,Ym(l,e)}Vm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Gm(e),e=e.sibling}function Gm(e){switch(e.tag){case 0:case 11:case 15:Wr(e),e.flags&2048&&ei(9,e,e.return);break;case 3:Wr(e);break;case 12:Wr(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Hl(e)):Wr(e);break;default:Wr(e)}}function Hl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];nt=l,Ym(l,e)}Vm(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ei(8,n,n.return),Hl(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Hl(n));break;default:Hl(n)}e=e.sibling}}function Ym(e,n){for(;nt!==null;){var r=nt;switch(r.tag){case 0:case 11:case 15:ei(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ir(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,nt=l;else e:for(r=e;nt!==null;){l=nt;var u=l.sibling,f=l.return;if(Lm(l),l===r){nt=null;break e}if(u!==null){u.return=f,nt=u;break e}nt=f}}}var uS={getCacheForType:function(e){var n=pt(We),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},cS=typeof WeakMap=="function"?WeakMap:Map,Ee=0,De=null,ce=null,pe=0,Se=0,Lt=null,ii=!1,Ls=!1,Ic=!1,Mn=0,je=0,si=0,Yi=0,xc=0,Qt=0,zs=0,Zr=null,Tt=null,kc=!1,Uc=0,Pl=1/0,Bl=null,ri=null,ot=0,ai=null,Hs=null,Ps=0,Lc=0,zc=null,Fm=null,$r=0,Hc=null;function zt(){if((Ee&2)!==0&&pe!==0)return pe&-pe;if(S.T!==null){var e=ws;return e!==0?e:Yc()}return od()}function Qm(){Qt===0&&(Qt=(pe&536870912)===0||_e?sd():536870912);var e=Ft.current;return e!==null&&(e.flags|=32),Qt}function Ht(e,n,r){(e===De&&(Se===2||Se===9)||e.cancelPendingCommit!==null)&&(Bs(e,0),li(e,pe,Qt,!1)),_r(e,r),((Ee&2)===0||e!==De)&&(e===De&&((Ee&2)===0&&(Yi|=r),je===4&&li(e,pe,Qt,!1)),dn(e))}function Km(e,n,r){if((Ee&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&e.expiredLanes)===0||mr(e,n),u=l?dS(e,n):jc(e,n,!0),f=l;do{if(u===0){Ls&&!l&&li(e,n,0,!1);break}else{if(r=e.current.alternate,f&&!fS(r)){u=jc(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;e:{var g=e;u=Zr;var E=g.current.memoizedState.isDehydrated;if(E&&(Bs(g,p).flags|=256),p=jc(g,p,!1),p!==2){if(Ic&&!E){g.errorRecoveryDisabledLanes|=f,Yi|=f,u=4;break e}f=Tt,Tt=u,f!==null&&(Tt===null?Tt=f:Tt.push.apply(Tt,f))}u=p}if(f=!1,u!==2)continue}}if(u===1){Bs(e,0),li(e,n,0,!0);break}e:{switch(l=e,f=u,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:li(l,n,Qt,!ii);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(u=Uc+300-on(),10<u)){if(li(l,n,Qt,!ii),Za(l,0,!0)!==0)break e;l.timeoutHandle=T_(Xm.bind(null,l,r,Tt,Bl,kc,n,Qt,Yi,zs,ii,f,2,-0,0),u);break e}Xm(l,r,Tt,Bl,kc,n,Qt,Yi,zs,ii,f,0,-0,0)}}break}while(!0);dn(e)}function Xm(e,n,r,l,u,f,p,g,E,R,k,L,O,D){if(e.timeoutHandle=-1,L=n.subtreeFlags,(L&8192||(L&16785408)===16785408)&&(ra={stylesheets:null,count:0,unsuspend:FS},qm(n),L=KS(),L!==null)){e.cancelPendingCommit=L(n_.bind(null,e,n,f,r,l,u,p,g,E,k,1,O,D)),li(e,f,p,!R);return}n_(e,n,f,r,l,u,p,g,E)}function fS(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var u=r[l],f=u.getSnapshot;u=u.value;try{if(!It(f(),u))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function li(e,n,r,l){n&=~xc,n&=~Yi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var f=31-Mt(u),p=1<<f;l[f]=-1,u&=~p}r!==0&&ad(e,r,n)}function jl(){return(Ee&6)===0?(Jr(0),!1):!0}function Pc(){if(ce!==null){if(Se===0)var e=ce.return;else e=ce,Tn=Pi=null,nc(e),Is=null,Vr=0,e=ce;for(;e!==null;)Nm(e.alternate,e),e=e.return;ce=null}}function Bs(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,OS(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),Pc(),De=e,ce=r=En(e.current,null),pe=n,Se=0,Lt=null,ii=!1,Ls=mr(e,n),Ic=!1,zs=Qt=xc=Yi=si=je=0,Tt=Zr=null,kc=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-Mt(l),f=1<<u;n|=e[u],l&=~f}return Mn=n,ul(),r}function Wm(e,n){ae=null,S.H=Nl,n===kr||n===vl?(n=dp(),Se=3):n===cp?(n=dp(),Se=4):Se=n===pm?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Lt=n,ce===null&&(je=1,xl(e,qt(n,e.current)))}function Zm(){var e=S.H;return S.H=Nl,e===null?Nl:e}function $m(){var e=S.A;return S.A=uS,e}function Bc(){je=4,ii||(pe&4194048)!==pe&&Ft.current!==null||(Ls=!0),(si&134217727)===0&&(Yi&134217727)===0||De===null||li(De,pe,Qt,!1)}function jc(e,n,r){var l=Ee;Ee|=2;var u=Zm(),f=$m();(De!==e||pe!==n)&&(Bl=null,Bs(e,n)),n=!1;var p=je;e:do try{if(Se!==0&&ce!==null){var g=ce,E=Lt;switch(Se){case 8:Pc(),p=6;break e;case 3:case 2:case 9:case 6:Ft.current===null&&(n=!0);var R=Se;if(Se=0,Lt=null,js(e,g,E,R),r&&Ls){p=0;break e}break;default:R=Se,Se=0,Lt=null,js(e,g,E,R)}}hS(),p=je;break}catch(k){Wm(e,k)}while(!0);return n&&e.shellSuspendCounter++,Tn=Pi=null,Ee=l,S.H=u,S.A=f,ce===null&&(De=null,pe=0,ul()),p}function hS(){for(;ce!==null;)Jm(ce)}function dS(e,n){var r=Ee;Ee|=2;var l=Zm(),u=$m();De!==e||pe!==n?(Bl=null,Pl=on()+500,Bs(e,n)):Ls=mr(e,n);e:do try{if(Se!==0&&ce!==null){n=ce;var f=Lt;t:switch(Se){case 1:Se=0,Lt=null,js(e,n,f,1);break;case 2:case 9:if(fp(f)){Se=0,Lt=null,e_(n);break}n=function(){Se!==2&&Se!==9||De!==e||(Se=7),dn(e)},f.then(n,n);break e;case 3:Se=7;break e;case 4:Se=5;break e;case 7:fp(f)?(Se=0,Lt=null,e_(n)):(Se=0,Lt=null,js(e,n,f,7));break;case 5:var p=null;switch(ce.tag){case 26:p=ce.memoizedState;case 5:case 27:var g=ce;if(!p||U_(p)){Se=0,Lt=null;var E=g.sibling;if(E!==null)ce=E;else{var R=g.return;R!==null?(ce=R,ql(R)):ce=null}break t}}Se=0,Lt=null,js(e,n,f,5);break;case 6:Se=0,Lt=null,js(e,n,f,6);break;case 8:Pc(),je=6;break e;default:throw Error(a(462))}}pS();break}catch(k){Wm(e,k)}while(!0);return Tn=Pi=null,S.H=l,S.A=u,Ee=r,ce!==null?0:(De=null,pe=0,ul(),je)}function pS(){for(;ce!==null&&!L0();)Jm(ce)}function Jm(e){var n=wm(e.alternate,e,Mn);e.memoizedProps=e.pendingProps,n===null?ql(e):ce=n}function e_(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=Em(r,n,n.pendingProps,n.type,void 0,pe);break;case 11:n=Em(r,n,n.pendingProps,n.type.render,n.ref,pe);break;case 5:nc(n);default:Nm(r,n),n=ce=tp(n,Mn),n=wm(r,n,Mn)}e.memoizedProps=e.pendingProps,n===null?ql(e):ce=n}function js(e,n,r,l){Tn=Pi=null,nc(n),Is=null,Vr=0;var u=n.return;try{if(iS(e,u,n,r,pe)){je=1,xl(e,qt(r,e.current)),ce=null;return}}catch(f){if(u!==null)throw ce=u,f;je=1,xl(e,qt(r,e.current)),ce=null;return}n.flags&32768?(_e||l===1?e=!0:Ls||(pe&536870912)!==0?e=!1:(ii=e=!0,(l===2||l===9||l===3||l===6)&&(l=Ft.current,l!==null&&l.tag===13&&(l.flags|=16384))),t_(n,e)):ql(n)}function ql(e){var n=e;do{if((n.flags&32768)!==0){t_(n,ii);return}e=n.return;var r=rS(n.alternate,n,Mn);if(r!==null){ce=r;return}if(n=n.sibling,n!==null){ce=n;return}ce=n=e}while(n!==null);je===0&&(je=5)}function t_(e,n){do{var r=aS(e.alternate,e);if(r!==null){r.flags&=32767,ce=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){ce=e;return}ce=e=r}while(e!==null);je=6,ce=null}function n_(e,n,r,l,u,f,p,g,E){e.cancelPendingCommit=null;do Vl();while(ot!==0);if((Ee&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Mu,F0(e,r,f,p,g,E),e===De&&(ce=De=null,pe=0),Hs=n,ai=e,Ps=r,Lc=f,zc=u,Fm=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vS(Ka,function(){return l_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=S.T,S.T=null,u=N.p,N.p=2,p=Ee,Ee|=4;try{lS(e,n,r)}finally{Ee=p,N.p=u,S.T=l}}ot=1,i_(),s_(),r_()}}function i_(){if(ot===1){ot=0;var e=ai,n=Hs,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=S.T,S.T=null;var l=N.p;N.p=2;var u=Ee;Ee|=4;try{Pm(n,e);var f=Jc,p=Yd(e.containerInfo),g=f.focusedElem,E=f.selectionRange;if(p!==g&&g&&g.ownerDocument&&Gd(g.ownerDocument.documentElement,g)){if(E!==null&&wu(g)){var R=E.start,k=E.end;if(k===void 0&&(k=R),"selectionStart"in g)g.selectionStart=R,g.selectionEnd=Math.min(k,g.value.length);else{var L=g.ownerDocument||document,O=L&&L.defaultView||window;if(O.getSelection){var D=O.getSelection(),J=g.textContent.length,W=Math.min(E.start,J),Ae=E.end===void 0?W:Math.min(E.end,J);!D.extend&&W>Ae&&(p=Ae,Ae=W,W=p);var A=Vd(g,W),C=Vd(g,Ae);if(A&&C&&(D.rangeCount!==1||D.anchorNode!==A.node||D.anchorOffset!==A.offset||D.focusNode!==C.node||D.focusOffset!==C.offset)){var w=L.createRange();w.setStart(A.node,A.offset),D.removeAllRanges(),W>Ae?(D.addRange(w),D.extend(C.node,C.offset)):(w.setEnd(C.node,C.offset),D.addRange(w))}}}}for(L=[],D=g;D=D.parentNode;)D.nodeType===1&&L.push({element:D,left:D.scrollLeft,top:D.scrollTop});for(typeof g.focus=="function"&&g.focus(),g=0;g<L.length;g++){var U=L[g];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}to=!!$c,Jc=$c=null}finally{Ee=u,N.p=l,S.T=r}}e.current=n,ot=2}}function s_(){if(ot===2){ot=0;var e=ai,n=Hs,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=S.T,S.T=null;var l=N.p;N.p=2;var u=Ee;Ee|=4;try{Um(e,n.alternate,n)}finally{Ee=u,N.p=l,S.T=r}}ot=3}}function r_(){if(ot===4||ot===3){ot=0,z0();var e=ai,n=Hs,r=Ps,l=Fm;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ot=5:(ot=0,Hs=ai=null,a_(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ri=null),ru(r),n=n.stateNode,Dt&&typeof Dt.onCommitFiberRoot=="function")try{Dt.onCommitFiberRoot(pr,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=S.T,u=N.p,N.p=2,S.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var g=l[p];f(g.value,{componentStack:g.stack})}}finally{S.T=n,N.p=u}}(Ps&3)!==0&&Vl(),dn(e),u=e.pendingLanes,(r&4194090)!==0&&(u&42)!==0?e===Hc?$r++:($r=0,Hc=e):$r=0,Jr(0)}}function a_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ir(n)))}function Vl(e){return i_(),s_(),r_(),l_()}function l_(){if(ot!==5)return!1;var e=ai,n=Lc;Lc=0;var r=ru(Ps),l=S.T,u=N.p;try{N.p=32>r?32:r,S.T=null,r=zc,zc=null;var f=ai,p=Ps;if(ot=0,Hs=ai=null,Ps=0,(Ee&6)!==0)throw Error(a(331));var g=Ee;if(Ee|=4,Gm(f.current),jm(f,f.current,p,r),Ee=g,Jr(0,!1),Dt&&typeof Dt.onPostCommitFiberRoot=="function")try{Dt.onPostCommitFiberRoot(pr,f)}catch{}return!0}finally{N.p=u,S.T=l,a_(e,n)}}function o_(e,n,r){n=qt(r,n),n=_c(e.stateNode,n,2),e=Wn(e,n,2),e!==null&&(_r(e,2),dn(e))}function Re(e,n,r){if(e.tag===3)o_(e,e,r);else for(;n!==null;){if(n.tag===3){o_(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ri===null||!ri.has(l))){e=qt(r,e),r=hm(2),l=Wn(n,r,2),l!==null&&(dm(r,l,n,e),_r(l,2),dn(l));break}}n=n.return}}function qc(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new cS;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(r)||(Ic=!0,u.add(r),e=mS.bind(null,e,n,r),n.then(e,e))}function mS(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,De===e&&(pe&r)===r&&(je===4||je===3&&(pe&62914560)===pe&&300>on()-Uc?(Ee&2)===0&&Bs(e,0):xc|=r,zs===pe&&(zs=0)),dn(e)}function u_(e,n){n===0&&(n=rd()),e=bs(e,n),e!==null&&(_r(e,n),dn(e))}function _S(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),u_(e,r)}function gS(e,n){var r=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(r=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),u_(e,r)}function vS(e,n){return Vn(e,n)}var Gl=null,qs=null,Vc=!1,Yl=!1,Gc=!1,Fi=0;function dn(e){e!==qs&&e.next===null&&(qs===null?Gl=qs=e:qs=qs.next=e),Yl=!0,Vc||(Vc=!0,ES())}function Jr(e,n){if(!Gc&&Yl){Gc=!0;do for(var r=!1,l=Gl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var p=l.suspendedLanes,g=l.pingedLanes;f=(1<<31-Mt(42|e)+1)-1,f&=u&~(p&~g),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,d_(l,f))}else f=pe,f=Za(l,l===De?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||mr(l,f)||(r=!0,d_(l,f));l=l.next}while(r);Gc=!1}}function yS(){c_()}function c_(){Yl=Vc=!1;var e=0;Fi!==0&&(NS()&&(e=Fi),Fi=0);for(var n=on(),r=null,l=Gl;l!==null;){var u=l.next,f=f_(l,n);f===0?(l.next=null,r===null?Gl=u:r.next=u,u===null&&(qs=r)):(r=l,(e!==0||(f&3)!==0)&&(Yl=!0)),l=u}Jr(e)}function f_(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Mt(f),g=1<<p,E=u[p];E===-1?((g&r)===0||(g&l)!==0)&&(u[p]=Y0(g,n)):E<=n&&(e.expiredLanes|=g),f&=~g}if(n=De,r=pe,r=Za(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Se===2||Se===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&nu(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||mr(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&nu(l),ru(r)){case 2:case 8:r=nd;break;case 32:r=Ka;break;case 268435456:r=id;break;default:r=Ka}return l=h_.bind(null,e),r=Vn(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&nu(l),e.callbackPriority=2,e.callbackNode=null,2}function h_(e,n){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(Vl()&&e.callbackNode!==r)return null;var l=pe;return l=Za(e,e===De?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Km(e,l,n),f_(e,on()),e.callbackNode!=null&&e.callbackNode===r?h_.bind(null,e):null)}function d_(e,n){if(Vl())return null;Km(e,n,!0)}function ES(){DS(function(){(Ee&6)!==0?Vn(td,yS):c_()})}function Yc(){return Fi===0&&(Fi=sd()),Fi}function p_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:nl(""+e)}function m_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function SS(e,n,r,l,u){if(n==="submit"&&r&&r.stateNode===u){var f=p_((u[yt]||null).action),p=l.submitter;p&&(n=(n=p[yt]||null)?p_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var g=new al("action","action",null,l,u);e.push({event:g,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fi!==0){var E=p?m_(u,p):new FormData(u);fc(r,{pending:!0,data:E,method:u.method,action:f},null,E)}}else typeof f=="function"&&(g.preventDefault(),E=p?m_(u,p):new FormData(u),fc(r,{pending:!0,data:E,method:u.method,action:f},f,E))},currentTarget:u}]})}}for(var Fc=0;Fc<Du.length;Fc++){var Qc=Du[Fc],bS=Qc.toLowerCase(),TS=Qc[0].toUpperCase()+Qc.slice(1);$t(bS,"on"+TS)}$t(Kd,"onAnimationEnd"),$t(Xd,"onAnimationIteration"),$t(Wd,"onAnimationStart"),$t("dblclick","onDoubleClick"),$t("focusin","onFocus"),$t("focusout","onBlur"),$t(BE,"onTransitionRun"),$t(jE,"onTransitionStart"),$t(qE,"onTransitionCancel"),$t(Zd,"onTransitionEnd"),hs("onMouseEnter",["mouseout","mouseover"]),hs("onMouseLeave",["mouseout","mouseover"]),hs("onPointerEnter",["pointerout","pointerover"]),hs("onPointerLeave",["pointerout","pointerover"]),Di("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Di("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Di("onBeforeInput",["compositionend","keypress","textInput","paste"]),Di("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Di("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ea="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),CS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ea));function __(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],u=l.event;l=l.listeners;e:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var g=l[p],E=g.instance,R=g.currentTarget;if(g=g.listener,E!==f&&u.isPropagationStopped())break e;f=g,u.currentTarget=R;try{f(u)}catch(k){Il(k)}u.currentTarget=null,f=E}else for(p=0;p<l.length;p++){if(g=l[p],E=g.instance,R=g.currentTarget,g=g.listener,E!==f&&u.isPropagationStopped())break e;f=g,u.currentTarget=R;try{f(u)}catch(k){Il(k)}u.currentTarget=null,f=E}}}}function fe(e,n){var r=n[au];r===void 0&&(r=n[au]=new Set);var l=e+"__bubble";r.has(l)||(g_(n,e,2,!1),r.add(l))}function Kc(e,n,r){var l=0;n&&(l|=4),g_(r,e,l,n)}var Fl="_reactListening"+Math.random().toString(36).slice(2);function Xc(e){if(!e[Fl]){e[Fl]=!0,cd.forEach(function(r){r!=="selectionchange"&&(CS.has(r)||Kc(r,!1,e),Kc(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Fl]||(n[Fl]=!0,Kc("selectionchange",!1,n))}}function g_(e,n,r,l){switch(j_(n)){case 2:var u=ZS;break;case 8:u=$S;break;default:u=cf}r=u.bind(null,n,r,e),u=void 0,!gu||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,r,{capture:!0,passive:u}):e.addEventListener(n,r,!0):u!==void 0?e.addEventListener(n,r,{passive:u}):e.addEventListener(n,r,!1)}function Wc(e,n,r,l,u){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var g=l.stateNode.containerInfo;if(g===u)break;if(p===4)for(p=l.return;p!==null;){var E=p.tag;if((E===3||E===4)&&p.stateNode.containerInfo===u)return;p=p.return}for(;g!==null;){if(p=us(g),p===null)return;if(E=p.tag,E===5||E===6||E===26||E===27){l=f=p;continue e}g=g.parentNode}}l=l.return}Cd(function(){var R=f,k=mu(r),L=[];e:{var O=$d.get(e);if(O!==void 0){var D=al,J=e;switch(e){case"keypress":if(sl(r)===0)break e;case"keydown":case"keyup":D=vE;break;case"focusin":J="focus",D=Su;break;case"focusout":J="blur",D=Su;break;case"beforeblur":case"afterblur":D=Su;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=Rd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=aE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=SE;break;case Kd:case Xd:case Wd:D=uE;break;case Zd:D=TE;break;case"scroll":case"scrollend":D=sE;break;case"wheel":D=AE;break;case"copy":case"cut":case"paste":D=fE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Od;break;case"toggle":case"beforetoggle":D=RE}var W=(n&4)!==0,Ae=!W&&(e==="scroll"||e==="scrollend"),A=W?O!==null?O+"Capture":null:O;W=[];for(var C=R,w;C!==null;){var U=C;if(w=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||w===null||A===null||(U=yr(C,A),U!=null&&W.push(ta(C,U,w))),Ae)break;C=C.return}0<W.length&&(O=new D(O,J,null,r,k),L.push({event:O,listeners:W}))}}if((n&7)===0){e:{if(O=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",O&&r!==pu&&(J=r.relatedTarget||r.fromElement)&&(us(J)||J[os]))break e;if((D||O)&&(O=k.window===k?k:(O=k.ownerDocument)?O.defaultView||O.parentWindow:window,D?(J=r.relatedTarget||r.toElement,D=R,J=J?us(J):null,J!==null&&(Ae=c(J),W=J.tag,J!==Ae||W!==5&&W!==27&&W!==6)&&(J=null)):(D=null,J=R),D!==J)){if(W=Rd,U="onMouseLeave",A="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(W=Od,U="onPointerLeave",A="onPointerEnter",C="pointer"),Ae=D==null?O:vr(D),w=J==null?O:vr(J),O=new W(U,C+"leave",D,r,k),O.target=Ae,O.relatedTarget=w,U=null,us(k)===R&&(W=new W(A,C+"enter",J,r,k),W.target=w,W.relatedTarget=Ae,U=W),Ae=U,D&&J)t:{for(W=D,A=J,C=0,w=W;w;w=Vs(w))C++;for(w=0,U=A;U;U=Vs(U))w++;for(;0<C-w;)W=Vs(W),C--;for(;0<w-C;)A=Vs(A),w--;for(;C--;){if(W===A||A!==null&&W===A.alternate)break t;W=Vs(W),A=Vs(A)}W=null}else W=null;D!==null&&v_(L,O,D,W,!1),J!==null&&Ae!==null&&v_(L,Ae,J,W,!0)}}e:{if(O=R?vr(R):window,D=O.nodeName&&O.nodeName.toLowerCase(),D==="select"||D==="input"&&O.type==="file")var Y=zd;else if(Ud(O))if(Hd)Y=zE;else{Y=UE;var le=kE}else D=O.nodeName,!D||D.toLowerCase()!=="input"||O.type!=="checkbox"&&O.type!=="radio"?R&&du(R.elementType)&&(Y=zd):Y=LE;if(Y&&(Y=Y(e,R))){Ld(L,Y,r,k);break e}le&&le(e,O,R),e==="focusout"&&R&&O.type==="number"&&R.memoizedProps.value!=null&&hu(O,"number",O.value)}switch(le=R?vr(R):window,e){case"focusin":(Ud(le)||le.contentEditable==="true")&&(ys=le,Ru=R,Rr=null);break;case"focusout":Rr=Ru=ys=null;break;case"mousedown":Nu=!0;break;case"contextmenu":case"mouseup":case"dragend":Nu=!1,Fd(L,r,k);break;case"selectionchange":if(PE)break;case"keydown":case"keyup":Fd(L,r,k)}var F;if(Tu)e:{switch(e){case"compositionstart":var Z="onCompositionStart";break e;case"compositionend":Z="onCompositionEnd";break e;case"compositionupdate":Z="onCompositionUpdate";break e}Z=void 0}else vs?xd(e,r)&&(Z="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(Z="onCompositionStart");Z&&(Dd&&r.locale!=="ko"&&(vs||Z!=="onCompositionStart"?Z==="onCompositionEnd"&&vs&&(F=Ad()):(Fn=k,vu="value"in Fn?Fn.value:Fn.textContent,vs=!0)),le=Ql(R,Z),0<le.length&&(Z=new Nd(Z,e,null,r,k),L.push({event:Z,listeners:le}),F?Z.data=F:(F=kd(r),F!==null&&(Z.data=F)))),(F=OE?DE(e,r):ME(e,r))&&(Z=Ql(R,"onBeforeInput"),0<Z.length&&(le=new Nd("onBeforeInput","beforeinput",null,r,k),L.push({event:le,listeners:Z}),le.data=F)),SS(L,e,R,r,k)}__(L,n)})}function ta(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Ql(e,n){for(var r=n+"Capture",l=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=yr(e,r),u!=null&&l.unshift(ta(e,u,f)),u=yr(e,n),u!=null&&l.push(ta(e,u,f))),e.tag===3)return l;e=e.return}return[]}function Vs(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function v_(e,n,r,l,u){for(var f=n._reactName,p=[];r!==null&&r!==l;){var g=r,E=g.alternate,R=g.stateNode;if(g=g.tag,E!==null&&E===l)break;g!==5&&g!==26&&g!==27||R===null||(E=R,u?(R=yr(r,f),R!=null&&p.unshift(ta(r,R,E))):u||(R=yr(r,f),R!=null&&p.push(ta(r,R,E)))),r=r.return}p.length!==0&&e.push({event:n,listeners:p})}var AS=/\r\n?/g,wS=/\u0000|\uFFFD/g;function y_(e){return(typeof e=="string"?e:""+e).replace(AS,`
`).replace(wS,"")}function E_(e,n){return n=y_(n),y_(e)===n}function Kl(){}function Ce(e,n,r,l,u,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||ms(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&ms(e,""+l);break;case"className":Ja(e,"class",l);break;case"tabIndex":Ja(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ja(e,r,l);break;case"style":bd(e,l,f);break;case"data":if(n!=="object"){Ja(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=nl(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Ce(e,n,"name",u.name,u,null),Ce(e,n,"formEncType",u.formEncType,u,null),Ce(e,n,"formMethod",u.formMethod,u,null),Ce(e,n,"formTarget",u.formTarget,u,null)):(Ce(e,n,"encType",u.encType,u,null),Ce(e,n,"method",u.method,u,null),Ce(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=nl(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=nl(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":fe("beforetoggle",e),fe("toggle",e),$a(e,"popover",l);break;case"xlinkActuate":vn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":vn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":vn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":vn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":vn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":vn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":vn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":vn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":vn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":$a(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=nE.get(r)||r,$a(e,r,l))}}function Zc(e,n,r,l,u,f){switch(r){case"style":bd(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(u.children!=null)throw Error(a(60));e.innerHTML=r}}break;case"children":typeof l=="string"?ms(e,l):(typeof l=="number"||typeof l=="bigint")&&ms(e,""+l);break;case"onScroll":l!=null&&fe("scroll",e);break;case"onScrollEnd":l!=null&&fe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Kl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fd.hasOwnProperty(r))e:{if(r[0]==="o"&&r[1]==="n"&&(u=r.endsWith("Capture"),n=r.slice(2,u?r.length-7:void 0),f=e[yt]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,u);break e}r in e?e[r]=l:l===!0?e.setAttribute(r,""):$a(e,r,l)}}}function ut(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fe("error",e),fe("load",e);var l=!1,u=!1,f;for(f in r)if(r.hasOwnProperty(f)){var p=r[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ce(e,n,f,p,r,null)}}u&&Ce(e,n,"srcSet",r.srcSet,r,null),l&&Ce(e,n,"src",r.src,r,null);return;case"input":fe("invalid",e);var g=f=p=u=null,E=null,R=null;for(l in r)if(r.hasOwnProperty(l)){var k=r[l];if(k!=null)switch(l){case"name":u=k;break;case"type":p=k;break;case"checked":E=k;break;case"defaultChecked":R=k;break;case"value":f=k;break;case"defaultValue":g=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:Ce(e,n,l,k,r,null)}}vd(e,f,g,E,R,p,u,!1),el(e);return;case"select":fe("invalid",e),l=p=f=null;for(u in r)if(r.hasOwnProperty(u)&&(g=r[u],g!=null))switch(u){case"value":f=g;break;case"defaultValue":p=g;break;case"multiple":l=g;default:Ce(e,n,u,g,r,null)}n=f,r=p,e.multiple=!!l,n!=null?ps(e,!!l,n,!1):r!=null&&ps(e,!!l,r,!0);return;case"textarea":fe("invalid",e),f=u=l=null;for(p in r)if(r.hasOwnProperty(p)&&(g=r[p],g!=null))switch(p){case"value":l=g;break;case"defaultValue":u=g;break;case"children":f=g;break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(a(91));break;default:Ce(e,n,p,g,r,null)}Ed(e,l,u,f),el(e);return;case"option":for(E in r)if(r.hasOwnProperty(E)&&(l=r[E],l!=null))switch(E){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ce(e,n,E,l,r,null)}return;case"dialog":fe("beforetoggle",e),fe("toggle",e),fe("cancel",e),fe("close",e);break;case"iframe":case"object":fe("load",e);break;case"video":case"audio":for(l=0;l<ea.length;l++)fe(ea[l],e);break;case"image":fe("error",e),fe("load",e);break;case"details":fe("toggle",e);break;case"embed":case"source":case"link":fe("error",e),fe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in r)if(r.hasOwnProperty(R)&&(l=r[R],l!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ce(e,n,R,l,r,null)}return;default:if(du(n)){for(k in r)r.hasOwnProperty(k)&&(l=r[k],l!==void 0&&Zc(e,n,k,l,r,void 0));return}}for(g in r)r.hasOwnProperty(g)&&(l=r[g],l!=null&&Ce(e,n,g,l,r,null))}function RS(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,p=null,g=null,E=null,R=null,k=null;for(D in r){var L=r[D];if(r.hasOwnProperty(D)&&L!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":E=L;default:l.hasOwnProperty(D)||Ce(e,n,D,null,l,L)}}for(var O in l){var D=l[O];if(L=r[O],l.hasOwnProperty(O)&&(D!=null||L!=null))switch(O){case"type":f=D;break;case"name":u=D;break;case"checked":R=D;break;case"defaultChecked":k=D;break;case"value":p=D;break;case"defaultValue":g=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(a(137,n));break;default:D!==L&&Ce(e,n,O,D,l,L)}}fu(e,p,g,E,R,k,f,u);return;case"select":D=p=g=O=null;for(f in r)if(E=r[f],r.hasOwnProperty(f)&&E!=null)switch(f){case"value":break;case"multiple":D=E;default:l.hasOwnProperty(f)||Ce(e,n,f,null,l,E)}for(u in l)if(f=l[u],E=r[u],l.hasOwnProperty(u)&&(f!=null||E!=null))switch(u){case"value":O=f;break;case"defaultValue":g=f;break;case"multiple":p=f;default:f!==E&&Ce(e,n,u,f,l,E)}n=g,r=p,l=D,O!=null?ps(e,!!r,O,!1):!!l!=!!r&&(n!=null?ps(e,!!r,n,!0):ps(e,!!r,r?[]:"",!1));return;case"textarea":D=O=null;for(g in r)if(u=r[g],r.hasOwnProperty(g)&&u!=null&&!l.hasOwnProperty(g))switch(g){case"value":break;case"children":break;default:Ce(e,n,g,null,l,u)}for(p in l)if(u=l[p],f=r[p],l.hasOwnProperty(p)&&(u!=null||f!=null))switch(p){case"value":O=u;break;case"defaultValue":D=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(a(91));break;default:u!==f&&Ce(e,n,p,u,l,f)}yd(e,O,D);return;case"option":for(var J in r)if(O=r[J],r.hasOwnProperty(J)&&O!=null&&!l.hasOwnProperty(J))switch(J){case"selected":e.selected=!1;break;default:Ce(e,n,J,null,l,O)}for(E in l)if(O=l[E],D=r[E],l.hasOwnProperty(E)&&O!==D&&(O!=null||D!=null))switch(E){case"selected":e.selected=O&&typeof O!="function"&&typeof O!="symbol";break;default:Ce(e,n,E,O,l,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var W in r)O=r[W],r.hasOwnProperty(W)&&O!=null&&!l.hasOwnProperty(W)&&Ce(e,n,W,null,l,O);for(R in l)if(O=l[R],D=r[R],l.hasOwnProperty(R)&&O!==D&&(O!=null||D!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,n));break;default:Ce(e,n,R,O,l,D)}return;default:if(du(n)){for(var Ae in r)O=r[Ae],r.hasOwnProperty(Ae)&&O!==void 0&&!l.hasOwnProperty(Ae)&&Zc(e,n,Ae,void 0,l,O);for(k in l)O=l[k],D=r[k],!l.hasOwnProperty(k)||O===D||O===void 0&&D===void 0||Zc(e,n,k,O,l,D);return}}for(var A in r)O=r[A],r.hasOwnProperty(A)&&O!=null&&!l.hasOwnProperty(A)&&Ce(e,n,A,null,l,O);for(L in l)O=l[L],D=r[L],!l.hasOwnProperty(L)||O===D||O==null&&D==null||Ce(e,n,L,O,l,D)}var $c=null,Jc=null;function Xl(e){return e.nodeType===9?e:e.ownerDocument}function S_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function b_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ef(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var tf=null;function NS(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,OS=typeof clearTimeout=="function"?clearTimeout:void 0,C_=typeof Promise=="function"?Promise:void 0,DS=typeof queueMicrotask=="function"?queueMicrotask:typeof C_<"u"?function(e){return C_.resolve(null).then(e).catch(MS)}:T_;function MS(e){setTimeout(function(){throw e})}function oi(e){return e==="head"}function A_(e,n){var r=n,l=0,u=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var p=e.ownerDocument;if(r&1&&na(p.documentElement),r&2&&na(p.body),r&4)for(r=p.head,na(r),p=r.firstChild;p;){var g=p.nextSibling,E=p.nodeName;p[gr]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&p.rel.toLowerCase()==="stylesheet"||r.removeChild(p),p=g}}if(u===0){e.removeChild(f),ca(n);return}u--}else r==="$"||r==="$?"||r==="$!"?u++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);ca(n)}function nf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":nf(r),lu(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function IS(e,n,r,l){for(;e.nodeType===1;){var u=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=en(e.nextSibling),e===null)break}return null}function xS(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=en(e.nextSibling),e===null))return null;return e}function sf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function kS(e,n){var r=e.ownerDocument;if(e.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function en(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var rf=null;function w_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function R_(e,n,r){switch(n=Xl(r),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function na(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);lu(e)}var Kt=new Map,N_=new Set;function Wl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var In=N.d;N.d={f:US,r:LS,D:zS,C:HS,L:PS,m:BS,X:qS,S:jS,M:VS};function US(){var e=In.f(),n=jl();return e||n}function LS(e){var n=cs(e);n!==null&&n.tag===5&&n.type==="form"?Kp(n):In.r(e)}var Gs=typeof document>"u"?null:document;function O_(e,n,r){var l=Gs;if(l&&typeof n=="string"&&n){var u=jt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof r=="string"&&(u+='[crossorigin="'+r+'"]'),N_.has(u)||(N_.add(u),e={rel:e,crossOrigin:r,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),ut(n,"link",e),et(n),l.head.appendChild(n)))}}function zS(e){In.D(e),O_("dns-prefetch",e,null)}function HS(e,n){In.C(e,n),O_("preconnect",e,n)}function PS(e,n,r){In.L(e,n,r);var l=Gs;if(l&&e&&n){var u='link[rel="preload"][as="'+jt(n)+'"]';n==="image"&&r&&r.imageSrcSet?(u+='[imagesrcset="'+jt(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(u+='[imagesizes="'+jt(r.imageSizes)+'"]')):u+='[href="'+jt(e)+'"]';var f=u;switch(n){case"style":f=Ys(e);break;case"script":f=Fs(e)}Kt.has(f)||(e=y({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Kt.set(f,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(ia(f))||n==="script"&&l.querySelector(sa(f))||(n=l.createElement("link"),ut(n,"link",e),et(n),l.head.appendChild(n)))}}function BS(e,n){In.m(e,n);var r=Gs;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+jt(l)+'"][href="'+jt(e)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Fs(e)}if(!Kt.has(f)&&(e=y({rel:"modulepreload",href:e},n),Kt.set(f,e),r.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(sa(f)))return}l=r.createElement("link"),ut(l,"link",e),et(l),r.head.appendChild(l)}}}function jS(e,n,r){In.S(e,n,r);var l=Gs;if(l&&e){var u=fs(l).hoistableStyles,f=Ys(e);n=n||"default";var p=u.get(f);if(!p){var g={loading:0,preload:null};if(p=l.querySelector(ia(f)))g.loading=5;else{e=y({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Kt.get(f))&&af(e,r);var E=p=l.createElement("link");et(E),ut(E,"link",e),E._p=new Promise(function(R,k){E.onload=R,E.onerror=k}),E.addEventListener("load",function(){g.loading|=1}),E.addEventListener("error",function(){g.loading|=2}),g.loading|=4,Zl(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:g},u.set(f,p)}}}function qS(e,n){In.X(e,n);var r=Gs;if(r&&e){var l=fs(r).hoistableScripts,u=Fs(e),f=l.get(u);f||(f=r.querySelector(sa(u)),f||(e=y({src:e,async:!0},n),(n=Kt.get(u))&&lf(e,n),f=r.createElement("script"),et(f),ut(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function VS(e,n){In.M(e,n);var r=Gs;if(r&&e){var l=fs(r).hoistableScripts,u=Fs(e),f=l.get(u);f||(f=r.querySelector(sa(u)),f||(e=y({src:e,async:!0,type:"module"},n),(n=Kt.get(u))&&lf(e,n),f=r.createElement("script"),et(f),ut(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function D_(e,n,r,l){var u=(u=X.current)?Wl(u):null;if(!u)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ys(r.href),r=fs(u).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ys(r.href);var f=fs(u).hoistableStyles,p=f.get(e);if(p||(u=u.ownerDocument||u,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=u.querySelector(ia(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Kt.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Kt.set(e,r),f||GS(u,e,r,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Fs(r),r=fs(u).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Ys(e){return'href="'+jt(e)+'"'}function ia(e){return'link[rel="stylesheet"]['+e+"]"}function M_(e){return y({},e,{"data-precedence":e.precedence,precedence:null})}function GS(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ut(n,"link",r),et(n),e.head.appendChild(n))}function Fs(e){return'[src="'+jt(e)+'"]'}function sa(e){return"script[async]"+e}function I_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+jt(r.href)+'"]');if(l)return n.instance=l,et(l),l;var u=y({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),et(l),ut(l,"style",u),Zl(l,r.precedence,e),n.instance=l;case"stylesheet":u=Ys(r.href);var f=e.querySelector(ia(u));if(f)return n.state.loading|=4,n.instance=f,et(f),f;l=M_(r),(u=Kt.get(u))&&af(l,u),f=(e.ownerDocument||e).createElement("link"),et(f);var p=f;return p._p=new Promise(function(g,E){p.onload=g,p.onerror=E}),ut(f,"link",l),n.state.loading|=4,Zl(f,r.precedence,e),n.instance=f;case"script":return f=Fs(r.src),(u=e.querySelector(sa(f)))?(n.instance=u,et(u),u):(l=r,(u=Kt.get(f))&&(l=y({},r),lf(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),et(u),ut(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Zl(l,r.precedence,e));return n.instance}function Zl(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,p=0;p<l.length;p++){var g=l[p];if(g.dataset.precedence===n)f=g;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function af(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function lf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var $l=null;function x_(e,n,r){if($l===null){var l=new Map,u=$l=new Map;u.set(r,l)}else u=$l,l=u.get(r),l||(l=new Map,u.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),u=0;u<r.length;u++){var f=r[u];if(!(f[gr]||f[dt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var g=l.get(p);g?g.push(f):l.set(p,[f])}}return l}function k_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function YS(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function U_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ra=null;function FS(){}function QS(e,n,r){if(ra===null)throw Error(a(475));var l=ra;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var u=Ys(r.href),f=e.querySelector(ia(u));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=Jl.bind(l),e.then(l,l)),n.state.loading|=4,n.instance=f,et(f);return}f=e.ownerDocument||e,r=M_(r),(u=Kt.get(u))&&af(r,u),f=f.createElement("link"),et(f);var p=f;p._p=new Promise(function(g,E){p.onload=g,p.onerror=E}),ut(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=Jl.bind(l),e.addEventListener("load",n),e.addEventListener("error",n))}}function KS(){if(ra===null)throw Error(a(475));var e=ra;return e.stylesheets&&e.count===0&&of(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&of(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Jl(){if(this.count--,this.count===0){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var eo=null;function of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,eo=new Map,n.forEach(XS,e),eo=null,Jl.call(e))}function XS(e,n){if(!(n.state.loading&4)){var r=eo.get(e);if(r)var l=r.get(null);else{r=new Map,eo.set(e,r);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var p=u[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(r.set(p.dataset.precedence,p),l=p)}l&&r.set(null,l)}u=n.instance,p=u.getAttribute("data-precedence"),f=r.get(p)||l,f===l&&r.set(null,u),r.set(p,u),this.count++,l=Jl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var aa={$$typeof:de,Provider:null,Consumer:null,_currentValue:I,_currentValue2:I,_threadCount:0};function WS(e,n,r,l,u,f,p,g){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iu(0),this.hiddenUpdates=iu(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=g,this.incompleteTransitions=new Map}function L_(e,n,r,l,u,f,p,g,E,R,k,L){return e=new WS(e,n,r,p,g,E,R,L),n=1,f===!0&&(n|=24),f=xt(3,null,null,n),e.current=f,f.stateNode=e,n=qu(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Fu(f),e}function z_(e){return e?(e=Ts,e):Ts}function H_(e,n,r,l,u,f){u=z_(u),l.context===null?l.context=u:l.pendingContext=u,l=Xn(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Wn(e,l,n),r!==null&&(Ht(r,e,n),Lr(r,e,n))}function P_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function uf(e,n){P_(e,n),(e=e.alternate)&&P_(e,n)}function B_(e){if(e.tag===13){var n=bs(e,67108864);n!==null&&Ht(n,e,67108864),uf(e,67108864)}}var to=!0;function ZS(e,n,r,l){var u=S.T;S.T=null;var f=N.p;try{N.p=2,cf(e,n,r,l)}finally{N.p=f,S.T=u}}function $S(e,n,r,l){var u=S.T;S.T=null;var f=N.p;try{N.p=8,cf(e,n,r,l)}finally{N.p=f,S.T=u}}function cf(e,n,r,l){if(to){var u=ff(l);if(u===null)Wc(e,n,l,no,r),q_(e,l);else if(eb(u,e,n,r,l))l.stopPropagation();else if(q_(e,l),n&4&&-1<JS.indexOf(e)){for(;u!==null;){var f=cs(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=Oi(f.pendingLanes);if(p!==0){var g=f;for(g.pendingLanes|=2,g.entangledLanes|=2;p;){var E=1<<31-Mt(p);g.entanglements[1]|=E,p&=~E}dn(f),(Ee&6)===0&&(Pl=on()+500,Jr(0))}}break;case 13:g=bs(f,2),g!==null&&Ht(g,f,2),jl(),uf(f,2)}if(f=ff(l),f===null&&Wc(e,n,l,no,r),f===u)break;u=f}u!==null&&l.stopPropagation()}else Wc(e,n,l,null,r)}}function ff(e){return e=mu(e),hf(e)}var no=null;function hf(e){if(no=null,e=us(e),e!==null){var n=c(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=h(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return no=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(H0()){case td:return 2;case nd:return 8;case Ka:case P0:return 32;case id:return 268435456;default:return 32}default:return 32}}var df=!1,ui=null,ci=null,fi=null,la=new Map,oa=new Map,hi=[],JS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,n){switch(e){case"focusin":case"focusout":ui=null;break;case"dragenter":case"dragleave":ci=null;break;case"mouseover":case"mouseout":fi=null;break;case"pointerover":case"pointerout":la.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":oa.delete(n.pointerId)}}function ua(e,n,r,l,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},n!==null&&(n=cs(n),n!==null&&B_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function eb(e,n,r,l,u){switch(n){case"focusin":return ui=ua(ui,e,n,r,l,u),!0;case"dragenter":return ci=ua(ci,e,n,r,l,u),!0;case"mouseover":return fi=ua(fi,e,n,r,l,u),!0;case"pointerover":var f=u.pointerId;return la.set(f,ua(la.get(f)||null,e,n,r,l,u)),!0;case"gotpointercapture":return f=u.pointerId,oa.set(f,ua(oa.get(f)||null,e,n,r,l,u)),!0}return!1}function V_(e){var n=us(e.target);if(n!==null){var r=c(n);if(r!==null){if(n=r.tag,n===13){if(n=h(r),n!==null){e.blockedOn=n,Q0(e.priority,function(){if(r.tag===13){var l=zt();l=su(l);var u=bs(r,l);u!==null&&Ht(u,r,l),uf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function io(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=ff(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);pu=l,r.target.dispatchEvent(l),pu=null}else return n=cs(r),n!==null&&B_(n),e.blockedOn=r,!1;n.shift()}return!0}function G_(e,n,r){io(e)&&r.delete(n)}function tb(){df=!1,ui!==null&&io(ui)&&(ui=null),ci!==null&&io(ci)&&(ci=null),fi!==null&&io(fi)&&(fi=null),la.forEach(G_),oa.forEach(G_)}function so(e,n){e.blockedOn===n&&(e.blockedOn=null,df||(df=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,tb)))}var ro=null;function Y_(e){ro!==e&&(ro=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ro===e&&(ro=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(hf(l||r)===null)continue;break}var f=cs(r);f!==null&&(e.splice(n,3),n-=3,fc(f,{pending:!0,data:u,method:r.method,action:l},l,u))}}))}function ca(e){function n(E){return so(E,e)}ui!==null&&so(ui,e),ci!==null&&so(ci,e),fi!==null&&so(fi,e),la.forEach(n),oa.forEach(n);for(var r=0;r<hi.length;r++){var l=hi[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<hi.length&&(r=hi[0],r.blockedOn===null);)V_(r),r.blockedOn===null&&hi.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var u=r[l],f=r[l+1],p=u[yt]||null;if(typeof f=="function")p||Y_(r);else if(p){var g=null;if(f&&f.hasAttribute("formAction")){if(u=f,p=f[yt]||null)g=p.formAction;else if(hf(u)!==null)continue}else g=p.action;typeof g=="function"?r[l+1]=g:(r.splice(l,3),l-=3),Y_(r)}}}function pf(e){this._internalRoot=e}ao.prototype.render=pf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=zt();H_(r,l,e,n,null,null)},ao.prototype.unmount=pf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;H_(e.current,2,null,e,null,null),jl(),n[os]=null}};function ao(e){this._internalRoot=e}ao.prototype.unstable_scheduleHydration=function(e){if(e){var n=od();e={blockedOn:null,target:e,priority:n};for(var r=0;r<hi.length&&n!==0&&n<hi[r].priority;r++);hi.splice(r,0,e),r===0&&V_(e)}};var F_=t.version;if(F_!=="19.1.0")throw Error(a(527,F_,"19.1.0"));N.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var nb={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lo.isDisabled&&lo.supportsFiber)try{pr=lo.inject(nb),Dt=lo}catch{}}return ha.createRoot=function(e,n){if(!o(e))throw Error(a(299));var r=!1,l="",u=om,f=um,p=cm,g=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(g=n.unstable_transitionCallbacks)),n=L_(e,1,!1,null,null,r,l,u,f,p,g,null),e[os]=n.current,Xc(e),new pf(n)},ha.hydrateRoot=function(e,n,r){if(!o(e))throw Error(a(299));var l=!1,u="",f=om,p=um,g=cm,E=null,R=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(g=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(E=r.unstable_transitionCallbacks),r.formState!==void 0&&(R=r.formState)),n=L_(e,1,!0,n,r??null,l,u,f,p,g,E,R),n.context=z_(null),r=n.current,l=zt(),l=su(l),u=Xn(l),u.callback=null,Wn(r,u,l),r=l,n.current.lanes=r,_r(n,r),dn(n),e[os]=n.current,Xc(e),new ao(n)},ha.version="19.1.0",ha}var ng;function hb(){if(ng)return gf.exports;ng=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),gf.exports=fb(),gf.exports}var db=hb();const pb=()=>{};var ig={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q=function(s,t){if(!s)throw lr(t)},lr=function(s){return new Error("Firebase Database ("+Sv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(s.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},mb=function(s){const t=[];let i=0,a=0;for(;i<s.length;){const o=s[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=s[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=s[i++],h=s[i++],d=s[i++],m=((o&7)<<18|(c&63)<<12|(h&63)<<6|d&63)-65536;t[a++]=String.fromCharCode(55296+(m>>10)),t[a++]=String.fromCharCode(56320+(m&1023))}else{const c=s[i++],h=s[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|h&63)}}return t.join("")},rh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,t){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<s.length;o+=3){const c=s[o],h=o+1<s.length,d=h?s[o+1]:0,m=o+2<s.length,_=m?s[o+2]:0,y=c>>2,b=(c&3)<<4|d>>4;let T=(d&15)<<2|_>>6,z=_&63;m||(z=64,h||(T=64)),a.push(i[y],i[b],i[T],i[z])}return a.join("")},encodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(s):this.encodeByteArray(bv(s),t)},decodeString(s,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(s):mb(this.decodeStringToByteArray(s,t))},decodeStringToByteArray(s,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<s.length;){const c=i[s.charAt(o++)],d=o<s.length?i[s.charAt(o)]:0;++o;const _=o<s.length?i[s.charAt(o)]:64;++o;const b=o<s.length?i[s.charAt(o)]:64;if(++o,c==null||d==null||_==null||b==null)throw new _b;const T=c<<2|d>>4;if(a.push(T),_!==64){const z=d<<4&240|_>>2;if(a.push(z),b!==64){const j=_<<6&192|b;a.push(j)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class _b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Tv=function(s){const t=bv(s);return rh.encodeByteArray(t,!0)},vo=function(s){return Tv(s).replace(/\./g,"")},yo=function(s){try{return rh.decodeString(s,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(s){return Cv(void 0,s)}function Cv(s,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const i=t;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return t}for(const i in t)!t.hasOwnProperty(i)||!vb(i)||(s[i]=Cv(s[i],t[i]));return s}function vb(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=()=>yb().__FIREBASE_DEFAULTS__,Sb=()=>{if(typeof process>"u"||typeof ig>"u")return;const s=ig.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},bb=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=s&&yo(s[1]);return t&&JSON.parse(t)},ah=()=>{try{return pb()||Eb()||Sb()||bb()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},Av=s=>{var t,i;return(i=(t=ah())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[s]},Tb=s=>{const t=Av(s);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},wv=()=>{var s;return(s=ah())===null||s===void 0?void 0:s.config},Rv=s=>{var t;return(t=ah())===null||t===void 0?void 0:t[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function La(s){return s.endsWith(".cloudworkstations.dev")}async function Nv(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(s,t){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=s.iat||0,c=s.sub||s.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},s);return[vo(JSON.stringify(i)),vo(JSON.stringify(h)),""].join(".")}const ya={};function Ab(){const s={prod:[],emulator:[]};for(const t of Object.keys(ya))ya[t]?s.emulator.push(t):s.prod.push(t);return s}function wb(s){let t=document.getElementById(s),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",s),i=!0),{created:i,element:t}}let sg=!1;function Ov(s,t){if(typeof window>"u"||typeof document>"u"||!La(window.location.host)||ya[s]===t||ya[s]||sg)return;ya[s]=t;function i(T){return`__firebase__banner__${T}`}const a="__firebase__banner",c=Ab().prod.length>0;function h(){const T=document.getElementById(a);T&&T.remove()}function d(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function m(T,z){T.setAttribute("width","24"),T.setAttribute("id",z),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function _(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{sg=!0,h()},T}function y(T,z){T.setAttribute("id",z),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=wb(a),z=i("text"),j=document.getElementById(z)||document.createElement("span"),K=i("learnmore"),te=document.getElementById(K)||document.createElement("a"),ke=i("preprendIcon"),Oe=document.getElementById(ke)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const de=T.element;d(de),y(te,K);const Ie=_();m(Oe,ke),de.append(Oe,j,te,Ie),document.body.appendChild(de)}c?(j.innerText="Preview backend disconnected.",Oe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Oe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",z)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function lh(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Rb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Nb(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function Dv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ob(){const s=vt();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function Db(){return Sv.NODE_ADMIN===!0}function Mb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ib(){return new Promise((s,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{var c;t(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xb="FirebaseError";class Ai extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=xb,Object.setPrototypeOf(this,Ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,za.prototype.create)}}class za{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],h=c?kb(c,a):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new Ai(o,d,a)}}function kb(s,t){return s.replace(Ub,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const Ub=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(s){return JSON.parse(s)}function at(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=function(s){let t={},i={},a={},o="";try{const c=s.split(".");t=wa(yo(c[0])||""),i=wa(yo(c[1])||""),o=c[2],a=i.d||{},delete i.d}catch{}return{header:t,claims:i,data:a,signature:o}},Lb=function(s){const t=Mv(s),i=t.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},zb=function(s){const t=Mv(s).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(s,t){return Object.prototype.hasOwnProperty.call(s,t)}function nr(s,t){if(Object.prototype.hasOwnProperty.call(s,t))return s[t]}function Uf(s){for(const t in s)if(Object.prototype.hasOwnProperty.call(s,t))return!1;return!0}function Eo(s,t,i){const a={};for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&(a[o]=t.call(i,s[o],o,s));return a}function $i(s,t){if(s===t)return!0;const i=Object.keys(s),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=s[o],h=t[o];if(rg(c)&&rg(h)){if(!$i(c,h))return!1}else if(c!==h)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function rg(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(s){const t=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function ga(s){const t={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[o,c]=a.split("=");t[decodeURIComponent(o)]=decodeURIComponent(c)}}),t}function va(s){const t=s.indexOf("?");if(!t)return"";const i=s.indexOf("#",t);return s.substring(t,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,i){i||(i=0);const a=this.W_;if(typeof t=="string")for(let b=0;b<16;b++)a[b]=t.charCodeAt(i)<<24|t.charCodeAt(i+1)<<16|t.charCodeAt(i+2)<<8|t.charCodeAt(i+3),i+=4;else for(let b=0;b<16;b++)a[b]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i+=4;for(let b=16;b<80;b++){const T=a[b-3]^a[b-8]^a[b-14]^a[b-16];a[b]=(T<<1|T>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],h=this.chain_[2],d=this.chain_[3],m=this.chain_[4],_,y;for(let b=0;b<80;b++){b<40?b<20?(_=d^c&(h^d),y=1518500249):(_=c^h^d,y=1859775393):b<60?(_=c&h|d&(c|h),y=2400959708):(_=c^h^d,y=3395469782);const T=(o<<5|o>>>27)+_+m+y+a[b]&4294967295;m=d,d=h,h=(c<<30|c>>>2)&4294967295,c=o,o=T}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+d&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,i){if(t==null)return;i===void 0&&(i=t.length);const a=i-this.blockSize;let o=0;const c=this.buf_;let h=this.inbuf_;for(;o<i;){if(h===0)for(;o<=a;)this.compress_(t,o),o+=this.blockSize;if(typeof t=="string"){for(;o<i;)if(c[h]=t.charCodeAt(o),++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}else for(;o<i;)if(c[h]=t[o],++h,++o,h===this.blockSize){this.compress_(c),h=0;break}}this.inbuf_=h,this.total_+=i}digest(){const t=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)t[a]=this.chain_[o]>>c&255,++a;return t}}function Pb(s,t){const i=new Bb(s,t);return i.subscribe.bind(i)}class Bb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");jb(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Sf),o.error===void 0&&(o.error=Sf),o.complete===void 0&&(o.complete=Sf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jb(s,t){if(typeof s!="object"||s===null)return!1;for(const i of t)if(i in s&&typeof s[i]=="function")return!0;return!1}function Sf(){}function oh(s,t){return`${s} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb=function(s){const t=[];let i=0;for(let a=0;a<s.length;a++){let o=s.charCodeAt(a);if(o>=55296&&o<=56319){const c=o-55296;a++,q(a<s.length,"Surrogate pair missing trail surrogate.");const h=s.charCodeAt(a)-56320;o=65536+(c<<10)+h}o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):o<65536?(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},Go=function(s){let t=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?t++:a<2048?t+=2:a>=55296&&a<=56319?(t+=4,i++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(s){return s&&s._delegate?s._delegate:s}class Ji{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new Vo;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const a=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),o=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Yb(t))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=Qi){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Qi){return this.instances.has(t)}getOptions(t=Qi){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(c);a===d&&h.resolve(o)}return o}onInit(t,i){var a;const o=this.normalizeInstanceIdentifier(i),c=(a=this.onInitCallbacks.get(o))!==null&&a!==void 0?a:new Set;c.add(t),this.onInitCallbacks.set(o,c);const h=this.instances.get(o);return h&&t(h,o),()=>{c.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Gb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Qi){return this.component?this.component.multipleInstances?t:Qi:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gb(s){return s===Qi?void 0:s}function Yb(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Vb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(we||(we={}));const Qb={debug:we.DEBUG,verbose:we.VERBOSE,info:we.INFO,warn:we.WARN,error:we.ERROR,silent:we.SILENT},Kb=we.INFO,Xb={[we.DEBUG]:"log",[we.VERBOSE]:"log",[we.INFO]:"info",[we.WARN]:"warn",[we.ERROR]:"error"},Wb=(s,t,...i)=>{if(t<s.logLevel)return;const a=new Date().toISOString(),o=Xb[t];if(o)console[o](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class uh{constructor(t){this.name=t,this._logLevel=Kb,this._logHandler=Wb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in we))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Qb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,we.DEBUG,...t),this._logHandler(this,we.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,we.VERBOSE,...t),this._logHandler(this,we.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,we.INFO,...t),this._logHandler(this,we.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,we.WARN,...t),this._logHandler(this,we.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,we.ERROR,...t),this._logHandler(this,we.ERROR,...t)}}const Zb=(s,t)=>t.some(i=>s instanceof i);let ag,lg;function $b(){return ag||(ag=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Jb(){return lg||(lg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Iv=new WeakMap,Lf=new WeakMap,xv=new WeakMap,bf=new WeakMap,ch=new WeakMap;function e1(s){const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("success",c),s.removeEventListener("error",h)},c=()=>{i(yi(s.result)),o()},h=()=>{a(s.error),o()};s.addEventListener("success",c),s.addEventListener("error",h)});return t.then(i=>{i instanceof IDBCursor&&Iv.set(i,s)}).catch(()=>{}),ch.set(t,s),t}function t1(s){if(Lf.has(s))return;const t=new Promise((i,a)=>{const o=()=>{s.removeEventListener("complete",c),s.removeEventListener("error",h),s.removeEventListener("abort",h)},c=()=>{i(),o()},h=()=>{a(s.error||new DOMException("AbortError","AbortError")),o()};s.addEventListener("complete",c),s.addEventListener("error",h),s.addEventListener("abort",h)});Lf.set(s,t)}let zf={get(s,t,i){if(s instanceof IDBTransaction){if(t==="done")return Lf.get(s);if(t==="objectStoreNames")return s.objectStoreNames||xv.get(s);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return yi(s[t])},set(s,t,i){return s[t]=i,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function n1(s){zf=s(zf)}function i1(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=s.call(Tf(this),t,...i);return xv.set(a,t.sort?t.sort():[t]),yi(a)}:Jb().includes(s)?function(...t){return s.apply(Tf(this),t),yi(Iv.get(this))}:function(...t){return yi(s.apply(Tf(this),t))}}function s1(s){return typeof s=="function"?i1(s):(s instanceof IDBTransaction&&t1(s),Zb(s,$b())?new Proxy(s,zf):s)}function yi(s){if(s instanceof IDBRequest)return e1(s);if(bf.has(s))return bf.get(s);const t=s1(s);return t!==s&&(bf.set(s,t),ch.set(t,s)),t}const Tf=s=>ch.get(s);function r1(s,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const h=indexedDB.open(s,t),d=yi(h);return a&&h.addEventListener("upgradeneeded",m=>{a(yi(h.result),m.oldVersion,m.newVersion,yi(h.transaction),m)}),i&&h.addEventListener("blocked",m=>i(m.oldVersion,m.newVersion,m)),d.then(m=>{c&&m.addEventListener("close",()=>c()),o&&m.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),d}const a1=["get","getKey","getAll","getAllKeys","count"],l1=["put","add","delete","clear"],Cf=new Map;function og(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Cf.get(t))return Cf.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=l1.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||a1.includes(i)))return;const c=async function(h,...d){const m=this.transaction(h,o?"readwrite":"readonly");let _=m.store;return a&&(_=_.index(d.shift())),(await Promise.all([_[i](...d),o&&m.done]))[0]};return Cf.set(t,c),c}n1(s=>({...s,get:(t,i,a)=>og(t,i)||s.get(t,i,a),has:(t,i)=>!!og(t,i)||s.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(u1(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function u1(s){const t=s.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Hf="@firebase/app",ug="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hn=new uh("@firebase/app"),c1="@firebase/app-compat",f1="@firebase/analytics-compat",h1="@firebase/analytics",d1="@firebase/app-check-compat",p1="@firebase/app-check",m1="@firebase/auth",_1="@firebase/auth-compat",g1="@firebase/database",v1="@firebase/data-connect",y1="@firebase/database-compat",E1="@firebase/functions",S1="@firebase/functions-compat",b1="@firebase/installations",T1="@firebase/installations-compat",C1="@firebase/messaging",A1="@firebase/messaging-compat",w1="@firebase/performance",R1="@firebase/performance-compat",N1="@firebase/remote-config",O1="@firebase/remote-config-compat",D1="@firebase/storage",M1="@firebase/storage-compat",I1="@firebase/firestore",x1="@firebase/ai",k1="@firebase/firestore-compat",U1="firebase",L1="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pf="[DEFAULT]",z1={[Hf]:"fire-core",[c1]:"fire-core-compat",[h1]:"fire-analytics",[f1]:"fire-analytics-compat",[p1]:"fire-app-check",[d1]:"fire-app-check-compat",[m1]:"fire-auth",[_1]:"fire-auth-compat",[g1]:"fire-rtdb",[v1]:"fire-data-connect",[y1]:"fire-rtdb-compat",[E1]:"fire-fn",[S1]:"fire-fn-compat",[b1]:"fire-iid",[T1]:"fire-iid-compat",[C1]:"fire-fcm",[A1]:"fire-fcm-compat",[w1]:"fire-perf",[R1]:"fire-perf-compat",[N1]:"fire-rc",[O1]:"fire-rc-compat",[D1]:"fire-gcs",[M1]:"fire-gcs-compat",[I1]:"fire-fst",[k1]:"fire-fst-compat",[x1]:"fire-vertex","fire-js":"fire-js",[U1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So=new Map,H1=new Map,Bf=new Map;function cg(s,t){try{s.container.addComponent(t)}catch(i){Hn.debug(`Component ${t.name} failed to register with FirebaseApp ${s.name}`,i)}}function ir(s){const t=s.name;if(Bf.has(t))return Hn.debug(`There were multiple attempts to register component ${t}.`),!1;Bf.set(t,s);for(const i of So.values())cg(i,s);for(const i of H1.values())cg(i,s);return!0}function fh(s,t){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(t)}function Zt(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ei=new za("app","Firebase",P1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(t,i,a){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Ei.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=L1;function kv(s,t={}){let i=s;typeof t!="object"&&(t={name:t});const a=Object.assign({name:Pf,automaticDataCollectionEnabled:!0},t),o=a.name;if(typeof o!="string"||!o)throw Ei.create("bad-app-name",{appName:String(o)});if(i||(i=wv()),!i)throw Ei.create("no-options");const c=So.get(o);if(c){if($i(i,c.options)&&$i(a,c.config))return c;throw Ei.create("duplicate-app",{appName:o})}const h=new Fb(o);for(const m of Bf.values())h.addComponent(m);const d=new B1(i,a,h);return So.set(o,d),d}function Uv(s=Pf){const t=So.get(s);if(!t&&s===Pf&&wv())return kv();if(!t)throw Ei.create("no-app",{appName:s});return t}function Si(s,t,i){var a;let o=(a=z1[s])!==null&&a!==void 0?a:s;i&&(o+=`-${i}`);const c=o.match(/\s|\//),h=t.match(/\s|\//);if(c||h){const d=[`Unable to register library "${o}" with version "${t}":`];c&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&h&&d.push("and"),h&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hn.warn(d.join(" "));return}ir(new Ji(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="firebase-heartbeat-database",q1=1,Ra="firebase-heartbeat-store";let Af=null;function Lv(){return Af||(Af=r1(j1,q1,{upgrade:(s,t)=>{switch(t){case 0:try{s.createObjectStore(Ra)}catch(i){console.warn(i)}}}}).catch(s=>{throw Ei.create("idb-open",{originalErrorMessage:s.message})})),Af}async function V1(s){try{const i=(await Lv()).transaction(Ra),a=await i.objectStore(Ra).get(zv(s));return await i.done,a}catch(t){if(t instanceof Ai)Hn.warn(t.message);else{const i=Ei.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Hn.warn(i.message)}}}async function fg(s,t){try{const a=(await Lv()).transaction(Ra,"readwrite");await a.objectStore(Ra).put(t,zv(s)),await a.done}catch(i){if(i instanceof Ai)Hn.warn(i.message);else{const a=Ei.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Hn.warn(a.message)}}}function zv(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=1024,Y1=30;class F1{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new K1(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var t,i;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=hg();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(h=>h.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>Y1){const h=X1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Hn.warn(a)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=hg(),{heartbeatsToSend:a,unsentEntries:o}=Q1(this._heartbeatsCache.heartbeats),c=vo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(i){return Hn.warn(i),""}}}function hg(){return new Date().toISOString().substring(0,10)}function Q1(s,t=G1){const i=[];let a=s.slice();for(const o of s){const c=i.find(h=>h.agent===o.agent);if(c){if(c.dates.push(o.date),dg(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),dg(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class K1{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mb()?Ib().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await V1(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return fg(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const o=await this.read();return fg(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function dg(s){return vo(JSON.stringify({version:2,heartbeats:s})).length}function X1(s){if(s.length===0)return-1;let t=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,t=a);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W1(s){ir(new Ji("platform-logger",t=>new o1(t),"PRIVATE")),ir(new Ji("heartbeat",t=>new F1(t),"PRIVATE")),Si(Hf,ug,s),Si(Hf,ug,"esm2017"),Si("fire-js","")}W1("");function hh(s,t){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&t.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,a=Object.getOwnPropertySymbols(s);o<a.length;o++)t.indexOf(a[o])<0&&Object.prototype.propertyIsEnumerable.call(s,a[o])&&(i[a[o]]=s[a[o]]);return i}function Hv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z1=Hv,Pv=new za("auth","Firebase",Hv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new uh("@firebase/auth");function $1(s,...t){bo.logLevel<=we.WARN&&bo.warn(`Auth (${ur}): ${s}`,...t)}function fo(s,...t){bo.logLevel<=we.ERROR&&bo.error(`Auth (${ur}): ${s}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ln(s,...t){throw dh(s,...t)}function mn(s,...t){return dh(s,...t)}function Bv(s,t,i){const a=Object.assign(Object.assign({},Z1()),{[t]:i});return new za("auth","Firebase",a).create(t,{appName:s.name})}function Ln(s){return Bv(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dh(s,...t){if(typeof s!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Pv.create(s,...t)}function $(s,t,...i){if(!s)throw dh(t,...i)}function xn(s){const t="INTERNAL ASSERTION FAILED: "+s;throw fo(t),new Error(t)}function Pn(s,t){s||xn(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jf(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function J1(){return pg()==="http:"||pg()==="https:"}function pg(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J1()||Nb()||"connection"in navigator)?navigator.onLine:!0}function tT(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(t,i){this.shortDelay=t,this.longDelay=i,Pn(i>t,"Short delay should be less than long delay!"),this.isMobile=lh()||Dv()}get(){return eT()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(s,t){Pn(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;xn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;xn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;xn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sT=new Ha(3e4,6e4);function wi(s,t){return s.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:s.tenantId}):t}async function Ri(s,t,i,a,o={}){return qv(s,o,async()=>{let c={},h={};a&&(t==="GET"?h=a:c={body:JSON.stringify(a)});const d=or(Object.assign({key:s.config.apiKey},h)).slice(1),m=await s._getAdditionalHeaders();m["Content-Type"]="application/json",s.languageCode&&(m["X-Firebase-Locale"]=s.languageCode);const _=Object.assign({method:t,headers:m},c);return Rb()||(_.referrerPolicy="no-referrer"),s.emulatorConfig&&La(s.emulatorConfig.host)&&(_.credentials="include"),jv.fetch()(await Vv(s,s.config.apiHost,i,d),_)})}async function qv(s,t,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},nT),t);try{const o=new aT(s),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const h=await c.json();if("needConfirmation"in h)throw oo(s,"account-exists-with-different-credential",h);if(c.ok&&!("errorMessage"in h))return h;{const d=c.ok?h.errorMessage:h.error.message,[m,_]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw oo(s,"credential-already-in-use",h);if(m==="EMAIL_EXISTS")throw oo(s,"email-already-in-use",h);if(m==="USER_DISABLED")throw oo(s,"user-disabled",h);const y=a[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Bv(s,y,_);ln(s,y)}}catch(o){if(o instanceof Ai)throw o;ln(s,"network-request-failed",{message:String(o)})}}async function Pa(s,t,i,a,o={}){const c=await Ri(s,t,i,a,o);return"mfaPendingCredential"in c&&ln(s,"multi-factor-auth-required",{_serverResponse:c}),c}async function Vv(s,t,i,a){const o=`${t}${i}?${a}`,c=s,h=c.config.emulator?ph(s.config,o):`${s.config.apiScheme}://${o}`;return iT.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(h).toString():h}function rT(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aT{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(mn(this.auth,"network-request-failed")),sT.get())})}}function oo(s,t,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=mn(s,t,a);return o.customData._tokenResponse=i,o}function mg(s){return s!==void 0&&s.enterprise!==void 0}class lT{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===t)return rT(i.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oT(s,t){return Ri(s,"GET","/v2/recaptchaConfig",wi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uT(s,t){return Ri(s,"POST","/v1/accounts:delete",t)}async function To(s,t){return Ri(s,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(s){if(s)try{const t=new Date(Number(s));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function cT(s,t=!1){const i=Nt(s),a=await i.getIdToken(t),o=mh(a);$(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,h=c==null?void 0:c.sign_in_provider;return{claims:o,token:a,authTime:Ea(wf(o.auth_time)),issuedAtTime:Ea(wf(o.iat)),expirationTime:Ea(wf(o.exp)),signInProvider:h||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function wf(s){return Number(s)*1e3}function mh(s){const[t,i,a]=s.split(".");if(t===void 0||i===void 0||a===void 0)return fo("JWT malformed, contained fewer than 3 sections"),null;try{const o=yo(i);return o?JSON.parse(o):(fo("Failed to decode base64 JWT payload"),null)}catch(o){return fo("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function _g(s){const t=mh(s);return $(t,"internal-error"),$(typeof t.exp<"u","internal-error"),$(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Na(s,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ai&&fT(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function fT({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const o=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ea(this.lastLoginAt),this.creationTime=Ea(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Co(s){var t;const i=s.auth,a=await s.getIdToken(),o=await Na(s,To(i,{idToken:a}));$(o==null?void 0:o.users.length,i,"internal-error");const c=o.users[0];s._notifyReloadListener(c);const h=!((t=c.providerUserInfo)===null||t===void 0)&&t.length?Gv(c.providerUserInfo):[],d=pT(s.providerData,h),m=s.isAnonymous,_=!(s.email&&c.passwordHash)&&!(d!=null&&d.length),y=m?_:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:d,metadata:new qf(c.createdAt,c.lastLoginAt),isAnonymous:y};Object.assign(s,b)}async function dT(s){const t=Nt(s);await Co(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pT(s,t){return[...s.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function Gv(s){return s.map(t=>{var{providerId:i}=t,a=hh(t,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mT(s,t){const i=await qv(s,{},async()=>{const a=or({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=s.config,h=await Vv(s,o,"/v1/token",`key=${c}`),d=await s._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",jv.fetch()(h,{method:"POST",headers:d,body:a})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function _T(s,t){return Ri(s,"POST","/v2/accounts:revokeToken",wi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){$(t.idToken,"internal-error"),$(typeof t.idToken<"u","internal-error"),$(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):_g(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){$(t.length!==0,"internal-error");const i=_g(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await mT(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,h=new Ws;return a&&($(typeof a=="string","internal-error",{appName:t}),h.refreshToken=a),o&&($(typeof o=="string","internal-error",{appName:t}),h.accessToken=o),c&&($(typeof c=="number","internal-error",{appName:t}),h.expirationTime=c),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ws,this.toJSON())}_performRefresh(){return xn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pi(s,t){$(typeof s=="string"||typeof s>"u","internal-error",{appName:t})}class nn{constructor(t){var{uid:i,auth:a,stsTokenManager:o}=t,c=hh(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hT(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new qf(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(t){const i=await Na(this,this.stsTokenManager.getToken(this.auth,t));return $(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return cT(this,t)}reload(){return dT(this)}_assign(t){this!==t&&($(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new nn(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){$(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await Co(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zt(this.auth.app))return Promise.reject(Ln(this.auth));const t=await this.getIdToken();return await Na(this,uT(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var a,o,c,h,d,m,_,y;const b=(a=i.displayName)!==null&&a!==void 0?a:void 0,T=(o=i.email)!==null&&o!==void 0?o:void 0,z=(c=i.phoneNumber)!==null&&c!==void 0?c:void 0,j=(h=i.photoURL)!==null&&h!==void 0?h:void 0,K=(d=i.tenantId)!==null&&d!==void 0?d:void 0,te=(m=i._redirectEventId)!==null&&m!==void 0?m:void 0,ke=(_=i.createdAt)!==null&&_!==void 0?_:void 0,Oe=(y=i.lastLoginAt)!==null&&y!==void 0?y:void 0,{uid:de,emailVerified:Ie,isAnonymous:ie,providerData:be,stsTokenManager:He}=i;$(de&&He,t,"internal-error");const Pe=Ws.fromJSON(this.name,He);$(typeof de=="string",t,"internal-error"),pi(b,t.name),pi(T,t.name),$(typeof Ie=="boolean",t,"internal-error"),$(typeof ie=="boolean",t,"internal-error"),pi(z,t.name),pi(j,t.name),pi(K,t.name),pi(te,t.name),pi(ke,t.name),pi(Oe,t.name);const Ge=new nn({uid:de,auth:t,email:T,emailVerified:Ie,displayName:b,isAnonymous:ie,photoURL:j,phoneNumber:z,tenantId:K,stsTokenManager:Pe,createdAt:ke,lastLoginAt:Oe});return be&&Array.isArray(be)&&(Ge.providerData=be.map(ye=>Object.assign({},ye))),te&&(Ge._redirectEventId=te),Ge}static async _fromIdTokenResponse(t,i,a=!1){const o=new Ws;o.updateFromServerResponse(i);const c=new nn({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await Co(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];$(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?Gv(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),d=new Ws;d.updateFromIdToken(a);const m=new nn({uid:o.localId,auth:t,stsTokenManager:d,isAnonymous:h}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(m,_),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg=new Map;function kn(s){Pn(s instanceof Function,"Expected a class definition");let t=gg.get(s);return t?(Pn(t instanceof s,"Instance stored in cache mismatched with class"),t):(t=new s,gg.set(s,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}Yv.type="NONE";const vg=Yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(s,t,i){return`firebase:${s}:${t}:${i}`}class Zs{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=ho(this.userKey,o.apiKey,c),this.fullPersistenceKey=ho("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await To(this.auth,{idToken:t}).catch(()=>{});return i?nn._fromGetAccountInfoResponse(this.auth,i,t):null}return nn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Zs(kn(vg),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||kn(vg);const h=ho(a,t.config.apiKey,t.name);let d=null;for(const _ of i)try{const y=await _._get(h);if(y){let b;if(typeof y=="string"){const T=await To(t,{idToken:y}).catch(()=>{});if(!T)break;b=await nn._fromGetAccountInfoResponse(t,T,y)}else b=nn._fromJSON(t,y);_!==c&&(d=b),c=_;break}}catch{}const m=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!m.length?new Zs(c,t,a):(c=m[0],d&&await c._set(h,d.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(h)}catch{}})),new Zs(c,t,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yg(s){const t=s.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Xv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Fv(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Zv(t))return"Blackberry";if($v(t))return"Webos";if(Qv(t))return"Safari";if((t.includes("chrome/")||Kv(t))&&!t.includes("edge/"))return"Chrome";if(Wv(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function Fv(s=vt()){return/firefox\//i.test(s)}function Qv(s=vt()){const t=s.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Kv(s=vt()){return/crios\//i.test(s)}function Xv(s=vt()){return/iemobile/i.test(s)}function Wv(s=vt()){return/android/i.test(s)}function Zv(s=vt()){return/blackberry/i.test(s)}function $v(s=vt()){return/webos/i.test(s)}function _h(s=vt()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function gT(s=vt()){var t;return _h(s)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function vT(){return Ob()&&document.documentMode===10}function Jv(s=vt()){return _h(s)||Wv(s)||$v(s)||Zv(s)||/windows phone/i.test(s)||Xv(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ey(s,t=[]){let i;switch(s){case"Browser":i=yg(vt());break;case"Worker":i=`${yg(vt())}-${s}`;break;default:i=s}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ur}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((h,d)=>{try{const m=t(c);h(m)}catch(m){d(m)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ET(s,t={}){return Ri(s,"GET","/v2/passwordPolicy",wi(s,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=6;class bT{constructor(t){var i,a,o,c;const h=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=h.minPasswordLength)!==null&&i!==void 0?i:ST,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(a=t.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=t.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,a,o,c,h,d;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,m),this.validatePasswordCharacterOptions(t,m),m.isValid&&(m.isValid=(i=m.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),m.isValid&&(m.isValid=(a=m.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(o=m.containsLowercaseLetter)!==null&&o!==void 0?o:!0),m.isValid&&(m.isValid=(c=m.containsUppercaseLetter)!==null&&c!==void 0?c:!0),m.isValid&&(m.isValid=(h=m.containsNumericCharacter)!==null&&h!==void 0?h:!0),m.isValid&&(m.isValid=(d=m.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),m}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Eg(this),this.idTokenSubscription=new Eg(this),this.beforeStateQueue=new yT(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=kn(i)),this._initializationPromise=this.queue(async()=>{var a,o,c;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,t),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await To(this,{idToken:t}),a=await nn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(Zt(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let o=a,c=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,d=o==null?void 0:o._redirectEventId,m=await this.tryRedirectSignIn(t);(!h||h===d)&&(m!=null&&m.user)&&(o=m.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Co(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tT()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zt(this.app))return Promise.reject(Ln(this));const i=t?Nt(t):null;return i&&$(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&$(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zt(this.app)?Promise.reject(Ln(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zt(this.app)?Promise.reject(Ln(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(kn(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await ET(this),i=new bT(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new za("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await _T(this,a)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&kn(t)||this._popupRedirectResolver;$(i,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[kn(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($(d,this,"internal-error"),d.then(()=>{h||c(this.currentUser)}),typeof i=="function"){const m=t.addObserver(i,a,o);return()=>{h=!0,m()}}else{const m=t.addObserver(i);return()=>{h=!0,m()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ey(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const o=await this._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i}async _getAppCheckToken(){var t;if(Zt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&$1(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function as(s){return Nt(s)}class Eg{constructor(t){this.auth=t,this.observer=null,this.addObserver=Pb(i=>this.observer=i)}get next(){return $(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yo={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CT(s){Yo=s}function ty(s){return Yo.loadJS(s)}function AT(){return Yo.recaptchaEnterpriseScript}function wT(){return Yo.gapiScript}function RT(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class NT{constructor(){this.enterprise=new OT}ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}class OT{ready(t){t()}execute(t,i){return Promise.resolve("token")}render(t,i){return""}}const DT="recaptcha-enterprise",ny="NO_RECAPTCHA";class MT{constructor(t){this.type=DT,this.auth=as(t)}async verify(t="verify",i=!1){async function a(c){if(!i){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(h,d)=>{oT(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const _=new lT(m);return c.tenantId==null?c._agentRecaptchaConfig=_:c._tenantRecaptchaConfigs[c.tenantId]=_,h(_.siteKey)}}).catch(m=>{d(m)})})}function o(c,h,d){const m=window.grecaptcha;mg(m)?m.enterprise.ready(()=>{m.enterprise.execute(c,{action:t}).then(_=>{h(_)}).catch(()=>{h(ny)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new NT().execute("siteKey",{action:"verify"}):new Promise((c,h)=>{a(this.auth).then(d=>{if(!i&&mg(window.grecaptcha))o(d,c,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let m=AT();m.length!==0&&(m+=d),ty(m).then(()=>{o(d,c,h)}).catch(_=>{h(_)})}}).catch(d=>{h(d)})})}}async function Sg(s,t,i,a=!1,o=!1){const c=new MT(s);let h;if(o)h=ny;else try{h=await c.verify(i)}catch{h=await c.verify(i,!0)}const d=Object.assign({},t);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,_=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:_,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return a?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Vf(s,t,i,a,o){var c;if(!((c=s._getRecaptchaConfig())===null||c===void 0)&&c.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Sg(s,t,i,i==="getOobCode");return a(s,h)}else return a(s,t).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Sg(s,t,i,i==="getOobCode");return a(s,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(s,t){const i=fh(s,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if($i(c,t??{}))return o;ln(o,"already-initialized")}return i.initialize({options:t})}function xT(s,t){const i=(t==null?void 0:t.persistence)||[],a=(Array.isArray(i)?i:[i]).map(kn);t!=null&&t.errorMap&&s._updateErrorMap(t.errorMap),s._initializeWithPersistence(a,t==null?void 0:t.popupRedirectResolver)}function kT(s,t,i){const a=as(s);$(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=iy(t),{host:h,port:d}=UT(t),m=d===null?"":`:${d}`,_={url:`${c}//${h}${m}/`},y=Object.freeze({host:h,port:d,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){$(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),$($i(_,a.config.emulator)&&$i(y,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=y,a.settings.appVerificationDisabledForTesting=!0,La(h)?(Nv(`${c}//${h}${m}`),Ov("Auth",!0)):LT()}function iy(s){const t=s.indexOf(":");return t<0?"":s.substr(0,t+1)}function UT(s){const t=iy(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:bg(a.substr(c.length+1))}}else{const[c,h]=a.split(":");return{host:c,port:bg(h)}}}function bg(s){if(!s)return null;const t=Number(s);return isNaN(t)?null:t}function LT(){function s(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return xn("not implemented")}_getIdTokenResponse(t){return xn("not implemented")}_linkToIdToken(t,i){return xn("not implemented")}_getReauthenticationResolver(t){return xn("not implemented")}}async function zT(s,t){return Ri(s,"POST","/v1/accounts:signUp",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(s,t){return Pa(s,"POST","/v1/accounts:signInWithPassword",wi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function PT(s,t){return Pa(s,"POST","/v1/accounts:signInWithEmailLink",wi(s,t))}async function BT(s,t){return Pa(s,"POST","/v1/accounts:signInWithEmailLink",wi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa extends gh{constructor(t,i,a,o=null){super("password",a),this._email=t,this._password=i,this._tenantId=o}static _fromEmailAndPassword(t,i){return new Oa(t,i,"password")}static _fromEmailAndCode(t,i,a=null){return new Oa(t,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(t,i,"signInWithPassword",HT);case"emailLink":return PT(t,{email:this._email,oobCode:this._password});default:ln(t,"internal-error")}}async _linkToIdToken(t,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Vf(t,a,"signUpPassword",zT);case"emailLink":return BT(t,{idToken:i,email:this._email,oobCode:this._password});default:ln(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(s,t){return Pa(s,"POST","/v1/accounts:signInWithIdp",wi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="http://localhost";class es extends gh{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new es(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ln("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o}=i,c=hh(i,["providerId","signInMethod"]);if(!a||!o)return null;const h=new es(a,o);return h.idToken=c.idToken||void 0,h.accessToken=c.accessToken||void 0,h.secret=c.secret,h.nonce=c.nonce,h.pendingToken=c.pendingToken||null,h}_getIdTokenResponse(t){const i=this.buildRequest();return $s(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,$s(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,$s(t,i)}buildRequest(){const t={requestUri:jT,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=or(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qT(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function VT(s){const t=ga(va(s)).link,i=t?ga(va(t)).deep_link_id:null,a=ga(va(s)).deep_link_id;return(a?ga(va(a)).link:null)||a||i||t||s}class vh{constructor(t){var i,a,o,c,h,d;const m=ga(va(t)),_=(i=m.apiKey)!==null&&i!==void 0?i:null,y=(a=m.oobCode)!==null&&a!==void 0?a:null,b=qT((o=m.mode)!==null&&o!==void 0?o:null);$(_&&y&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=y,this.continueUrl=(c=m.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(h=m.lang)!==null&&h!==void 0?h:null,this.tenantId=(d=m.tenantId)!==null&&d!==void 0?d:null}static parseLink(t){const i=VT(t);try{return new vh(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.providerId=cr.PROVIDER_ID}static credential(t,i){return Oa._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const a=vh.parseLink(i);return $(a,"argument-error"),Oa._fromEmailAndCode(t,a.code,a.tenantId)}}cr.PROVIDER_ID="password";cr.EMAIL_PASSWORD_SIGN_IN_METHOD="password";cr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba extends sy{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi extends Ba{constructor(){super("facebook.com")}static credential(t){return es._fromParams({providerId:mi.PROVIDER_ID,signInMethod:mi.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return mi.credentialFromTaggedObject(t)}static credentialFromError(t){return mi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return mi.credential(t.oauthAccessToken)}catch{return null}}}mi.FACEBOOK_SIGN_IN_METHOD="facebook.com";mi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends Ba{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return es._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return _i.credentialFromTaggedObject(t)}static credentialFromError(t){return _i.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return _i.credential(i,a)}catch{return null}}}_i.GOOGLE_SIGN_IN_METHOD="google.com";_i.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi extends Ba{constructor(){super("github.com")}static credential(t){return es._fromParams({providerId:gi.PROVIDER_ID,signInMethod:gi.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return gi.credentialFromTaggedObject(t)}static credentialFromError(t){return gi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return gi.credential(t.oauthAccessToken)}catch{return null}}}gi.GITHUB_SIGN_IN_METHOD="github.com";gi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends Ba{constructor(){super("twitter.com")}static credential(t,i){return es._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return vi.credentialFromTaggedObject(t)}static credentialFromError(t){return vi.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return vi.credential(i,a)}catch{return null}}}vi.TWITTER_SIGN_IN_METHOD="twitter.com";vi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GT(s,t){return Pa(s,"POST","/v1/accounts:signUp",wi(s,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await nn._fromIdTokenResponse(t,a,o),h=Tg(a);return new ts({user:c,providerId:h,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=Tg(a);return new ts({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function Tg(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao extends Ai{constructor(t,i,a,o){var c;super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,Ao.prototype),this.customData={appName:t.name,tenantId:(c=t.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new Ao(t,i,a,o)}}function ry(s,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Ao._fromErrorAndOperation(s,c,t,a):c})}async function YT(s,t,i=!1){const a=await Na(s,t._linkToIdToken(s.auth,await s.getIdToken()),i);return ts._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FT(s,t,i=!1){const{auth:a}=s;if(Zt(a.app))return Promise.reject(Ln(a));const o="reauthenticate";try{const c=await Na(s,ry(a,o,t,s),i);$(c.idToken,a,"internal-error");const h=mh(c.idToken);$(h,a,"internal-error");const{sub:d}=h;return $(s.uid===d,a,"user-mismatch"),ts._forOperation(s,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&ln(a,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ay(s,t,i=!1){if(Zt(s.app))return Promise.reject(Ln(s));const a="signIn",o=await ry(s,a,t),c=await ts._fromIdTokenResponse(s,a,o);return i||await s._updateCurrentUser(c.user),c}async function QT(s,t){return ay(as(s),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ly(s){const t=as(s);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function KT(s,t,i){if(Zt(s.app))return Promise.reject(Ln(s));const a=as(s),h=await Vf(a,{returnSecureToken:!0,email:t,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GT).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&ly(s),m}),d=await ts._fromIdTokenResponse(a,"signIn",h);return await a._updateCurrentUser(d.user),d}function XT(s,t,i){return Zt(s.app)?Promise.reject(Ln(s)):QT(Nt(s),cr.credential(t,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&ly(s),a})}function WT(s,t,i,a){return Nt(s).onIdTokenChanged(t,i,a)}function ZT(s,t,i){return Nt(s).beforeAuthStateChanged(t,i)}function $T(s,t,i,a){return Nt(s).onAuthStateChanged(t,i,a)}function JT(s){return Nt(s).signOut()}const wo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(wo,"1"),this.storage.removeItem(wo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=1e3,tC=10;class uy extends oy{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Jv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((h,d,m)=>{this.notifyListeners(h,m)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(a);!i&&this.localCache[a]===h||this.notifyListeners(a,h)},c=this.storage.getItem(a);vT()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,tC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},eC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}uy.type="LOCAL";const nC=uy;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy extends oy{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}cy.type="SESSION";const fy=cy;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(s){return Promise.all(s.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Fo(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const d=Array.from(h).map(async _=>_(i.origin,c)),m=await iC(d);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:m})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fo.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yh(s="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,h;return new Promise((d,m)=>{const _=yh("",20);o.port1.start();const y=setTimeout(()=>{m(new Error("unsupported_event"))},a);h={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===_)switch(T.data.status){case"ack":clearTimeout(y),c=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),d(T.data.response);break;default:clearTimeout(y),clearTimeout(c),m(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(){return window}function rC(s){_n().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(){return typeof _n().WorkerGlobalScope<"u"&&typeof _n().importScripts=="function"}async function aC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lC(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function oC(){return hy()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy="firebaseLocalStorageDb",uC=1,Ro="firebaseLocalStorage",py="fbase_key";class ja{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qo(s,t){return s.transaction([Ro],t?"readwrite":"readonly").objectStore(Ro)}function cC(){const s=indexedDB.deleteDatabase(dy);return new ja(s).toPromise()}function Gf(){const s=indexedDB.open(dy,uC);return new Promise((t,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Ro,{keyPath:py})}catch(o){i(o)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Ro)?t(a):(a.close(),await cC(),t(await Gf()))})})}async function Cg(s,t,i){const a=Qo(s,!0).put({[py]:t,value:i});return new ja(a).toPromise()}async function fC(s,t){const i=Qo(s,!1).get(t),a=await new ja(i).toPromise();return a===void 0?null:a.value}function Ag(s,t){const i=Qo(s,!0).delete(t);return new ja(i).toPromise()}const hC=800,dC=3;class my{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gf(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>dC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return hy()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fo._getInstance(oC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await aC(),!this.activeServiceWorker)return;this.sender=new sC(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((t=a[0])===null||t===void 0)&&t.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gf();return await Cg(t,wo,"1"),await Ag(t,wo),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>Cg(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>fC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ag(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Qo(o,!1).getAll();return new ja(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}my.type="LOCAL";const pC=my;new Ha(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(s,t){return t?kn(t):($(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends gh{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return $s(t,this._buildIdpRequest())}_linkToIdToken(t,i){return $s(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return $s(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function _C(s){return ay(s.auth,new Eh(s),s.bypassAuthState)}function gC(s){const{auth:t,user:i}=s;return $(i,t,"internal-error"),FT(i,new Eh(s),s.bypassAuthState)}async function vC(s){const{auth:t,user:i}=s;return $(i,t,"internal-error"),YT(i,new Eh(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:h,type:d}=t;if(h){this.reject(h);return}const m={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return _C;case"linkViaPopup":case"linkViaRedirect":return vC;case"reauthViaPopup":case"reauthViaRedirect":return gC;default:ln(this.auth,"internal-error")}}resolve(t){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new Ha(2e3,1e4);class Ks extends _y{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,Ks.currentPopupAction&&Ks.currentPopupAction.cancel(),Ks.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return $(t,this.auth,"internal-error"),t}async onExecution(){Pn(this.filter.length===1,"Popup operations only handle one event");const t=yh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(mn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(mn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ks.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yC.get())};t()}}Ks.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="pendingRedirect",po=new Map;class SC extends _y{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=po.get(this.auth._key());if(!t){try{const a=await bC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}po.set(this.auth._key(),t)}return this.bypassAuthState||po.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function bC(s,t){const i=AC(t),a=CC(s);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function TC(s,t){po.set(s._key(),t)}function CC(s){return kn(s._redirectPersistence)}function AC(s){return ho(EC,s.config.apiKey,s.name)}async function wC(s,t,i=!1){if(Zt(s.app))return Promise.reject(Ln(s));const a=as(s),o=mC(a,t),h=await new SC(a,o,i).execute();return h&&!i&&(delete h.user._redirectEventId,await a._persistUserIfCurrent(h.user),await a._setRedirectUser(null,t)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=10*60*1e3;class NC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!OC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var a;if(t.error&&!gy(t)){const o=((a=t.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(mn(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=RC&&this.cachedEventUids.clear(),this.cachedEventUids.has(wg(t))}saveEventToCache(t){this.cachedEventUids.add(wg(t)),this.lastProcessedEventTime=Date.now()}}function wg(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(t=>t).join("-")}function gy({type:s,error:t}){return s==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function OC(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gy(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DC(s,t={}){return Ri(s,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IC=/^https?/;async function xC(s){if(s.config.emulator)return;const{authorizedDomains:t}=await DC(s);for(const i of t)try{if(kC(i))return}catch{}ln(s,"unauthorized-domain")}function kC(s){const t=jf(),{protocol:i,hostname:a}=new URL(t);if(s.startsWith("chrome-extension://")){const h=new URL(s);return h.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&h.hostname===a}if(!IC.test(i))return!1;if(MC.test(s))return a===s;const o=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new Ha(3e4,6e4);function Rg(){const s=_n().___jsl;if(s!=null&&s.H){for(const t of Object.keys(s.H))if(s.H[t].r=s.H[t].r||[],s.H[t].L=s.H[t].L||[],s.H[t].r=[...s.H[t].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function LC(s){return new Promise((t,i)=>{var a,o,c;function h(){Rg(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Rg(),i(mn(s,"network-request-failed"))},timeout:UC.get()})}if(!((o=(a=_n().gapi)===null||a===void 0?void 0:a.iframes)===null||o===void 0)&&o.Iframe)t(gapi.iframes.getContext());else if(!((c=_n().gapi)===null||c===void 0)&&c.load)h();else{const d=RT("iframefcb");return _n()[d]=()=>{gapi.load?h():i(mn(s,"network-request-failed"))},ty(`${wT()}?onload=${d}`).catch(m=>i(m))}}).catch(t=>{throw mo=null,t})}let mo=null;function zC(s){return mo=mo||LC(s),mo}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Ha(5e3,15e3),PC="__/auth/iframe",BC="emulator/auth/iframe",jC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VC(s){const t=s.config;$(t.authDomain,s,"auth-domain-config-required");const i=t.emulator?ph(t,BC):`https://${s.config.authDomain}/${PC}`,a={apiKey:t.apiKey,appName:s.name,v:ur},o=qC.get(s.config.apiHost);o&&(a.eid=o);const c=s._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${or(a).slice(1)}`}async function GC(s){const t=await zC(s),i=_n().gapi;return $(i,s,"internal-error"),t.open({where:document.body,url:VC(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jC,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const h=mn(s,"network-request-failed"),d=_n().setTimeout(()=>{c(h)},HC.get());function m(){_n().clearTimeout(d),o(a)}a.ping(m).then(m,()=>{c(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FC=500,QC=600,KC="_blank",XC="http://localhost";class Ng{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WC(s,t,i,a=FC,o=QC){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-a)/2,0).toString();let d="";const m=Object.assign(Object.assign({},YC),{width:a.toString(),height:o.toString(),top:c,left:h}),_=vt().toLowerCase();i&&(d=Kv(_)?KC:i),Fv(_)&&(t=t||XC,m.scrollbars="yes");const y=Object.entries(m).reduce((T,[z,j])=>`${T}${z}=${j},`,"");if(gT(_)&&d!=="_self")return ZC(t||"",d),new Ng(null);const b=window.open(t||"",d,y);$(b,s,"popup-blocked");try{b.focus()}catch{}return new Ng(b)}function ZC(s,t){const i=document.createElement("a");i.href=s,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C="__/auth/handler",JC="emulator/auth/handler",eA=encodeURIComponent("fac");async function Og(s,t,i,a,o,c){$(s.config.authDomain,s,"auth-domain-config-required"),$(s.config.apiKey,s,"invalid-api-key");const h={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:ur,eventId:o};if(t instanceof sy){t.setDefaultLanguage(s.languageCode),h.providerId=t.providerId||"",Uf(t.getCustomParameters())||(h.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,b]of Object.entries({}))h[y]=b}if(t instanceof Ba){const y=t.getScopes().filter(b=>b!=="");y.length>0&&(h.scopes=y.join(","))}s.tenantId&&(h.tid=s.tenantId);const d=h;for(const y of Object.keys(d))d[y]===void 0&&delete d[y];const m=await s._getAppCheckToken(),_=m?`#${eA}=${encodeURIComponent(m)}`:"";return`${tA(s)}?${or(d).slice(1)}${_}`}function tA({config:s}){return s.emulator?ph(s,JC):`https://${s.authDomain}/${$C}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rf="webStorageSupport";class nA{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fy,this._completeRedirectFn=wC,this._overrideRedirectResult=TC}async _openPopup(t,i,a,o){var c;Pn((c=this.eventManagers[t._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const h=await Og(t,i,a,jf(),o);return WC(t,h,yh())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await Og(t,i,a,jf(),o);return rC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(Pn(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await GC(t),a=new NC(t);return i.register("authEvent",o=>($(o==null?void 0:o.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Rf,{type:Rf},o=>{var c;const h=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Rf];h!==void 0&&i(!!h),ln(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=xC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Jv()||Qv()||_h()}}const iA=nA;var Dg="@firebase/auth",Mg="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rA(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aA(s){ir(new Ji("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=a.options;$(h&&!h.includes(":"),"invalid-api-key",{appName:a.name});const m={apiKey:h,authDomain:d,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ey(s)},_=new TT(a,o,c,m);return xT(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),ir(new Ji("auth-internal",t=>{const i=as(t.getProvider("auth").getImmediate());return(a=>new sA(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Si(Dg,Mg,rA(s)),Si(Dg,Mg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA=5*60,oA=Rv("authIdTokenMaxAge")||lA;let Ig=null;const uA=s=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>oA)return;const o=i==null?void 0:i.token;Ig!==o&&(Ig=o,await fetch(s,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function vy(s=Uv()){const t=fh(s,"auth");if(t.isInitialized())return t.getImmediate();const i=IT(s,{popupRedirectResolver:iA,persistence:[pC,nC,fy]}),a=Rv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const h=uA(c.toString());ZT(i,h,()=>h(i.currentUser)),WT(i,d=>h(d))}}const o=Av("auth");return o&&kT(i,`http://${o}`),i}function cA(){var s,t;return(t=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&t!==void 0?t:document}CT({loadJS(s){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=t,a.onerror=o=>{const c=mn("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",cA().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aA("Browser");var xg={};const kg="@firebase/database",Ug="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yy="";function fA(s){yy=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,i){i==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),at(i))}get(t){const i=this.domStorage_.getItem(this.prefixedName_(t));return i==null?null:wa(i)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,i){i==null?delete this.cache_[t]:this.cache_[t]=i}get(t){return qn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const t=window[s];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new hA(t)}}catch{}return new dA},Xi=Ey("localStorage"),pA=Ey("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new uh("@firebase/database"),mA=function(){let s=1;return function(){return s++}}(),Sy=function(s){const t=qb(s),i=new Hb;i.update(t);const a=i.digest();return rh.encodeByteArray(a)},qa=function(...s){let t="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?t+=qa.apply(null,a):typeof a=="object"?t+=at(a):t+=a,t+=" "}return t};let Sa=null,Lg=!0;const _A=function(s,t){q(!0,"Can't turn on custom loggers persistently."),Js.logLevel=we.VERBOSE,Sa=Js.log.bind(Js)},_t=function(...s){if(Lg===!0&&(Lg=!1,Sa===null&&pA.get("logging_enabled")===!0&&_A()),Sa){const t=qa.apply(null,s);Sa(t)}},Va=function(s){return function(...t){_t(s,...t)}},Yf=function(...s){const t="FIREBASE INTERNAL ERROR: "+qa(...s);Js.error(t)},Bn=function(...s){const t=`FIREBASE FATAL ERROR: ${qa(...s)}`;throw Js.error(t),new Error(t)},wt=function(...s){const t="FIREBASE WARNING: "+qa(...s);Js.warn(t)},gA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},by=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},vA=function(s){if(document.readyState==="complete")s();else{let t=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}t||(t=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},sr="[MIN_NAME]",ns="[MAX_NAME]",fr=function(s,t){if(s===t)return 0;if(s===sr||t===ns)return-1;if(t===sr||s===ns)return 1;{const i=zg(s),a=zg(t);return i!==null?a!==null?i-a===0?s.length-t.length:i-a:-1:a!==null?1:s<t?-1:1}},yA=function(s,t){return s===t?0:s<t?-1:1},da=function(s,t){if(t&&s in t)return t[s];throw new Error("Missing required key ("+s+") in object: "+at(t))},Sh=function(s){if(typeof s!="object"||s===null)return at(s);const t=[];for(const a in s)t.push(a);t.sort();let i="{";for(let a=0;a<t.length;a++)a!==0&&(i+=","),i+=at(t[a]),i+=":",i+=Sh(s[t[a]]);return i+="}",i},Ty=function(s,t){const i=s.length;if(i<=t)return[s];const a=[];for(let o=0;o<i;o+=t)o+t>i?a.push(s.substring(o,i)):a.push(s.substring(o,o+t));return a};function Rt(s,t){for(const i in s)s.hasOwnProperty(i)&&t(i,s[i])}const Cy=function(s){q(!by(s),"Invalid JSON number");const t=11,i=52,a=(1<<t-1)-1;let o,c,h,d,m;s===0?(c=0,h=0,o=1/s===-1/0?1:0):(o=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(d=Math.min(Math.floor(Math.log(s)/Math.LN2),a),c=d+a,h=Math.round(s*Math.pow(2,i-d)-Math.pow(2,i))):(c=0,h=Math.round(s/Math.pow(2,1-a-i))));const _=[];for(m=i;m;m-=1)_.push(h%2?1:0),h=Math.floor(h/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(o?1:0),_.reverse();const y=_.join("");let b="";for(m=0;m<64;m+=8){let T=parseInt(y.substr(m,8),2).toString(16);T.length===1&&(T="0"+T),b=b+T}return b.toLowerCase()},EA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},SA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function bA(s,t){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+t._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const TA=new RegExp("^-?(0*)\\d{1,10}$"),CA=-2147483648,AA=2147483647,zg=function(s){if(TA.test(s)){const t=Number(s);if(t>=CA&&t<=AA)return t}return null},hr=function(s){try{s()}catch(t){setTimeout(()=>{const i=t.stack||"";throw wt("Exception was thrown by user callback.",i),t},Math.floor(0))}},wA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ba=function(s,t){const i=setTimeout(s,t);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(t,i){this.appCheckProvider=i,this.appName=t.name,Zt(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(t))}notifyForInvalidToken(){wt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NA{constructor(t,i,a){this.appName_=t,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(o=>this.auth_=o)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(i=>i&&i.code==="auth/token-not-initialized"?(_t("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(i,a):i(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(i=>i.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(i=>i.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',wt(t)}}class _o{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}_o.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh="5",Ay="v",wy="s",Ry="r",Ny="f",Oy=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Dy="ls",My="p",Ff="ac",Iy="websocket",xy="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky{constructor(t,i,a,o,c=!1,h="",d=!1,m=!1,_=null){this.secure=i,this.namespace=a,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=h,this.includeNamespaceInQueryParams=d,this.isUsingEmulator=m,this.emulatorOptions=_,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Xi.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Xi.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${i}`}}function OA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Uy(s,t,i){q(typeof t=="string","typeof type must == string"),q(typeof i=="object","typeof params must == object");let a;if(t===Iy)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(t===xy)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);OA(s)&&(i.ns=s.namespace);const o=[];return Rt(i,(c,h)=>{o.push(c+"="+h)}),a+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{constructor(){this.counters_={}}incrementCounter(t,i=1){qn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=i}get(){return gb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nf={},Of={};function Th(s){const t=s.toString();return Nf[t]||(Nf[t]=new DA),Nf[t]}function MA(s,t){const i=s.toString();return Of[i]||(Of[i]=t()),Of[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,i){this.closeAfterResponse=t,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,i){for(this.pendingResponses[t]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<a.length;++o)a[o]&&hr(()=>{this.onMessage_(a[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hg="start",xA="close",kA="pLPCommand",UA="pRTLPCB",Ly="id",zy="pw",Hy="ser",LA="cb",zA="seg",HA="ts",PA="d",BA="dframe",Py=1870,By=30,jA=Py-By,qA=25e3,VA=3e4;class Xs{constructor(t,i,a,o,c,h,d){this.connId=t,this.repoInfo=i,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.transportSessionId=h,this.lastSessionId=d,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Va(t),this.stats_=Th(i),this.urlFn=m=>(this.appCheckToken&&(m[Ff]=this.appCheckToken),Uy(i,xy,m))}open(t,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new IA(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VA)),vA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ch((...c)=>{const[h,d,m,_,y]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===Hg)this.id=d,this.password=m;else if(h===xA)d?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(d,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...c)=>{const[h,d]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(h,d)},()=>{this.onClosed_()},this.urlFn);const a={};a[Hg]="t",a[Hy]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[LA]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Ay]=bh,this.transportSessionId&&(a[wy]=this.transportSessionId),this.lastSessionId&&(a[Dy]=this.lastSessionId),this.applicationId&&(a[My]=this.applicationId),this.appCheckToken&&(a[Ff]=this.appCheckToken),typeof location<"u"&&location.hostname&&Oy.test(location.hostname)&&(a[Ry]=Ny);const o=this.urlFn(a);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Xs.forceAllow_=!0}static forceDisallow(){Xs.forceDisallow_=!0}static isAvailable(){return Xs.forceAllow_?!0:!Xs.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!EA()&&!SA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Tv(i),o=Ty(a,jA);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(t,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[BA]="t",a[Ly]=t,a[zy]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const i=at(t).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class Ch{constructor(t,i,a,o){this.onDisconnect=a,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=mA(),window[kA+this.uniqueCallbackIdentifier]=t,window[UA+this.uniqueCallbackIdentifier]=i,this.myIFrame=Ch.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(d){_t("frame writing exception"),d.stack&&_t(d.stack),_t(d)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||_t("No IE domain setting required")}catch{const a=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,i){for(this.myID=t,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Ly]=this.myID,t[zy]=this.myPW,t[Hy]=this.currentSerial;let i=this.urlFn(t),a="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+By+a.length<=Py;){const h=this.pendingSegs.shift();a=a+"&"+zA+o+"="+h.seg+"&"+HA+o+"="+h.ts+"&"+PA+o+"="+h.d,o++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(t,i,a){this.pendingSegs.push({seg:t,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(t,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},o=setTimeout(a,Math.floor(qA)),c=()=>{clearTimeout(o),a()};this.addTag(t,c)}addTag(t,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=t,a.onload=a.onreadystatechange=function(){const o=a.readyState;(!o||o==="loaded"||o==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{_t("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=16384,YA=45e3;let No=null;typeof MozWebSocket<"u"?No=MozWebSocket:typeof WebSocket<"u"&&(No=WebSocket);class tn{constructor(t,i,a,o,c,h,d){this.connId=t,this.applicationId=a,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Va(this.connId),this.stats_=Th(i),this.connURL=tn.connectionURL_(i,h,d,o,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,a,o,c){const h={};return h[Ay]=bh,typeof location<"u"&&location.hostname&&Oy.test(location.hostname)&&(h[Ry]=Ny),i&&(h[wy]=i),a&&(h[Dy]=a),o&&(h[Ff]=o),c&&(h[My]=c),Uy(t,Iy,h)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Xi.set("previous_websocket_failure",!0);try{let a;Db(),this.mySock=new No(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const o=a.message||a.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){tn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(t=!0)}return!t&&No!==null&&!tn.forceDisallow_}static previouslyFailed(){return Xi.isInMemoryStorage||Xi.get("previous_websocket_failure")===!0}markConnectionHealthy(){Xi.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=wa(i);this.onMessage(a)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(q(this.frames===null,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(t){this.resetKeepAlive();const i=at(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=Ty(i,GA);a.length>1&&this.sendString_(String(a.length));for(let o=0;o<a.length;o++)this.sendString_(a[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(YA))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}tn.responsesRequiredToBeHealthy=2;tn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static get ALL_TRANSPORTS(){return[Xs,tn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const i=tn&&tn.isAvailable();let a=i&&!tn.previouslyFailed();if(t.webSocketOnly&&(i||wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[tn];else{const o=this.transports_=[];for(const c of Da.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);Da.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Da.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=6e4,QA=5e3,KA=10*1024,XA=100*1024,Df="t",Pg="d",WA="s",Bg="r",ZA="e",jg="o",qg="a",Vg="n",Gg="p",$A="h";class JA{constructor(t,i,a,o,c,h,d,m,_,y){this.id=t,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=h,this.onReady_=d,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=y,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Va("c:"+this.id+":"),this.transportManager_=new Da(i),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const o=t.healthyTimeout||0;o>0&&(this.healthyTimeout_=ba(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>XA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>KA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return i=>{t===this.conn_?this.onConnectionLost_(i):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return i=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(i):t===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(t){const i={t:"d",d:t};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Df in t){const i=t[Df];i===qg?this.upgradeIfSecondaryHealthy_():i===Bg?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===jg&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const i=da("t",t),a=da("d",t);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Gg,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:qg,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vg,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const i=da("t",t),a=da("d",t);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const i=da(Df,t);if(Pg in t){const a=t[Pg];if(i===$A){const o=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(i===Vg){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===WA?this.onConnectionShutdown_(a):i===Bg?this.onReset_(a):i===ZA?Yf("Server Error: "+a):i===jg?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Yf("Unknown control packet command: "+i)}}onHandshake_(t){const i=t.ts,a=t.v,o=t.h;this.sessionId=t.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),bh!==a&&wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),ba(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(FA))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,i){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ba(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(QA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Gg,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Xi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{put(t,i,a,o){}merge(t,i,a,o){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,i,a){}onDisconnectMerge(t,i,a){}onDisconnectCancel(t,i){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qy{constructor(t){this.allowedEvents_=t,this.listeners_={},q(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...i){if(Array.isArray(this.listeners_[t])){const a=[...this.listeners_[t]];for(let o=0;o<a.length;o++)a[o].callback.apply(a[o].context,i)}}on(t,i,a){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:i,context:a});const o=this.getInitialEvent(t);o&&i.apply(a,o)}off(t,i,a){this.validateEventType_(t);const o=this.listeners_[t]||[];for(let c=0;c<o.length;c++)if(o[c].callback===i&&(!a||a===o[c].context)){o.splice(c,1);return}}validateEventType_(t){q(this.allowedEvents_.find(i=>i===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo extends qy{static getInstance(){return new Oo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!lh()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return q(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yg=32,Fg=768;class Ne{constructor(t,i){if(i===void 0){this.pieces_=t.split("/");let a=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[a]=this.pieces_[o],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=i}toString(){let t="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(t+="/"+this.pieces_[i]);return t||"/"}}function ge(){return new Ne("")}function oe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function Ti(s){return s.pieces_.length-s.pieceNum_}function Me(s){let t=s.pieceNum_;return t<s.pieces_.length&&t++,new Ne(s.pieces_,t)}function Vy(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function ew(s){let t="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(t+="/"+encodeURIComponent(String(s.pieces_[i])));return t||"/"}function Gy(s,t=0){return s.pieces_.slice(s.pieceNum_+t)}function Yy(s){if(s.pieceNum_>=s.pieces_.length)return null;const t=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)t.push(s.pieces_[i]);return new Ne(t,0)}function $e(s,t){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(t instanceof Ne)for(let a=t.pieceNum_;a<t.pieces_.length;a++)i.push(t.pieces_[a]);else{const a=t.split("/");for(let o=0;o<a.length;o++)a[o].length>0&&i.push(a[o])}return new Ne(i,0)}function he(s){return s.pieceNum_>=s.pieces_.length}function Ct(s,t){const i=oe(s),a=oe(t);if(i===null)return t;if(i===a)return Ct(Me(s),Me(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+s+")")}function Ah(s,t){if(Ti(s)!==Ti(t))return!1;for(let i=s.pieceNum_,a=t.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==t.pieces_[a])return!1;return!0}function sn(s,t){let i=s.pieceNum_,a=t.pieceNum_;if(Ti(s)>Ti(t))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==t.pieces_[a])return!1;++i,++a}return!0}class tw{constructor(t,i){this.errorPrefix_=i,this.parts_=Gy(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=Go(this.parts_[a]);Fy(this)}}function nw(s,t){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(t),s.byteLength_+=Go(t),Fy(s)}function iw(s){const t=s.parts_.pop();s.byteLength_-=Go(t),s.parts_.length>0&&(s.byteLength_-=1)}function Fy(s){if(s.byteLength_>Fg)throw new Error(s.errorPrefix_+"has a key path longer than "+Fg+" bytes ("+s.byteLength_+").");if(s.parts_.length>Yg)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Yg+") or object contains a cycle "+Ki(s))}function Ki(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends qy{static getInstance(){return new wh}constructor(){super(["visible"]);let t,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[t];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(t){return q(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa=1e3,sw=60*5*1e3,Qg=30*1e3,rw=1.3,aw=3e4,lw="server_kill",Kg=3;class zn extends jy{constructor(t,i,a,o,c,h,d,m){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=h,this.appCheckTokenProvider_=d,this.authOverride_=m,this.id=zn.nextPersistentConnectionId_++,this.log_=Va("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=pa,this.maxReconnectDelay_=sw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wh.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Oo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,a){const o=++this.requestNumber_,c={r:o,a:t,b:i};this.log_(at(c)),q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),a&&(this.requestCBHash_[o]=a)}get(t){this.initConnection_();const i=new Vo,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const d=h.d;h.s==="ok"?i.resolve(d):i.reject(d)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),i.promise}listen(t,i,a,o){this.initConnection_();const c=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+c),this.listens.has(h)||this.listens.set(h,new Map),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),q(!this.listens.get(h).has(c),"listen() called twice for same path/queryId.");const d={onComplete:o,hashFn:i,query:t,tag:a};this.listens.get(h).set(c,d),this.connected_&&this.sendListen_(d)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(t){const i=t.query,a=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+a+" for "+o);const c={p:a},h="q";t.tag&&(c.q=i._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(h,c,d=>{const m=d.d,_=d.s;zn.warnOnListenWarnings_(m,i),(this.listens.get(a)&&this.listens.get(a).get(o))===t&&(this.log_("listen response",d),_!=="ok"&&this.removeListen_(a,o),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,i){if(t&&typeof t=="object"&&qn(t,"w")){const a=nr(t,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',c=i._path.toString();wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||zb(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Qg)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=Lb(t)?"auth":"gauth",a={cred:t};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,o=>{const c=o.s,h=o.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,a=t.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(t,i){const a=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+a+" "+o),q(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,o)&&this.connected_&&this.sendUnlisten_(a,o,t._queryObject,i)}sendUnlisten_(t,i,a,o){this.log_("Unlisten on "+t+" for "+i);const c={p:t},h="n";o&&(c.q=a,c.t=o),this.sendRequest(h,c)}onDisconnectPut(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:a})}onDisconnectMerge(t,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,a):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:a})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,a,o){const c={p:i,d:a};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,h=>{o&&setTimeout(()=>{o(h.s,h.d)},Math.floor(0))})}put(t,i,a,o){this.putInternal("p",t,i,a,o)}merge(t,i,a,o){this.putInternal("m",t,i,a,o)}putInternal(t,i,a,o,c){this.initConnection_();const h={p:i,d:a};c!==void 0&&(h.h=c),this.outstandingPuts_.push({action:t,request:h,onComplete:o}),this.outstandingPutCount_++;const d=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(d):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,a=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,a,c=>{this.log_(i+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const c=a.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+at(t));const i=t.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),t==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):t==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):t==="c"?this.onListenRevoked_(i.p,i.q):t==="ac"?this.onAuthRevoked_(i.s,i.d):t==="apc"?this.onAppCheckRevoked_(i.s,i.d):t==="sd"?this.onSecurityDebugPacket_(i):Yf("Unrecognized action received from server: "+at(t)+`
Are you using the latest client?`)}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=pa,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=pa,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aw&&(this.reconnectDelay_=pa),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*rw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+zn.nextConnectionId_++,c=this.lastSessionId;let h=!1,d=null;const m=function(){d?d.close():(h=!0,a())},_=function(b){q(d,"sendRequest call when we're not connected not allowed."),d.sendRequest(b)};this.realtime_={close:m,sendRequest:_};const y=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,T]=await Promise.all([this.authTokenProvider_.getToken(y),this.appCheckTokenProvider_.getToken(y)]);h?_t("getToken() completed but was canceled"):(_t("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=T&&T.token,d=new JA(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,i,a,z=>{wt(z+" ("+this.repoInfo_.toString()+")"),this.interrupt(lw)},c))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&wt(b),m())}}}interrupt(t){_t("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){_t("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Uf(this.interruptReasons_)&&(this.reconnectDelay_=pa,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let a;i?a=i.map(c=>Sh(c)).join("$"):a="default";const o=this.removeListen_(t,a);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const a=new Ne(t).toString();let o;if(this.listens.has(a)){const c=this.listens.get(a);o=c.get(i),c.delete(i),c.size===0&&this.listens.delete(a)}else o=void 0;return o}onAuthRevoked_(t,i){_t("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Kg&&(this.reconnectDelay_=Qg,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){_t("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Kg&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+yy.replace(/\./g,"-")]=1,lh()?t["framework.cordova"]=1:Dv()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Oo.getInstance().currentlyOnline();return Uf(this.interruptReasons_)&&t}}zn.nextPersistentConnectionId_=0;zn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,i){this.name=t,this.node=i}static Wrap(t,i){return new ue(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,i){const a=new ue(sr,t),o=new ue(sr,i);return this.compare(a,o)!==0}minPost(){return ue.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo;class Qy extends Ko{static get __EMPTY_NODE(){return uo}static set __EMPTY_NODE(t){uo=t}compare(t,i){return fr(t.name,i.name)}isDefinedOn(t){throw lr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,i){return!1}minPost(){return ue.MIN}maxPost(){return new ue(ns,uo)}makePost(t,i){return q(typeof t=="string","KeyIndex indexValue must always be a string."),new ue(t,uo)}toString(){return".key"}}const er=new Qy;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(t,i,a,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let h=1;for(;!t.isEmpty();)if(t=t,h=i?a(t.key,i):1,o&&(h*=-1),h<0)this.isReverse_?t=t.left:t=t.right;else if(h===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(t.key,t.value):i={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class rt{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??rt.RED,this.left=o??At.EMPTY_NODE,this.right=c??At.EMPTY_NODE}copy(t,i,a,o,c){return new rt(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o=o.copy(null,i,null,null,null):o=o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return At.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let a,o;if(a=this,i(t,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(t,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(t,a.key)===0){if(a.right.isEmpty())return At.EMPTY_NODE;o=a.right.min_(),a=a.copy(o.key,o.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(t,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,rt.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,rt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}rt.RED=!0;rt.BLACK=!1;class ow{copy(t,i,a,o,c){return this}insert(t,i,a){return new rt(t,i,null)}remove(t,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class At{constructor(t,i=At.EMPTY_NODE){this.comparator_=t,this.root_=i}insert(t,i){return new At(this.comparator_,this.root_.insert(t,i,this.comparator_).copy(null,null,rt.BLACK,null,null))}remove(t){return new At(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,rt.BLACK,null,null))}get(t){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(t,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(t){let i,a=this.root_,o=null;for(;!a.isEmpty();)if(i=this.comparator_(t,a.key),i===0){if(a.left.isEmpty())return o?o.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(o=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new co(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,i){return new co(this.root_,t,this.comparator_,!1,i)}getReverseIteratorFrom(t,i){return new co(this.root_,t,this.comparator_,!0,i)}getReverseIterator(t){return new co(this.root_,null,this.comparator_,!0,t)}}At.EMPTY_NODE=new ow;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uw(s,t){return fr(s.name,t.name)}function Rh(s,t){return fr(s,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf;function cw(s){Qf=s}const Ky=function(s){return typeof s=="number"?"number:"+Cy(s):"string:"+s},Xy=function(s){if(s.isLeafNode()){const t=s.val();q(typeof t=="string"||typeof t=="number"||typeof t=="object"&&qn(t,".sv"),"Priority must be a string or number.")}else q(s===Qf||s.isEmpty(),"priority of unexpected type.");q(s===Qf||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xg;class st{static set __childrenNodeConstructor(t){Xg=t}static get __childrenNodeConstructor(){return Xg}constructor(t,i=st.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Xy(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new st(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return he(t)?this:oe(t)===".priority"?this.priorityNode_:st.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return t===".priority"?this.updatePriority(i):i.isEmpty()&&t!==".priority"?this:st.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const a=oe(t);return a===null?i:i.isEmpty()&&a!==".priority"?this:(q(a!==".priority"||Ti(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,st.__childrenNodeConstructor.EMPTY_NODE.updateChild(Me(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+Ky(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",i==="number"?t+=Cy(this.value_):t+=this.value_,this.lazyHash_=Sy(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===st.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof st.__childrenNodeConstructor?-1:(q(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,a=typeof this.value_,o=st.VALUE_TYPE_ORDER.indexOf(i),c=st.VALUE_TYPE_ORDER.indexOf(a);return q(o>=0,"Unknown leaf type: "+i),q(c>=0,"Unknown leaf type: "+a),o===c?a==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const i=t;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}st.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wy,Zy;function fw(s){Wy=s}function hw(s){Zy=s}class dw extends Ko{compare(t,i){const a=t.node.getPriority(),o=i.node.getPriority(),c=a.compareTo(o);return c===0?fr(t.name,i.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,i){return!t.getPriority().equals(i.getPriority())}minPost(){return ue.MIN}maxPost(){return new ue(ns,new st("[PRIORITY-POST]",Zy))}makePost(t,i){const a=Wy(t);return new ue(i,new st("[PRIORITY-POST]",a))}toString(){return".priority"}}const Ve=new dw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=Math.log(2);class mw{constructor(t){const i=c=>parseInt(Math.log(c)/pw,10),a=c=>parseInt(Array(c+1).join("1"),2);this.count=i(t+1),this.current_=this.count-1;const o=a(this.count);this.bits_=t+1&o}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Do=function(s,t,i,a){s.sort(t);const o=function(m,_){const y=_-m;let b,T;if(y===0)return null;if(y===1)return b=s[m],T=i?i(b):b,new rt(T,b.node,rt.BLACK,null,null);{const z=parseInt(y/2,10)+m,j=o(m,z),K=o(z+1,_);return b=s[z],T=i?i(b):b,new rt(T,b.node,rt.BLACK,j,K)}},c=function(m){let _=null,y=null,b=s.length;const T=function(j,K){const te=b-j,ke=b;b-=j;const Oe=o(te+1,ke),de=s[te],Ie=i?i(de):de;z(new rt(Ie,de.node,K,null,Oe))},z=function(j){_?(_.left=j,_=j):(y=j,_=j)};for(let j=0;j<m.count;++j){const K=m.nextBitIsOne(),te=Math.pow(2,m.count-(j+1));K?T(te,rt.BLACK):(T(te,rt.BLACK),T(te,rt.RED))}return y},h=new mw(s.length),d=c(h);return new At(a||t,d)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf;const Qs={};class Un{static get Default(){return q(Qs&&Ve,"ChildrenNode.ts has not been loaded"),Mf=Mf||new Un({".priority":Qs},{".priority":Ve}),Mf}constructor(t,i){this.indexes_=t,this.indexSet_=i}get(t){const i=nr(this.indexes_,t);if(!i)throw new Error("No index defined for "+t);return i instanceof At?i:null}hasIndex(t){return qn(this.indexSet_,t.toString())}addIndex(t,i){q(t!==er,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let o=!1;const c=i.getIterator(ue.Wrap);let h=c.getNext();for(;h;)o=o||t.isDefinedOn(h.node),a.push(h),h=c.getNext();let d;o?d=Do(a,t.getCompare()):d=Qs;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const y=Object.assign({},this.indexes_);return y[m]=d,new Un(y,_)}addToIndexes(t,i){const a=Eo(this.indexes_,(o,c)=>{const h=nr(this.indexSet_,c);if(q(h,"Missing index implementation for "+c),o===Qs)if(h.isDefinedOn(t.node)){const d=[],m=i.getIterator(ue.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&d.push(_),_=m.getNext();return d.push(t),Do(d,h.getCompare())}else return Qs;else{const d=i.get(t.name);let m=o;return d&&(m=m.remove(new ue(t.name,d))),m.insert(t,t.node)}});return new Un(a,this.indexSet_)}removeFromIndexes(t,i){const a=Eo(this.indexes_,o=>{if(o===Qs)return o;{const c=i.get(t.name);return c?o.remove(new ue(t.name,c)):o}});return new Un(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma;class ee{static get EMPTY_NODE(){return ma||(ma=new ee(new At(Rh),null,Un.Default))}constructor(t,i,a){this.children_=t,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&Xy(this.priorityNode_),this.children_.isEmpty()&&q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ma}updatePriority(t){return this.children_.isEmpty()?this:new ee(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const i=this.children_.get(t);return i===null?ma:i}}getChild(t){const i=oe(t);return i===null?this:this.getImmediateChild(i).getChild(Me(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,i){if(q(i,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(i);{const a=new ue(t,i);let o,c;i.isEmpty()?(o=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(a,this.children_)):(o=this.children_.insert(t,i),c=this.indexMap_.addToIndexes(a,this.children_));const h=o.isEmpty()?ma:this.priorityNode_;return new ee(o,h,c)}}updateChild(t,i){const a=oe(t);if(a===null)return i;{q(oe(t)!==".priority"||Ti(t)===1,".priority must be the last token in a path");const o=this.getImmediateChild(a).updateChild(Me(t),i);return this.updateImmediateChild(a,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let a=0,o=0,c=!0;if(this.forEachChild(Ve,(h,d)=>{i[h]=d.val(t),a++,c&&ee.INTEGER_REGEXP_.test(h)?o=Math.max(o,Number(h)):c=!1}),!t&&c&&o<2*a){const h=[];for(const d in i)h[d]=i[d];return h}else return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+Ky(this.getPriority().val())+":"),this.forEachChild(Ve,(i,a)=>{const o=a.hash();o!==""&&(t+=":"+i+":"+o)}),this.lazyHash_=t===""?"":Sy(t)}return this.lazyHash_}getPredecessorChildName(t,i,a){const o=this.resolveIndex_(a);if(o){const c=o.getPredecessorKey(new ue(t,i));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new ue(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new ue(i,this.children_.get(i)):null}forEachChild(t,i){const a=this.resolveIndex_(t);return a?a.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,ue.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,ue.Wrap);let c=o.peek();for(;c!=null&&i.compare(c,t)>0;)o.getNext(),c=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Ga?-1:0}withIndex(t){if(t===er||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new ee(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===er||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(Ve),o=i.getIterator(Ve);let c=a.getNext(),h=o.getNext();for(;c&&h;){if(c.name!==h.name||!c.node.equals(h.node))return!1;c=a.getNext(),h=o.getNext()}return c===null&&h===null}else return!1;else return!1}}resolveIndex_(t){return t===er?null:this.indexMap_.get(t.toString())}}ee.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class _w extends ee{constructor(){super(new At(Rh),ee.EMPTY_NODE,Un.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ee.EMPTY_NODE}isEmpty(){return!1}}const Ga=new _w;Object.defineProperties(ue,{MIN:{value:new ue(sr,ee.EMPTY_NODE)},MAX:{value:new ue(ns,Ga)}});Qy.__EMPTY_NODE=ee.EMPTY_NODE;st.__childrenNodeConstructor=ee;cw(Ga);hw(Ga);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw=!0;function ft(s,t=null){if(s===null)return ee.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(t=s[".priority"]),q(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new st(i,ft(t))}if(!(s instanceof Array)&&gw){const i=[];let a=!1;if(Rt(s,(h,d)=>{if(h.substring(0,1)!=="."){const m=ft(d);m.isEmpty()||(a=a||!m.getPriority().isEmpty(),i.push(new ue(h,m)))}}),i.length===0)return ee.EMPTY_NODE;const c=Do(i,uw,h=>h.name,Rh);if(a){const h=Do(i,Ve.getCompare());return new ee(c,ft(t),new Un({".priority":h},{".priority":Ve}))}else return new ee(c,ft(t),Un.Default)}else{let i=ee.EMPTY_NODE;return Rt(s,(a,o)=>{if(qn(s,a)&&a.substring(0,1)!=="."){const c=ft(o);(c.isLeafNode()||!c.isEmpty())&&(i=i.updateImmediateChild(a,c))}}),i.updatePriority(ft(t))}}fw(ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw extends Ko{constructor(t){super(),this.indexPath_=t,q(!he(t)&&oe(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,i){const a=this.extractChild(t.node),o=this.extractChild(i.node),c=a.compareTo(o);return c===0?fr(t.name,i.name):c}makePost(t,i){const a=ft(t),o=ee.EMPTY_NODE.updateChild(this.indexPath_,a);return new ue(i,o)}maxPost(){const t=ee.EMPTY_NODE.updateChild(this.indexPath_,Ga);return new ue(ns,t)}toString(){return Gy(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw extends Ko{compare(t,i){const a=t.node.compareTo(i.node);return a===0?fr(t.name,i.name):a}isDefinedOn(t){return!0}indexedValueChanged(t,i){return!t.equals(i)}minPost(){return ue.MIN}maxPost(){return ue.MAX}makePost(t,i){const a=ft(t);return new ue(i,a)}toString(){return".value"}}const Ew=new yw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(s){return{type:"value",snapshotNode:s}}function rr(s,t){return{type:"child_added",snapshotNode:t,childName:s}}function Ma(s,t){return{type:"child_removed",snapshotNode:t,childName:s}}function Ia(s,t,i){return{type:"child_changed",snapshotNode:t,childName:s,oldSnap:i}}function Sw(s,t){return{type:"child_moved",snapshotNode:t,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(t){this.index_=t}updateChild(t,i,a,o,c,h){q(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const d=t.getImmediateChild(i);return d.getChild(o).equals(a.getChild(o))&&d.isEmpty()===a.isEmpty()||(h!=null&&(a.isEmpty()?t.hasChild(i)?h.trackChildChange(Ma(i,d)):q(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):d.isEmpty()?h.trackChildChange(rr(i,a)):h.trackChildChange(Ia(i,a,d))),t.isLeafNode()&&a.isEmpty())?t:t.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(t,i,a){return a!=null&&(t.isLeafNode()||t.forEachChild(Ve,(o,c)=>{i.hasChild(o)||a.trackChildChange(Ma(o,c))}),i.isLeafNode()||i.forEachChild(Ve,(o,c)=>{if(t.hasChild(o)){const h=t.getImmediateChild(o);h.equals(c)||a.trackChildChange(Ia(o,c,h))}else a.trackChildChange(rr(o,c))})),i.withIndex(this.index_)}updatePriority(t,i){return t.isEmpty()?ee.EMPTY_NODE:t.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(t){this.indexedFilter_=new Nh(t.getIndex()),this.index_=t.getIndex(),this.startPost_=xa.getStartPost_(t),this.endPost_=xa.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,a=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return i&&a}updateChild(t,i,a,o,c,h){return this.matches(new ue(i,a))||(a=ee.EMPTY_NODE),this.indexedFilter_.updateChild(t,i,a,o,c,h)}updateFullNode(t,i,a){i.isLeafNode()&&(i=ee.EMPTY_NODE);let o=i.withIndex(this.index_);o=o.updatePriority(ee.EMPTY_NODE);const c=this;return i.forEachChild(Ve,(h,d)=>{c.matches(new ue(h,d))||(o=o.updateImmediateChild(h,ee.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const i=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),i)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const i=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),i)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new xa(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,i,a,o,c,h){return this.rangedFilter_.matches(new ue(i,a))||(a=ee.EMPTY_NODE),t.getImmediateChild(i).equals(a)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,i,a,o,c,h):this.fullLimitUpdateChild_(t,i,a,c,h)}updateFullNode(t,i,a){let o;if(i.isLeafNode()||i.isEmpty())o=ee.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){o=ee.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;c.hasNext()&&h<this.limit_;){const d=c.getNext();if(this.withinDirectionalStart(d))if(this.withinDirectionalEnd(d))o=o.updateImmediateChild(d.name,d.node),h++;else break;else continue}}else{o=i.withIndex(this.index_),o=o.updatePriority(ee.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let h=0;for(;c.hasNext();){const d=c.getNext();h<this.limit_&&this.withinDirectionalStart(d)&&this.withinDirectionalEnd(d)?h++:o=o.updateImmediateChild(d.name,ee.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,o,a)}updatePriority(t,i){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,i,a,o,c){let h;if(this.reverse_){const b=this.index_.getCompare();h=(T,z)=>b(z,T)}else h=this.index_.getCompare();const d=t;q(d.numChildren()===this.limit_,"");const m=new ue(i,a),_=this.reverse_?d.getFirstChild(this.index_):d.getLastChild(this.index_),y=this.rangedFilter_.matches(m);if(d.hasChild(i)){const b=d.getImmediateChild(i);let T=o.getChildAfterChild(this.index_,_,this.reverse_);for(;T!=null&&(T.name===i||d.hasChild(T.name));)T=o.getChildAfterChild(this.index_,T,this.reverse_);const z=T==null?1:h(T,m);if(y&&!a.isEmpty()&&z>=0)return c!=null&&c.trackChildChange(Ia(i,a,b)),d.updateImmediateChild(i,a);{c!=null&&c.trackChildChange(Ma(i,b));const K=d.updateImmediateChild(i,ee.EMPTY_NODE);return T!=null&&this.rangedFilter_.matches(T)?(c!=null&&c.trackChildChange(rr(T.name,T.node)),K.updateImmediateChild(T.name,T.node)):K}}else return a.isEmpty()?t:y&&h(_,m)>=0?(c!=null&&(c.trackChildChange(Ma(_.name,_.node)),c.trackChildChange(rr(i,a))),d.updateImmediateChild(i,a).updateImmediateChild(_.name,ee.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ve}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:sr}hasEnd(){return this.endSet_}getIndexEndValue(){return q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ns}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ve}copy(){const t=new Oh;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Tw(s){return s.loadsAllData()?new Nh(s.getIndex()):s.hasLimit()?new bw(s):new xa(s)}function Wg(s){const t={};if(s.isDefault())return t;let i;if(s.index_===Ve?i="$priority":s.index_===Ew?i="$value":s.index_===er?i="$key":(q(s.index_ instanceof vw,"Unrecognized index type!"),i=s.index_.toString()),t.orderBy=at(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";t[a]=at(s.indexStartValue_),s.startNameSet_&&(t[a]+=","+at(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";t[a]=at(s.indexEndValue_),s.endNameSet_&&(t[a]+=","+at(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?t.limitToFirst=s.limit_:t.limitToLast=s.limit_),t}function Zg(s){const t={};if(s.startSet_&&(t.sp=s.indexStartValue_,s.startNameSet_&&(t.sn=s.indexStartName_),t.sin=!s.startAfterSet_),s.endSet_&&(t.ep=s.indexEndValue_,s.endNameSet_&&(t.en=s.indexEndName_),t.ein=!s.endBeforeSet_),s.limitSet_){t.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),t.vf=i}return s.index_!==Ve&&(t.i=s.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo extends jy{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,i){return i!==void 0?"tag$"+i:(q(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,i,a,o){super(),this.repoInfo_=t,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.log_=Va("p:rest:"),this.listens_={}}listen(t,i,a,o){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const h=Mo.getListenId_(t,a),d={};this.listens_[h]=d;const m=Wg(t._queryParams);this.restRequest_(c+".json",m,(_,y)=>{let b=y;if(_===404&&(b=null,_=null),_===null&&this.onDataUpdate_(c,b,!1,a),nr(this.listens_,h)===d){let T;_?_===401?T="permission_denied":T="rest_error:"+_:T="ok",o(T,null)}})}unlisten(t,i){const a=Mo.getListenId_(t,i);delete this.listens_[a]}get(t){const i=Wg(t._queryParams),a=t._path.toString(),o=new Vo;return this.restRequest_(a+".json",i,(c,h)=>{let d=h;c===404&&(d=null,c=null),c===null?(this.onDataUpdate_(a,d,!1,null),o.resolve(d)):o.reject(new Error(d))}),o.promise}refreshAuthToken(t){}restRequest_(t,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(i.auth=o.accessToken),c&&c.token&&(i.ac=c.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+or(i);this.log_("Sending REST request for "+h);const d=new XMLHttpRequest;d.onreadystatechange=()=>{if(a&&d.readyState===4){this.log_("REST Response for "+h+" received. status:",d.status,"response:",d.responseText);let m=null;if(d.status>=200&&d.status<300){try{m=wa(d.responseText)}catch{wt("Failed to parse JSON response for "+h+": "+d.responseText)}a(null,m)}else d.status!==401&&d.status!==404&&wt("Got unsuccessful REST response for "+h+" Status: "+d.status),a(d.status);a=null}},d.open("GET",h,!0),d.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cw{constructor(){this.rootNode_=ee.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,i){this.rootNode_=this.rootNode_.updateChild(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Io(){return{value:null,children:new Map}}function Jy(s,t,i){if(he(t))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(t,i);else{const a=oe(t);s.children.has(a)||s.children.set(a,Io());const o=s.children.get(a);t=Me(t),Jy(o,t,i)}}function Kf(s,t,i){s.value!==null?i(t,s.value):Aw(s,(a,o)=>{const c=new Ne(t.toString()+"/"+a);Kf(o,c,i)})}function Aw(s,t){s.children.forEach((i,a)=>{t(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),i=Object.assign({},t);return this.last_&&Rt(this.last_,(a,o)=>{i[a]=i[a]-o}),this.last_=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $g=10*1e3,Rw=30*1e3,Nw=5*60*1e3;class Ow{constructor(t,i){this.server_=i,this.statsToReport_={},this.statsListener_=new ww(t);const a=$g+(Rw-$g)*Math.random();ba(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const t=this.statsListener_.get(),i={};let a=!1;Rt(t,(o,c)=>{c>0&&qn(this.statsToReport_,o)&&(i[o]=c,a=!0)}),a&&this.server_.reportStats(i),ba(this.reportStats_.bind(this),Math.floor(Math.random()*2*Nw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(rn||(rn={}));function e0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Dh(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Mh(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(t,i,a){this.path=t,this.affectedTree=i,this.revert=a,this.type=rn.ACK_USER_WRITE,this.source=e0()}operationForChild(t){if(he(this.path)){if(this.affectedTree.value!=null)return q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Ne(t));return new xo(ge(),i,this.revert)}}else return q(oe(this.path)===t,"operationForChild called for unrelated child."),new xo(Me(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(t,i){this.source=t,this.path=i,this.type=rn.LISTEN_COMPLETE}operationForChild(t){return he(this.path)?new ka(this.source,ge()):new ka(this.source,Me(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(t,i,a){this.source=t,this.path=i,this.snap=a,this.type=rn.OVERWRITE}operationForChild(t){return he(this.path)?new is(this.source,ge(),this.snap.getImmediateChild(t)):new is(this.source,Me(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ua{constructor(t,i,a){this.source=t,this.path=i,this.children=a,this.type=rn.MERGE}operationForChild(t){if(he(this.path)){const i=this.children.subtree(new Ne(t));return i.isEmpty()?null:i.value?new is(this.source,ge(),i.value):new Ua(this.source,ge(),i)}else return q(oe(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Ua(this.source,Me(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(t,i,a){this.node_=t,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(he(t))return this.isFullyInitialized()&&!this.filtered_;const i=oe(t);return this.isCompleteForChild(i)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Mw(s,t,i,a){const o=[],c=[];return t.forEach(h=>{h.type==="child_changed"&&s.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&c.push(Sw(h.childName,h.snapshotNode))}),_a(s,o,"child_removed",t,a,i),_a(s,o,"child_added",t,a,i),_a(s,o,"child_moved",c,a,i),_a(s,o,"child_changed",t,a,i),_a(s,o,"value",t,a,i),o}function _a(s,t,i,a,o,c){const h=a.filter(d=>d.type===i);h.sort((d,m)=>xw(s,d,m)),h.forEach(d=>{const m=Iw(s,d,c);o.forEach(_=>{_.respondsTo(d.type)&&t.push(_.createEvent(m,s.query_))})})}function Iw(s,t,i){return t.type==="value"||t.type==="child_removed"||(t.prevName=i.getPredecessorChildName(t.childName,t.snapshotNode,s.index_)),t}function xw(s,t,i){if(t.childName==null||i.childName==null)throw lr("Should only compare child_ events.");const a=new ue(t.childName,t.snapshotNode),o=new ue(i.childName,i.snapshotNode);return s.index_.compare(a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xo(s,t){return{eventCache:s,serverCache:t}}function Ta(s,t,i,a){return Xo(new ss(t,i,a),s.serverCache)}function t0(s,t,i,a){return Xo(s.eventCache,new ss(t,i,a))}function Xf(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function rs(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let If;const kw=()=>(If||(If=new At(yA)),If);class xe{static fromObject(t){let i=new xe(null);return Rt(t,(a,o)=>{i=i.set(new Ne(a),o)}),i}constructor(t,i=kw()){this.value=t,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,i){if(this.value!=null&&i(this.value))return{path:ge(),value:this.value};if(he(t))return null;{const a=oe(t),o=this.children.get(a);if(o!==null){const c=o.findRootMostMatchingPathAndValue(Me(t),i);return c!=null?{path:$e(new Ne(a),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(he(t))return this;{const i=oe(t),a=this.children.get(i);return a!==null?a.subtree(Me(t)):new xe(null)}}set(t,i){if(he(t))return new xe(i,this.children);{const a=oe(t),c=(this.children.get(a)||new xe(null)).set(Me(t),i),h=this.children.insert(a,c);return new xe(this.value,h)}}remove(t){if(he(t))return this.children.isEmpty()?new xe(null):new xe(null,this.children);{const i=oe(t),a=this.children.get(i);if(a){const o=a.remove(Me(t));let c;return o.isEmpty()?c=this.children.remove(i):c=this.children.insert(i,o),this.value===null&&c.isEmpty()?new xe(null):new xe(this.value,c)}else return this}}get(t){if(he(t))return this.value;{const i=oe(t),a=this.children.get(i);return a?a.get(Me(t)):null}}setTree(t,i){if(he(t))return i;{const a=oe(t),c=(this.children.get(a)||new xe(null)).setTree(Me(t),i);let h;return c.isEmpty()?h=this.children.remove(a):h=this.children.insert(a,c),new xe(this.value,h)}}fold(t){return this.fold_(ge(),t)}fold_(t,i){const a={};return this.children.inorderTraversal((o,c)=>{a[o]=c.fold_($e(t,o),i)}),i(t,this.value,a)}findOnPath(t,i){return this.findOnPath_(t,ge(),i)}findOnPath_(t,i,a){const o=this.value?a(i,this.value):!1;if(o)return o;if(he(t))return null;{const c=oe(t),h=this.children.get(c);return h?h.findOnPath_(Me(t),$e(i,c),a):null}}foreachOnPath(t,i){return this.foreachOnPath_(t,ge(),i)}foreachOnPath_(t,i,a){if(he(t))return this;{this.value&&a(i,this.value);const o=oe(t),c=this.children.get(o);return c?c.foreachOnPath_(Me(t),$e(i,o),a):new xe(null)}}foreach(t){this.foreach_(ge(),t)}foreach_(t,i){this.children.inorderTraversal((a,o)=>{o.foreach_($e(t,a),i)}),this.value&&i(t,this.value)}foreachChild(t){this.children.inorderTraversal((i,a)=>{a.value&&t(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(t){this.writeTree_=t}static empty(){return new an(new xe(null))}}function Ca(s,t,i){if(he(t))return new an(new xe(i));{const a=s.writeTree_.findRootMostValueAndPath(t);if(a!=null){const o=a.path;let c=a.value;const h=Ct(o,t);return c=c.updateChild(h,i),new an(s.writeTree_.set(o,c))}else{const o=new xe(i),c=s.writeTree_.setTree(t,o);return new an(c)}}}function Jg(s,t,i){let a=s;return Rt(i,(o,c)=>{a=Ca(a,$e(t,o),c)}),a}function ev(s,t){if(he(t))return an.empty();{const i=s.writeTree_.setTree(t,new xe(null));return new an(i)}}function Wf(s,t){return ls(s,t)!=null}function ls(s,t){const i=s.writeTree_.findRootMostValueAndPath(t);return i!=null?s.writeTree_.get(i.path).getChild(Ct(i.path,t)):null}function tv(s){const t=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(Ve,(a,o)=>{t.push(new ue(a,o))}):s.writeTree_.children.inorderTraversal((a,o)=>{o.value!=null&&t.push(new ue(a,o.value))}),t}function bi(s,t){if(he(t))return s;{const i=ls(s,t);return i!=null?new an(new xe(i)):new an(s.writeTree_.subtree(t))}}function Zf(s){return s.writeTree_.isEmpty()}function ar(s,t){return n0(ge(),s.writeTree_,t)}function n0(s,t,i){if(t.value!=null)return i.updateChild(s,t.value);{let a=null;return t.children.inorderTraversal((o,c)=>{o===".priority"?(q(c.value!==null,"Priority writes must always be leaf nodes"),a=c.value):i=n0($e(s,o),c,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild($e(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ih(s,t){return a0(t,s)}function Uw(s,t,i,a,o){q(a>s.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),s.allWrites.push({path:t,snap:i,writeId:a,visible:o}),o&&(s.visibleWrites=Ca(s.visibleWrites,t,i)),s.lastWriteId=a}function Lw(s,t){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===t)return a}return null}function zw(s,t){const i=s.allWrites.findIndex(d=>d.writeId===t);q(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let o=a.visible,c=!1,h=s.allWrites.length-1;for(;o&&h>=0;){const d=s.allWrites[h];d.visible&&(h>=i&&Hw(d,a.path)?o=!1:sn(a.path,d.path)&&(c=!0)),h--}if(o){if(c)return Pw(s),!0;if(a.snap)s.visibleWrites=ev(s.visibleWrites,a.path);else{const d=a.children;Rt(d,m=>{s.visibleWrites=ev(s.visibleWrites,$e(a.path,m))})}return!0}else return!1}function Hw(s,t){if(s.snap)return sn(s.path,t);for(const i in s.children)if(s.children.hasOwnProperty(i)&&sn($e(s.path,i),t))return!0;return!1}function Pw(s){s.visibleWrites=i0(s.allWrites,Bw,ge()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function Bw(s){return s.visible}function i0(s,t,i){let a=an.empty();for(let o=0;o<s.length;++o){const c=s[o];if(t(c)){const h=c.path;let d;if(c.snap)sn(i,h)?(d=Ct(i,h),a=Ca(a,d,c.snap)):sn(h,i)&&(d=Ct(h,i),a=Ca(a,ge(),c.snap.getChild(d)));else if(c.children){if(sn(i,h))d=Ct(i,h),a=Jg(a,d,c.children);else if(sn(h,i))if(d=Ct(h,i),he(d))a=Jg(a,ge(),c.children);else{const m=nr(c.children,oe(d));if(m){const _=m.getChild(Me(d));a=Ca(a,ge(),_)}}}else throw lr("WriteRecord should have .snap or .children")}}return a}function s0(s,t,i,a,o){if(!a&&!o){const c=ls(s.visibleWrites,t);if(c!=null)return c;{const h=bi(s.visibleWrites,t);if(Zf(h))return i;if(i==null&&!Wf(h,ge()))return null;{const d=i||ee.EMPTY_NODE;return ar(h,d)}}}else{const c=bi(s.visibleWrites,t);if(!o&&Zf(c))return i;if(!o&&i==null&&!Wf(c,ge()))return null;{const h=function(_){return(_.visible||o)&&(!a||!~a.indexOf(_.writeId))&&(sn(_.path,t)||sn(t,_.path))},d=i0(s.allWrites,h,t),m=i||ee.EMPTY_NODE;return ar(d,m)}}}function jw(s,t,i){let a=ee.EMPTY_NODE;const o=ls(s.visibleWrites,t);if(o)return o.isLeafNode()||o.forEachChild(Ve,(c,h)=>{a=a.updateImmediateChild(c,h)}),a;if(i){const c=bi(s.visibleWrites,t);return i.forEachChild(Ve,(h,d)=>{const m=ar(bi(c,new Ne(h)),d);a=a.updateImmediateChild(h,m)}),tv(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}else{const c=bi(s.visibleWrites,t);return tv(c).forEach(h=>{a=a.updateImmediateChild(h.name,h.node)}),a}}function qw(s,t,i,a,o){q(a||o,"Either existingEventSnap or existingServerSnap must exist");const c=$e(t,i);if(Wf(s.visibleWrites,c))return null;{const h=bi(s.visibleWrites,c);return Zf(h)?o.getChild(i):ar(h,o.getChild(i))}}function Vw(s,t,i,a){const o=$e(t,i),c=ls(s.visibleWrites,o);if(c!=null)return c;if(a.isCompleteForChild(i)){const h=bi(s.visibleWrites,o);return ar(h,a.getNode().getImmediateChild(i))}else return null}function Gw(s,t){return ls(s.visibleWrites,t)}function Yw(s,t,i,a,o,c,h){let d;const m=bi(s.visibleWrites,t),_=ls(m,ge());if(_!=null)d=_;else if(i!=null)d=ar(m,i);else return[];if(d=d.withIndex(h),!d.isEmpty()&&!d.isLeafNode()){const y=[],b=h.getCompare(),T=c?d.getReverseIteratorFrom(a,h):d.getIteratorFrom(a,h);let z=T.getNext();for(;z&&y.length<o;)b(z,a)!==0&&y.push(z),z=T.getNext();return y}else return[]}function Fw(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function ko(s,t,i,a){return s0(s.writeTree,s.treePath,t,i,a)}function xh(s,t){return jw(s.writeTree,s.treePath,t)}function nv(s,t,i,a){return qw(s.writeTree,s.treePath,t,i,a)}function Uo(s,t){return Gw(s.writeTree,$e(s.treePath,t))}function Qw(s,t,i,a,o,c){return Yw(s.writeTree,s.treePath,t,i,a,o,c)}function kh(s,t,i){return Vw(s.writeTree,s.treePath,t,i)}function r0(s,t){return a0($e(s.treePath,t),s.writeTree)}function a0(s,t){return{treePath:s,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.changeMap=new Map}trackChildChange(t){const i=t.type,a=t.childName;q(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),q(a!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(a);if(o){const c=o.type;if(i==="child_added"&&c==="child_removed")this.changeMap.set(a,Ia(a,t.snapshotNode,o.snapshotNode));else if(i==="child_removed"&&c==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&c==="child_changed")this.changeMap.set(a,Ma(a,o.oldSnap));else if(i==="child_changed"&&c==="child_added")this.changeMap.set(a,rr(a,t.snapshotNode));else if(i==="child_changed"&&c==="child_changed")this.changeMap.set(a,Ia(a,t.snapshotNode,o.oldSnap));else throw lr("Illegal combination of changes: "+t+" occurred after "+o)}else this.changeMap.set(a,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{getCompleteChild(t){return null}getChildAfterChild(t,i,a){return null}}const l0=new Xw;class Uh{constructor(t,i,a=null){this.writes_=t,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(t){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(t))return i.getNode().getImmediateChild(t);{const a=this.optCompleteServerCache_!=null?new ss(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return kh(this.writes_,t,a)}}getChildAfterChild(t,i,a){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:rs(this.viewCache_),c=Qw(this.writes_,o,i,1,a,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ww(s){return{filter:s}}function Zw(s,t){q(t.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),q(t.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function $w(s,t,i,a,o){const c=new Kw;let h,d;if(i.type===rn.OVERWRITE){const _=i;_.source.fromUser?h=$f(s,t,_.path,_.snap,a,o,c):(q(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered()&&!he(_.path),h=Lo(s,t,_.path,_.snap,a,o,d,c))}else if(i.type===rn.MERGE){const _=i;_.source.fromUser?h=eR(s,t,_.path,_.children,a,o,c):(q(_.source.fromServer,"Unknown source."),d=_.source.tagged||t.serverCache.isFiltered(),h=Jf(s,t,_.path,_.children,a,o,d,c))}else if(i.type===rn.ACK_USER_WRITE){const _=i;_.revert?h=iR(s,t,_.path,a,o,c):h=tR(s,t,_.path,_.affectedTree,a,o,c)}else if(i.type===rn.LISTEN_COMPLETE)h=nR(s,t,i.path,a,c);else throw lr("Unknown operation type: "+i.type);const m=c.getChanges();return Jw(t,h,m),{viewCache:h,changes:m}}function Jw(s,t,i){const a=t.eventCache;if(a.isFullyInitialized()){const o=a.getNode().isLeafNode()||a.getNode().isEmpty(),c=Xf(s);(i.length>0||!s.eventCache.isFullyInitialized()||o&&!a.getNode().equals(c)||!a.getNode().getPriority().equals(c.getPriority()))&&i.push($y(Xf(t)))}}function o0(s,t,i,a,o,c){const h=t.eventCache;if(Uo(a,i)!=null)return t;{let d,m;if(he(i))if(q(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=rs(t),y=_ instanceof ee?_:ee.EMPTY_NODE,b=xh(a,y);d=s.filter.updateFullNode(t.eventCache.getNode(),b,c)}else{const _=ko(a,rs(t));d=s.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=oe(i);if(_===".priority"){q(Ti(i)===1,"Can't have a priority with additional path components");const y=h.getNode();m=t.serverCache.getNode();const b=nv(a,i,y,m);b!=null?d=s.filter.updatePriority(y,b):d=h.getNode()}else{const y=Me(i);let b;if(h.isCompleteForChild(_)){m=t.serverCache.getNode();const T=nv(a,i,h.getNode(),m);T!=null?b=h.getNode().getImmediateChild(_).updateChild(y,T):b=h.getNode().getImmediateChild(_)}else b=kh(a,_,t.serverCache);b!=null?d=s.filter.updateChild(h.getNode(),_,b,y,o,c):d=h.getNode()}}return Ta(t,d,h.isFullyInitialized()||he(i),s.filter.filtersNodes())}}function Lo(s,t,i,a,o,c,h,d){const m=t.serverCache;let _;const y=h?s.filter:s.filter.getIndexedFilter();if(he(i))_=y.updateFullNode(m.getNode(),a,null);else if(y.filtersNodes()&&!m.isFiltered()){const z=m.getNode().updateChild(i,a);_=y.updateFullNode(m.getNode(),z,null)}else{const z=oe(i);if(!m.isCompleteForPath(i)&&Ti(i)>1)return t;const j=Me(i),te=m.getNode().getImmediateChild(z).updateChild(j,a);z===".priority"?_=y.updatePriority(m.getNode(),te):_=y.updateChild(m.getNode(),z,te,j,l0,null)}const b=t0(t,_,m.isFullyInitialized()||he(i),y.filtersNodes()),T=new Uh(o,b,c);return o0(s,b,i,o,T,d)}function $f(s,t,i,a,o,c,h){const d=t.eventCache;let m,_;const y=new Uh(o,t,c);if(he(i))_=s.filter.updateFullNode(t.eventCache.getNode(),a,h),m=Ta(t,_,!0,s.filter.filtersNodes());else{const b=oe(i);if(b===".priority")_=s.filter.updatePriority(t.eventCache.getNode(),a),m=Ta(t,_,d.isFullyInitialized(),d.isFiltered());else{const T=Me(i),z=d.getNode().getImmediateChild(b);let j;if(he(T))j=a;else{const K=y.getCompleteChild(b);K!=null?Vy(T)===".priority"&&K.getChild(Yy(T)).isEmpty()?j=K:j=K.updateChild(T,a):j=ee.EMPTY_NODE}if(z.equals(j))m=t;else{const K=s.filter.updateChild(d.getNode(),b,j,T,y,h);m=Ta(t,K,d.isFullyInitialized(),s.filter.filtersNodes())}}}return m}function iv(s,t){return s.eventCache.isCompleteForChild(t)}function eR(s,t,i,a,o,c,h){let d=t;return a.foreach((m,_)=>{const y=$e(i,m);iv(t,oe(y))&&(d=$f(s,d,y,_,o,c,h))}),a.foreach((m,_)=>{const y=$e(i,m);iv(t,oe(y))||(d=$f(s,d,y,_,o,c,h))}),d}function sv(s,t,i){return i.foreach((a,o)=>{t=t.updateChild(a,o)}),t}function Jf(s,t,i,a,o,c,h,d){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;he(i)?_=a:_=new xe(null).setTree(i,a);const y=t.serverCache.getNode();return _.children.inorderTraversal((b,T)=>{if(y.hasChild(b)){const z=t.serverCache.getNode().getImmediateChild(b),j=sv(s,z,T);m=Lo(s,m,new Ne(b),j,o,c,h,d)}}),_.children.inorderTraversal((b,T)=>{const z=!t.serverCache.isCompleteForChild(b)&&T.value===null;if(!y.hasChild(b)&&!z){const j=t.serverCache.getNode().getImmediateChild(b),K=sv(s,j,T);m=Lo(s,m,new Ne(b),K,o,c,h,d)}}),m}function tR(s,t,i,a,o,c,h){if(Uo(o,i)!=null)return t;const d=t.serverCache.isFiltered(),m=t.serverCache;if(a.value!=null){if(he(i)&&m.isFullyInitialized()||m.isCompleteForPath(i))return Lo(s,t,i,m.getNode().getChild(i),o,c,d,h);if(he(i)){let _=new xe(null);return m.getNode().forEachChild(er,(y,b)=>{_=_.set(new Ne(y),b)}),Jf(s,t,i,_,o,c,d,h)}else return t}else{let _=new xe(null);return a.foreach((y,b)=>{const T=$e(i,y);m.isCompleteForPath(T)&&(_=_.set(y,m.getNode().getChild(T)))}),Jf(s,t,i,_,o,c,d,h)}}function nR(s,t,i,a,o){const c=t.serverCache,h=t0(t,c.getNode(),c.isFullyInitialized()||he(i),c.isFiltered());return o0(s,h,i,a,l0,o)}function iR(s,t,i,a,o,c){let h;if(Uo(a,i)!=null)return t;{const d=new Uh(a,t,o),m=t.eventCache.getNode();let _;if(he(i)||oe(i)===".priority"){let y;if(t.serverCache.isFullyInitialized())y=ko(a,rs(t));else{const b=t.serverCache.getNode();q(b instanceof ee,"serverChildren would be complete if leaf node"),y=xh(a,b)}y=y,_=s.filter.updateFullNode(m,y,c)}else{const y=oe(i);let b=kh(a,y,t.serverCache);b==null&&t.serverCache.isCompleteForChild(y)&&(b=m.getImmediateChild(y)),b!=null?_=s.filter.updateChild(m,y,b,Me(i),d,c):t.eventCache.getNode().hasChild(y)?_=s.filter.updateChild(m,y,ee.EMPTY_NODE,Me(i),d,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(h=ko(a,rs(t)),h.isLeafNode()&&(_=s.filter.updateFullNode(_,h,c)))}return h=t.serverCache.isFullyInitialized()||Uo(a,ge())!=null,Ta(t,_,h,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,i){this.query_=t,this.eventRegistrations_=[];const a=this.query_._queryParams,o=new Nh(a.getIndex()),c=Tw(a);this.processor_=Ww(c);const h=i.serverCache,d=i.eventCache,m=o.updateFullNode(ee.EMPTY_NODE,h.getNode(),null),_=c.updateFullNode(ee.EMPTY_NODE,d.getNode(),null),y=new ss(m,h.isFullyInitialized(),o.filtersNodes()),b=new ss(_,d.isFullyInitialized(),c.filtersNodes());this.viewCache_=Xo(b,y),this.eventGenerator_=new Dw(this.query_)}get query(){return this.query_}}function rR(s){return s.viewCache_.serverCache.getNode()}function aR(s,t){const i=rs(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!he(t)&&!i.getImmediateChild(oe(t)).isEmpty())?i.getChild(t):null}function rv(s){return s.eventRegistrations_.length===0}function lR(s,t){s.eventRegistrations_.push(t)}function av(s,t,i){const a=[];if(i){q(t==null,"A cancel should cancel all event registrations.");const o=s.query._path;s.eventRegistrations_.forEach(c=>{const h=c.createCancelEvent(i,o);h&&a.push(h)})}if(t){let o=[];for(let c=0;c<s.eventRegistrations_.length;++c){const h=s.eventRegistrations_[c];if(!h.matches(t))o.push(h);else if(t.hasAnyCallback()){o=o.concat(s.eventRegistrations_.slice(c+1));break}}s.eventRegistrations_=o}else s.eventRegistrations_=[];return a}function lv(s,t,i,a){t.type===rn.MERGE&&t.source.queryId!==null&&(q(rs(s.viewCache_),"We should always have a full cache before handling merges"),q(Xf(s.viewCache_),"Missing event cache, even though we have a server cache"));const o=s.viewCache_,c=$w(s.processor_,o,t,i,a);return Zw(s.processor_,c.viewCache),q(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=c.viewCache,u0(s,c.changes,c.viewCache.eventCache.getNode(),null)}function oR(s,t){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(Ve,(c,h)=>{a.push(rr(c,h))}),i.isFullyInitialized()&&a.push($y(i.getNode())),u0(s,a,i.getNode(),t)}function u0(s,t,i,a){const o=a?[a]:s.eventRegistrations_;return Mw(s.eventGenerator_,t,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zo;class uR{constructor(){this.views=new Map}}function cR(s){q(!zo,"__referenceConstructor has already been defined"),zo=s}function fR(){return q(zo,"Reference.ts has not been loaded"),zo}function hR(s){return s.views.size===0}function Lh(s,t,i,a){const o=t.source.queryId;if(o!==null){const c=s.views.get(o);return q(c!=null,"SyncTree gave us an op for an invalid query."),lv(c,t,i,a)}else{let c=[];for(const h of s.views.values())c=c.concat(lv(h,t,i,a));return c}}function dR(s,t,i,a,o){const c=t._queryIdentifier,h=s.views.get(c);if(!h){let d=ko(i,o?a:null),m=!1;d?m=!0:a instanceof ee?(d=xh(i,a),m=!1):(d=ee.EMPTY_NODE,m=!1);const _=Xo(new ss(d,m,!1),new ss(a,o,!1));return new sR(t,_)}return h}function pR(s,t,i,a,o,c){const h=dR(s,t,a,o,c);return s.views.has(t._queryIdentifier)||s.views.set(t._queryIdentifier,h),lR(h,i),oR(h,i)}function mR(s,t,i,a){const o=t._queryIdentifier,c=[];let h=[];const d=Ci(s);if(o==="default")for(const[m,_]of s.views.entries())h=h.concat(av(_,i,a)),rv(_)&&(s.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=s.views.get(o);m&&(h=h.concat(av(m,i,a)),rv(m)&&(s.views.delete(o),m.query._queryParams.loadsAllData()||c.push(m.query)))}return d&&!Ci(s)&&c.push(new(fR())(t._repo,t._path)),{removed:c,events:h}}function c0(s){const t=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||t.push(i);return t}function tr(s,t){let i=null;for(const a of s.views.values())i=i||aR(a,t);return i}function f0(s,t){if(t._queryParams.loadsAllData())return Wo(s);{const a=t._queryIdentifier;return s.views.get(a)}}function h0(s,t){return f0(s,t)!=null}function Ci(s){return Wo(s)!=null}function Wo(s){for(const t of s.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ho;function _R(s){q(!Ho,"__referenceConstructor has already been defined"),Ho=s}function gR(){return q(Ho,"Reference.ts has not been loaded"),Ho}let vR=1;class ov{constructor(t){this.listenProvider_=t,this.syncPointTree_=new xe(null),this.pendingWriteTree_=Fw(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function d0(s,t,i,a,o){return Uw(s.pendingWriteTree_,t,i,a,o),o?Ya(s,new is(e0(),t,i)):[]}function Wi(s,t,i=!1){const a=Lw(s.pendingWriteTree_,t);if(zw(s.pendingWriteTree_,t)){let c=new xe(null);return a.snap!=null?c=c.set(ge(),!0):Rt(a.children,h=>{c=c.set(new Ne(h),!0)}),Ya(s,new xo(a.path,c,i))}else return[]}function Zo(s,t,i){return Ya(s,new is(Dh(),t,i))}function yR(s,t,i){const a=xe.fromObject(i);return Ya(s,new Ua(Dh(),t,a))}function ER(s,t){return Ya(s,new ka(Dh(),t))}function SR(s,t,i){const a=Hh(s,i);if(a){const o=Ph(a),c=o.path,h=o.queryId,d=Ct(c,t),m=new ka(Mh(h),d);return Bh(s,c,m)}else return[]}function eh(s,t,i,a,o=!1){const c=t._path,h=s.syncPointTree_.get(c);let d=[];if(h&&(t._queryIdentifier==="default"||h0(h,t))){const m=mR(h,t,i,a);hR(h)&&(s.syncPointTree_=s.syncPointTree_.remove(c));const _=m.removed;if(d=m.events,!o){const y=_.findIndex(T=>T._queryParams.loadsAllData())!==-1,b=s.syncPointTree_.findOnPath(c,(T,z)=>Ci(z));if(y&&!b){const T=s.syncPointTree_.subtree(c);if(!T.isEmpty()){const z=CR(T);for(let j=0;j<z.length;++j){const K=z[j],te=K.query,ke=_0(s,K);s.listenProvider_.startListening(Aa(te),Po(s,te),ke.hashFn,ke.onComplete)}}}!b&&_.length>0&&!a&&(y?s.listenProvider_.stopListening(Aa(t),null):_.forEach(T=>{const z=s.queryToTagMap.get($o(T));s.listenProvider_.stopListening(Aa(T),z)}))}AR(s,_)}return d}function bR(s,t,i,a){const o=Hh(s,a);if(o!=null){const c=Ph(o),h=c.path,d=c.queryId,m=Ct(h,t),_=new is(Mh(d),m,i);return Bh(s,h,_)}else return[]}function TR(s,t,i,a){const o=Hh(s,a);if(o){const c=Ph(o),h=c.path,d=c.queryId,m=Ct(h,t),_=xe.fromObject(i),y=new Ua(Mh(d),m,_);return Bh(s,h,y)}else return[]}function uv(s,t,i,a=!1){const o=t._path;let c=null,h=!1;s.syncPointTree_.foreachOnPath(o,(T,z)=>{const j=Ct(T,o);c=c||tr(z,j),h=h||Ci(z)});let d=s.syncPointTree_.get(o);d?(h=h||Ci(d),c=c||tr(d,ge())):(d=new uR,s.syncPointTree_=s.syncPointTree_.set(o,d));let m;c!=null?m=!0:(m=!1,c=ee.EMPTY_NODE,s.syncPointTree_.subtree(o).foreachChild((z,j)=>{const K=tr(j,ge());K&&(c=c.updateImmediateChild(z,K))}));const _=h0(d,t);if(!_&&!t._queryParams.loadsAllData()){const T=$o(t);q(!s.queryToTagMap.has(T),"View does not exist, but we have a tag");const z=wR();s.queryToTagMap.set(T,z),s.tagToQueryMap.set(z,T)}const y=Ih(s.pendingWriteTree_,o);let b=pR(d,t,i,y,c,m);if(!_&&!h&&!a){const T=f0(d,t);b=b.concat(RR(s,t,T))}return b}function zh(s,t,i){const o=s.pendingWriteTree_,c=s.syncPointTree_.findOnPath(t,(h,d)=>{const m=Ct(h,t),_=tr(d,m);if(_)return _});return s0(o,t,c,i,!0)}function Ya(s,t){return p0(t,s.syncPointTree_,null,Ih(s.pendingWriteTree_,ge()))}function p0(s,t,i,a){if(he(s.path))return m0(s,t,i,a);{const o=t.get(ge());i==null&&o!=null&&(i=tr(o,ge()));let c=[];const h=oe(s.path),d=s.operationForChild(h),m=t.children.get(h);if(m&&d){const _=i?i.getImmediateChild(h):null,y=r0(a,h);c=c.concat(p0(d,m,_,y))}return o&&(c=c.concat(Lh(o,s,a,i))),c}}function m0(s,t,i,a){const o=t.get(ge());i==null&&o!=null&&(i=tr(o,ge()));let c=[];return t.children.inorderTraversal((h,d)=>{const m=i?i.getImmediateChild(h):null,_=r0(a,h),y=s.operationForChild(h);y&&(c=c.concat(m0(y,d,m,_)))}),o&&(c=c.concat(Lh(o,s,a,i))),c}function _0(s,t){const i=t.query,a=Po(s,i);return{hashFn:()=>(rR(t)||ee.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return a?SR(s,i._path,a):ER(s,i._path);{const c=bA(o,i);return eh(s,i,null,c)}}}}function Po(s,t){const i=$o(t);return s.queryToTagMap.get(i)}function $o(s){return s._path.toString()+"$"+s._queryIdentifier}function Hh(s,t){return s.tagToQueryMap.get(t)}function Ph(s){const t=s.indexOf("$");return q(t!==-1&&t<s.length-1,"Bad queryKey."),{queryId:s.substr(t+1),path:new Ne(s.substr(0,t))}}function Bh(s,t,i){const a=s.syncPointTree_.get(t);q(a,"Missing sync point for query tag that we're tracking");const o=Ih(s.pendingWriteTree_,t);return Lh(a,i,o,null)}function CR(s){return s.fold((t,i,a)=>{if(i&&Ci(i))return[Wo(i)];{let o=[];return i&&(o=c0(i)),Rt(a,(c,h)=>{o=o.concat(h)}),o}})}function Aa(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(gR())(s._repo,s._path):s}function AR(s,t){for(let i=0;i<t.length;++i){const a=t[i];if(!a._queryParams.loadsAllData()){const o=$o(a),c=s.queryToTagMap.get(o);s.queryToTagMap.delete(o),s.tagToQueryMap.delete(c)}}}function wR(){return vR++}function RR(s,t,i){const a=t._path,o=Po(s,t),c=_0(s,i),h=s.listenProvider_.startListening(Aa(t),o,c.hashFn,c.onComplete),d=s.syncPointTree_.subtree(a);if(o)q(!Ci(d.value),"If we're adding a query, it shouldn't be shadowed");else{const m=d.fold((_,y,b)=>{if(!he(_)&&y&&Ci(y))return[Wo(y).query];{let T=[];return y&&(T=T.concat(c0(y).map(z=>z.query))),Rt(b,(z,j)=>{T=T.concat(j)}),T}});for(let _=0;_<m.length;++_){const y=m[_];s.listenProvider_.stopListening(Aa(y),Po(s,y))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(t){this.node_=t}getImmediateChild(t){const i=this.node_.getImmediateChild(t);return new jh(i)}node(){return this.node_}}class qh{constructor(t,i){this.syncTree_=t,this.path_=i}getImmediateChild(t){const i=$e(this.path_,t);return new qh(this.syncTree_,i)}node(){return zh(this.syncTree_,this.path_)}}const NR=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},cv=function(s,t,i){if(!s||typeof s!="object")return s;if(q(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return OR(s[".sv"],t,i);if(typeof s[".sv"]=="object")return DR(s[".sv"],t);q(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},OR=function(s,t,i){switch(s){case"timestamp":return i.timestamp;default:q(!1,"Unexpected server value: "+s)}},DR=function(s,t,i){s.hasOwnProperty("increment")||q(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&q(!1,"Unexpected increment value: "+a);const o=t.node();if(q(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return a;const h=o.getValue();return typeof h!="number"?a:h+a},MR=function(s,t,i,a){return Vh(t,new qh(i,s),a)},g0=function(s,t,i){return Vh(s,new jh(t),i)};function Vh(s,t,i){const a=s.getPriority().val(),o=cv(a,t.getImmediateChild(".priority"),i);let c;if(s.isLeafNode()){const h=s,d=cv(h.getValue(),t,i);return d!==h.getValue()||o!==h.getPriority().val()?new st(d,ft(o)):s}else{const h=s;return c=h,o!==h.getPriority().val()&&(c=c.updatePriority(new st(o))),h.forEachChild(Ve,(d,m)=>{const _=Vh(m,t.getImmediateChild(d),i);_!==m&&(c=c.updateImmediateChild(d,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(t="",i=null,a={children:{},childCount:0}){this.name=t,this.parent=i,this.node=a}}function Yh(s,t){let i=t instanceof Ne?t:new Ne(t),a=s,o=oe(i);for(;o!==null;){const c=nr(a.node.children,o)||{children:{},childCount:0};a=new Gh(o,a,c),i=Me(i),o=oe(i)}return a}function dr(s){return s.node.value}function v0(s,t){s.node.value=t,th(s)}function y0(s){return s.node.childCount>0}function IR(s){return dr(s)===void 0&&!y0(s)}function Jo(s,t){Rt(s.node.children,(i,a)=>{t(new Gh(i,s,a))})}function E0(s,t,i,a){i&&t(s),Jo(s,o=>{E0(o,t,!0)})}function xR(s,t,i){let a=s.parent;for(;a!==null;){if(t(a))return!0;a=a.parent}return!1}function Fa(s){return new Ne(s.parent===null?s.name:Fa(s.parent)+"/"+s.name)}function th(s){s.parent!==null&&kR(s.parent,s.name,s)}function kR(s,t,i){const a=IR(i),o=qn(s.node.children,t);a&&o?(delete s.node.children[t],s.node.childCount--,th(s)):!a&&!o&&(s.node.children[t]=i.node,s.node.childCount++,th(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR=/[\[\].#$\/\u0000-\u001F\u007F]/,LR=/[\[\].#$\u0000-\u001F\u007F]/,xf=10*1024*1024,S0=function(s){return typeof s=="string"&&s.length!==0&&!UR.test(s)},b0=function(s){return typeof s=="string"&&s.length!==0&&!LR.test(s)},zR=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),b0(s)},HR=function(s,t,i,a){Fh(oh(s,"value"),t,i)},Fh=function(s,t,i){const a=i instanceof Ne?new tw(i,s):i;if(t===void 0)throw new Error(s+"contains undefined "+Ki(a));if(typeof t=="function")throw new Error(s+"contains a function "+Ki(a)+" with contents = "+t.toString());if(by(t))throw new Error(s+"contains "+t.toString()+" "+Ki(a));if(typeof t=="string"&&t.length>xf/3&&Go(t)>xf)throw new Error(s+"contains a string greater than "+xf+" utf8 bytes "+Ki(a)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let o=!1,c=!1;if(Rt(t,(h,d)=>{if(h===".value")o=!0;else if(h!==".priority"&&h!==".sv"&&(c=!0,!S0(h)))throw new Error(s+" contains an invalid key ("+h+") "+Ki(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);nw(a,h),Fh(s,d,a),iw(a)}),o&&c)throw new Error(s+' contains ".value" child '+Ki(a)+" in addition to actual children.")}},T0=function(s,t,i,a){if(!b0(i))throw new Error(oh(s,t)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},PR=function(s,t,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),T0(s,t,i)},BR=function(s,t){if(oe(t)===".info")throw new Error(s+" failed = Can't modify data under /.info/")},jR=function(s,t){const i=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!S0(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!zR(i))throw new Error(oh(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qh(s,t){let i=null;for(let a=0;a<t.length;a++){const o=t[a],c=o.getPath();i!==null&&!Ah(c,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:c}),i.events.push(o)}i&&s.eventLists_.push(i)}function C0(s,t,i){Qh(s,i),A0(s,a=>Ah(a,t))}function jn(s,t,i){Qh(s,i),A0(s,a=>sn(a,t)||sn(t,a))}function A0(s,t){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const o=s.eventLists_[a];if(o){const c=o.path;t(c)?(VR(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function VR(s){for(let t=0;t<s.events.length;t++){const i=s.events[t];if(i!==null){s.events[t]=null;const a=i.getEventRunner();Sa&&_t("event: "+i.toString()),hr(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="repo_interrupt",YR=25;class FR{constructor(t,i,a,o){this.repoInfo_=t,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qR,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Io(),this.transactionQueueTree_=new Gh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function QR(s,t,i){if(s.stats_=Th(s.repoInfo_),s.forceRestClient_||wA())s.server_=new Mo(s.repoInfo_,(a,o,c,h)=>{fv(s,a,o,c,h)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>hv(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{at(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new zn(s.repoInfo_,t,(a,o,c,h)=>{fv(s,a,o,c,h)},a=>{hv(s,a)},a=>{XR(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=MA(s.repoInfo_,()=>new Ow(s.stats_,s.server_)),s.infoData_=new Cw,s.infoSyncTree_=new ov({startListening:(a,o,c,h)=>{let d=[];const m=s.infoData_.getNode(a._path);return m.isEmpty()||(d=Zo(s.infoSyncTree_,a._path,m),setTimeout(()=>{h("ok")},0)),d},stopListening:()=>{}}),Xh(s,"connected",!1),s.serverSyncTree_=new ov({startListening:(a,o,c,h)=>(s.server_.listen(a,c,o,(d,m)=>{const _=h(d,m);jn(s.eventQueue_,a._path,_)}),[]),stopListening:(a,o)=>{s.server_.unlisten(a,o)}})}function KR(s){const i=s.infoData_.getNode(new Ne(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function Kh(s){return NR({timestamp:KR(s)})}function fv(s,t,i,a,o){s.dataUpdateCount++;const c=new Ne(t);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(t,i):i;let h=[];if(o)if(a){const m=Eo(i,_=>ft(_));h=TR(s.serverSyncTree_,c,m,o)}else{const m=ft(i);h=bR(s.serverSyncTree_,c,m,o)}else if(a){const m=Eo(i,_=>ft(_));h=yR(s.serverSyncTree_,c,m)}else{const m=ft(i);h=Zo(s.serverSyncTree_,c,m)}let d=c;h.length>0&&(d=eu(s,c)),jn(s.eventQueue_,d,h)}function hv(s,t){Xh(s,"connected",t),t===!1&&ZR(s)}function XR(s,t){Rt(t,(i,a)=>{Xh(s,i,a)})}function Xh(s,t,i){const a=new Ne("/.info/"+t),o=ft(i);s.infoData_.updateSnapshot(a,o);const c=Zo(s.infoSyncTree_,a,o);jn(s.eventQueue_,a,c)}function w0(s){return s.nextWriteId_++}function WR(s,t,i,a,o){Wh(s,"set",{path:t.toString(),value:i,priority:a});const c=Kh(s),h=ft(i,a),d=zh(s.serverSyncTree_,t),m=g0(h,d,c),_=w0(s),y=d0(s.serverSyncTree_,t,m,_,!0);Qh(s.eventQueue_,y),s.server_.put(t.toString(),h.val(!0),(T,z)=>{const j=T==="ok";j||wt("set at "+t+" failed: "+T);const K=Wi(s.serverSyncTree_,_,!j);jn(s.eventQueue_,t,K),eN(s,o,T,z)});const b=M0(s,t);eu(s,b),jn(s.eventQueue_,b,[])}function ZR(s){Wh(s,"onDisconnectEvents");const t=Kh(s),i=Io();Kf(s.onDisconnect_,ge(),(o,c)=>{const h=MR(o,c,s.serverSyncTree_,t);Jy(i,o,h)});let a=[];Kf(i,ge(),(o,c)=>{a=a.concat(Zo(s.serverSyncTree_,o,c));const h=M0(s,o);eu(s,h)}),s.onDisconnect_=Io(),jn(s.eventQueue_,ge(),a)}function $R(s,t,i){let a;oe(t._path)===".info"?a=uv(s.infoSyncTree_,t,i):a=uv(s.serverSyncTree_,t,i),C0(s.eventQueue_,t._path,a)}function dv(s,t,i){let a;oe(t._path)===".info"?a=eh(s.infoSyncTree_,t,i):a=eh(s.serverSyncTree_,t,i),C0(s.eventQueue_,t._path,a)}function JR(s){s.persistentConnection_&&s.persistentConnection_.interrupt(GR)}function Wh(s,...t){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),_t(i,...t)}function eN(s,t,i,a){t&&hr(()=>{if(i==="ok")t(null);else{const o=(i||"error").toUpperCase();let c=o;a&&(c+=": "+a);const h=new Error(c);h.code=o,t(h)}})}function R0(s,t,i){return zh(s.serverSyncTree_,t,i)||ee.EMPTY_NODE}function Zh(s,t=s.transactionQueueTree_){if(t||tu(s,t),dr(t)){const i=O0(s,t);q(i.length>0,"Sending zero length transaction queue"),i.every(o=>o.status===0)&&tN(s,Fa(t),i)}else y0(t)&&Jo(t,i=>{Zh(s,i)})}function tN(s,t,i){const a=i.map(_=>_.currentWriteId),o=R0(s,t,a);let c=o;const h=o.hash();for(let _=0;_<i.length;_++){const y=i[_];q(y.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),y.status=1,y.retryCount++;const b=Ct(t,y.path);c=c.updateChild(b,y.currentOutputSnapshotRaw)}const d=c.val(!0),m=t;s.server_.put(m.toString(),d,_=>{Wh(s,"transaction put response",{path:m.toString(),status:_});let y=[];if(_==="ok"){const b=[];for(let T=0;T<i.length;T++)i[T].status=2,y=y.concat(Wi(s.serverSyncTree_,i[T].currentWriteId)),i[T].onComplete&&b.push(()=>i[T].onComplete(null,!0,i[T].currentOutputSnapshotResolved)),i[T].unwatcher();tu(s,Yh(s.transactionQueueTree_,t)),Zh(s,s.transactionQueueTree_),jn(s.eventQueue_,t,y);for(let T=0;T<b.length;T++)hr(b[T])}else{if(_==="datastale")for(let b=0;b<i.length;b++)i[b].status===3?i[b].status=4:i[b].status=0;else{wt("transaction at "+m.toString()+" failed: "+_);for(let b=0;b<i.length;b++)i[b].status=4,i[b].abortReason=_}eu(s,t)}},h)}function eu(s,t){const i=N0(s,t),a=Fa(i),o=O0(s,i);return nN(s,o,a),a}function nN(s,t,i){if(t.length===0)return;const a=[];let o=[];const h=t.filter(d=>d.status===0).map(d=>d.currentWriteId);for(let d=0;d<t.length;d++){const m=t[d],_=Ct(i,m.path);let y=!1,b;if(q(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)y=!0,b=m.abortReason,o=o.concat(Wi(s.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=YR)y=!0,b="maxretry",o=o.concat(Wi(s.serverSyncTree_,m.currentWriteId,!0));else{const T=R0(s,m.path,h);m.currentInputSnapshot=T;const z=t[d].update(T.val());if(z!==void 0){Fh("transaction failed: Data returned ",z,m.path);let j=ft(z);typeof z=="object"&&z!=null&&qn(z,".priority")||(j=j.updatePriority(T.getPriority()));const te=m.currentWriteId,ke=Kh(s),Oe=g0(j,T,ke);m.currentOutputSnapshotRaw=j,m.currentOutputSnapshotResolved=Oe,m.currentWriteId=w0(s),h.splice(h.indexOf(te),1),o=o.concat(d0(s.serverSyncTree_,m.path,Oe,m.currentWriteId,m.applyLocally)),o=o.concat(Wi(s.serverSyncTree_,te,!0))}else y=!0,b="nodata",o=o.concat(Wi(s.serverSyncTree_,m.currentWriteId,!0))}jn(s.eventQueue_,i,o),o=[],y&&(t[d].status=2,function(T){setTimeout(T,Math.floor(0))}(t[d].unwatcher),t[d].onComplete&&(b==="nodata"?a.push(()=>t[d].onComplete(null,!1,t[d].currentInputSnapshot)):a.push(()=>t[d].onComplete(new Error(b),!1,null))))}tu(s,s.transactionQueueTree_);for(let d=0;d<a.length;d++)hr(a[d]);Zh(s,s.transactionQueueTree_)}function N0(s,t){let i,a=s.transactionQueueTree_;for(i=oe(t);i!==null&&dr(a)===void 0;)a=Yh(a,i),t=Me(t),i=oe(t);return a}function O0(s,t){const i=[];return D0(s,t,i),i.sort((a,o)=>a.order-o.order),i}function D0(s,t,i){const a=dr(t);if(a)for(let o=0;o<a.length;o++)i.push(a[o]);Jo(t,o=>{D0(s,o,i)})}function tu(s,t){const i=dr(t);if(i){let a=0;for(let o=0;o<i.length;o++)i[o].status!==2&&(i[a]=i[o],a++);i.length=a,v0(t,i.length>0?i:void 0)}Jo(t,a=>{tu(s,a)})}function M0(s,t){const i=Fa(N0(s,t)),a=Yh(s.transactionQueueTree_,t);return xR(a,o=>{kf(s,o)}),kf(s,a),E0(a,o=>{kf(s,o)}),i}function kf(s,t){const i=dr(t);if(i){const a=[];let o=[],c=-1;for(let h=0;h<i.length;h++)i[h].status===3||(i[h].status===1?(q(c===h-1,"All SENT items should be at beginning of queue."),c=h,i[h].status=3,i[h].abortReason="set"):(q(i[h].status===0,"Unexpected transaction status in abort"),i[h].unwatcher(),o=o.concat(Wi(s.serverSyncTree_,i[h].currentWriteId,!0)),i[h].onComplete&&a.push(i[h].onComplete.bind(null,new Error("set"),!1,null))));c===-1?v0(t,void 0):i.length=c+1,jn(s.eventQueue_,Fa(t),o);for(let h=0;h<a.length;h++)hr(a[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iN(s){let t="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let o=i[a];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}t+="/"+o}return t}function sN(s){const t={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?t[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):wt(`Invalid query segment '${i}' in query '${s}'`)}return t}const pv=function(s,t){const i=rN(s),a=i.namespace;i.domain==="firebase.com"&&Bn(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&Bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||gA();const o=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new ky(i.host,i.secure,a,o,t,"",a!==i.subdomain),path:new Ne(i.pathString)}},rN=function(s){let t="",i="",a="",o="",c="",h=!0,d="https",m=443;if(typeof s=="string"){let _=s.indexOf("//");_>=0&&(d=s.substring(0,_-1),s=s.substring(_+2));let y=s.indexOf("/");y===-1&&(y=s.length);let b=s.indexOf("?");b===-1&&(b=s.length),t=s.substring(0,Math.min(y,b)),y<b&&(o=iN(s.substring(y,b)));const T=sN(s.substring(Math.min(s.length,b)));_=t.indexOf(":"),_>=0?(h=d==="https"||d==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const z=t.slice(0,_);if(z.toLowerCase()==="localhost")i="localhost";else if(z.split(".").length<=2)i=z;else{const j=t.indexOf(".");a=t.substring(0,j).toLowerCase(),i=t.substring(j+1),c=a}"ns"in T&&(c=T.ns)}return{host:t,port:m,domain:i,subdomain:a,secure:h,scheme:d,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(t,i,a,o){this.eventType=t,this.eventRegistration=i,this.snapshot=a,this.prevName=o}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+at(this.snapshot.exportVal())}}class lN{constructor(t,i,a){this.eventRegistration=t,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(t,i){this.snapshotCallback=t,this.cancelCallback=i}onValue(t,i){this.snapshotCallback.call(null,t,i)}onCancel(t){return q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(t,i,a,o){this._repo=t,this._path=i,this._queryParams=a,this._orderByCalled=o}get key(){return he(this._path)?null:Vy(this._path)}get ref(){return new Ni(this._repo,this._path)}get _queryIdentifier(){const t=Zg(this._queryParams),i=Sh(t);return i==="{}"?"default":i}get _queryObject(){return Zg(this._queryParams)}isEqual(t){if(t=Nt(t),!(t instanceof $h))return!1;const i=this._repo===t._repo,a=Ah(this._path,t._path),o=this._queryIdentifier===t._queryIdentifier;return i&&a&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+ew(this._path)}}class Ni extends $h{constructor(t,i){super(t,i,new Oh,!1)}get parent(){const t=Yy(this._path);return t===null?null:new Ni(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Bo{constructor(t,i,a){this._node=t,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const i=new Ne(t),a=nh(this.ref,t);return new Bo(this._node.getChild(i),a,Ve)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,o)=>t(new Bo(o,nh(this.ref,a),Ve)))}hasChild(t){const i=new Ne(t);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Xt(s,t){return s=Nt(s),s._checkNotDeleted("ref"),t!==void 0?nh(s._root,t):s._root}function nh(s,t){return s=Nt(s),oe(s._path)===null?PR("child","path",t):T0("child","path",t),new Ni(s._repo,$e(s._path,t))}function pn(s,t){s=Nt(s),BR("set",s._path),HR("set",t,s._path);const i=new Vo;return WR(s._repo,s._path,t,null,i.wrapCallback(()=>{})),i.promise}class Jh{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,i){const a=i._queryParams.getIndex();return new aN("value",this,new Bo(t.snapshotNode,new Ni(i._repo,i._path),a))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,i){return this.callbackContext.hasCancelCallback?new lN(this,t,i):null}matches(t){return t instanceof Jh?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function uN(s,t,i,a,o){let c;if(typeof a=="object"&&(c=void 0,o=a),typeof a=="function"&&(c=a),o&&o.onlyOnce){const m=i,_=(y,b)=>{dv(s._repo,s,d),m(y,b)};_.userCallback=i.userCallback,_.context=i.context,i=_}const h=new oN(i,c||void 0),d=new Jh(h);return $R(s._repo,s,d),()=>dv(s._repo,s,d)}function mv(s,t,i,a){return uN(s,"value",t,i,a)}cR(Ni);_R(Ni);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="FIREBASE_DATABASE_EMULATOR_HOST",ih={};let fN=!1;function hN(s,t,i,a){const o=t.lastIndexOf(":"),c=t.substring(0,o),h=La(c);s.repoInfo_=new ky(t,h,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function dN(s,t,i,a,o){let c=a||s.options.databaseURL;c===void 0&&(s.options.projectId||Bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),_t("Using default host for project ",s.options.projectId),c=`${s.options.projectId}-default-rtdb.firebaseio.com`);let h=pv(c,o),d=h.repoInfo,m;typeof process<"u"&&xg&&(m=xg[cN]),m?(c=`http://${m}?ns=${d.namespace}`,h=pv(c,o),d=h.repoInfo):h.repoInfo.secure;const _=new NA(s.name,s.options,t);jR("Invalid Firebase Database URL",h),he(h.path)||Bn("Database URL must point to the root of a Firebase Database (not including a child path).");const y=mN(d,s,_,new RA(s,i));return new _N(y,s)}function pN(s,t){const i=ih[t];(!i||i[s.key]!==s)&&Bn(`Database ${t}(${s.repoInfo_}) has already been deleted.`),JR(s),delete i[s.key]}function mN(s,t,i,a){let o=ih[t.name];o||(o={},ih[t.name]=o);let c=o[s.toURLString()];return c&&Bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new FR(s,fN,i,a),o[s.toURLString()]=c,c}class _N{constructor(t,i){this._repoInternal=t,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(QR(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ni(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(pN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Bn("Cannot call "+t+" on a deleted database.")}}function gN(s=Uv(),t){const i=fh(s,"database").getImmediate({identifier:t});if(!i._instanceStarted){const a=Tb("database");a&&vN(i,...a)}return i}function vN(s,t,i,a={}){s=Nt(s),s._checkNotDeleted("useEmulator");const o=`${t}:${i}`,c=s._repoInternal;if(s._instanceStarted){if(o===s._repoInternal.repoInfo_.host&&$i(a,c.repoInfo_.emulatorOptions))return;Bn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(c.repoInfo_.nodeAdmin)a.mockUserToken&&Bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new _o(_o.OWNER);else if(a.mockUserToken){const d=typeof a.mockUserToken=="string"?a.mockUserToken:Cb(a.mockUserToken,s.app.options.projectId);h=new _o(d)}La(t)&&(Nv(t),Ov("Database",!0)),hN(c,o,a,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(s){fA(ur),ir(new Ji("database",(t,{instanceIdentifier:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return dN(a,o,c,i)},"PUBLIC").setMultipleInstances(!0)),Si(kg,Ug,s),Si(kg,Ug,"esm2017")}zn.prototype.simpleListen=function(s,t){this.sendRequest("q",{p:s},t)};zn.prototype.echo=function(s,t){this.sendRequest("echo",{d:s},t)};yN();var EN="firebase",SN="11.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Si(EN,SN,"app");const bN={apiKey:"AIzaSyCM3jP5noU3wPlySoNYDoF-ykyZ_0vAKUk",authDomain:"todo-app-reat-js-database.firebaseapp.com",databaseURL:"https://todo-app-reat-js-database-default-rtdb.firebaseio.com",projectId:"todo-app-reat-js-database",storageBucket:"todo-app-reat-js-database.firebasestorage.app",messagingSenderId:"506964657857",appId:"1:506964657857:web:87ee9a6eb15f5718c23640",measurementId:"G-JSESG6PP2G"},ed=kv(bN),I0=vy(ed);var go={exports:{}},TN=go.exports,_v;function CN(){return _v||(_v=1,function(s,t){(function(i,a){s.exports=a()})(TN,function(){var i=1e3,a=6e4,o=36e5,c="millisecond",h="second",d="minute",m="hour",_="day",y="week",b="month",T="quarter",z="year",j="date",K="Invalid Date",te=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,ke=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,Oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Q){var V=["th","st","nd","rd"],S=Q%100;return"["+Q+(V[(S-20)%10]||V[S]||V[0])+"]"}},de=function(Q,V,S){var N=String(Q);return!N||N.length>=V?Q:""+Array(V+1-N.length).join(S)+Q},Ie={s:de,z:function(Q){var V=-Q.utcOffset(),S=Math.abs(V),N=Math.floor(S/60),I=S%60;return(V<=0?"+":"-")+de(N,2,"0")+":"+de(I,2,"0")},m:function Q(V,S){if(V.date()<S.date())return-Q(S,V);var N=12*(S.year()-V.year())+(S.month()-V.month()),I=V.clone().add(N,b),B=S-I<0,v=V.clone().add(N+(B?-1:1),b);return+(-(N+(S-I)/(B?I-v:v-I))||0)},a:function(Q){return Q<0?Math.ceil(Q)||0:Math.floor(Q)},p:function(Q){return{M:b,y:z,w:y,d:_,D:j,h:m,m:d,s:h,ms:c,Q:T}[Q]||String(Q||"").toLowerCase().replace(/s$/,"")},u:function(Q){return Q===void 0}},ie="en",be={};be[ie]=Oe;var He="$isDayjsObject",Pe=function(Q){return Q instanceof Le||!(!Q||!Q[He])},Ge=function Q(V,S,N){var I;if(!V)return ie;if(typeof V=="string"){var B=V.toLowerCase();be[B]&&(I=B),S&&(be[B]=S,I=B);var v=V.split("-");if(!I&&v.length>1)return Q(v[0])}else{var M=V.name;be[M]=V,I=M}return!N&&I&&(ie=I),I||!N&&ie},ye=function(Q,V){if(Pe(Q))return Q.clone();var S=typeof V=="object"?V:{};return S.date=Q,S.args=arguments,new Le(S)},re=Ie;re.l=Ge,re.i=Pe,re.w=function(Q,V){return ye(Q,{locale:V.$L,utc:V.$u,x:V.$x,$offset:V.$offset})};var Le=function(){function Q(S){this.$L=Ge(S.locale,null,!0),this.parse(S),this.$x=this.$x||S.x||{},this[He]=!0}var V=Q.prototype;return V.parse=function(S){this.$d=function(N){var I=N.date,B=N.utc;if(I===null)return new Date(NaN);if(re.u(I))return new Date;if(I instanceof Date)return new Date(I);if(typeof I=="string"&&!/Z$/i.test(I)){var v=I.match(te);if(v){var M=v[2]-1||0,H=(v[7]||"0").substring(0,3);return B?new Date(Date.UTC(v[1],M,v[3]||1,v[4]||0,v[5]||0,v[6]||0,H)):new Date(v[1],M,v[3]||1,v[4]||0,v[5]||0,v[6]||0,H)}}return new Date(I)}(S),this.init()},V.init=function(){var S=this.$d;this.$y=S.getFullYear(),this.$M=S.getMonth(),this.$D=S.getDate(),this.$W=S.getDay(),this.$H=S.getHours(),this.$m=S.getMinutes(),this.$s=S.getSeconds(),this.$ms=S.getMilliseconds()},V.$utils=function(){return re},V.isValid=function(){return this.$d.toString()!==K},V.isSame=function(S,N){var I=ye(S);return this.startOf(N)<=I&&I<=this.endOf(N)},V.isAfter=function(S,N){return ye(S)<this.startOf(N)},V.isBefore=function(S,N){return this.endOf(N)<ye(S)},V.$g=function(S,N,I){return re.u(S)?this[N]:this.set(I,S)},V.unix=function(){return Math.floor(this.valueOf()/1e3)},V.valueOf=function(){return this.$d.getTime()},V.startOf=function(S,N){var I=this,B=!!re.u(N)||N,v=re.p(S),M=function(ht,Je){var Ot=re.w(I.$u?Date.UTC(I.$y,Je,ht):new Date(I.$y,Je,ht),I);return B?Ot:Ot.endOf(_)},H=function(ht,Je){return re.w(I.toDate()[ht].apply(I.toDate("s"),(B?[0,0,0,0]:[23,59,59,999]).slice(Je)),I)},P=this.$W,G=this.$M,ne=this.$D,X="set"+(this.$u?"UTC":"");switch(v){case z:return B?M(1,0):M(31,11);case b:return B?M(1,G):M(0,G+1);case y:var Ye=this.$locale().weekStart||0,ve=(P<Ye?P+7:P)-Ye;return M(B?ne-ve:ne+(6-ve),G);case _:case j:return H(X+"Hours",0);case m:return H(X+"Minutes",1);case d:return H(X+"Seconds",2);case h:return H(X+"Milliseconds",3);default:return this.clone()}},V.endOf=function(S){return this.startOf(S,!1)},V.$set=function(S,N){var I,B=re.p(S),v="set"+(this.$u?"UTC":""),M=(I={},I[_]=v+"Date",I[j]=v+"Date",I[b]=v+"Month",I[z]=v+"FullYear",I[m]=v+"Hours",I[d]=v+"Minutes",I[h]=v+"Seconds",I[c]=v+"Milliseconds",I)[B],H=B===_?this.$D+(N-this.$W):N;if(B===b||B===z){var P=this.clone().set(j,1);P.$d[M](H),P.init(),this.$d=P.set(j,Math.min(this.$D,P.daysInMonth())).$d}else M&&this.$d[M](H);return this.init(),this},V.set=function(S,N){return this.clone().$set(S,N)},V.get=function(S){return this[re.p(S)]()},V.add=function(S,N){var I,B=this;S=Number(S);var v=re.p(N),M=function(G){var ne=ye(B);return re.w(ne.date(ne.date()+Math.round(G*S)),B)};if(v===b)return this.set(b,this.$M+S);if(v===z)return this.set(z,this.$y+S);if(v===_)return M(1);if(v===y)return M(7);var H=(I={},I[d]=a,I[m]=o,I[h]=i,I)[v]||1,P=this.$d.getTime()+S*H;return re.w(P,this)},V.subtract=function(S,N){return this.add(-1*S,N)},V.format=function(S){var N=this,I=this.$locale();if(!this.isValid())return I.invalidDate||K;var B=S||"YYYY-MM-DDTHH:mm:ssZ",v=re.z(this),M=this.$H,H=this.$m,P=this.$M,G=I.weekdays,ne=I.months,X=I.meridiem,Ye=function(Je,Ot,gn,Vn){return Je&&(Je[Ot]||Je(N,B))||gn[Ot].slice(0,Vn)},ve=function(Je){return re.s(M%12||12,Je,"0")},ht=X||function(Je,Ot,gn){var Vn=Je<12?"AM":"PM";return gn?Vn.toLowerCase():Vn};return B.replace(ke,function(Je,Ot){return Ot||function(gn){switch(gn){case"YY":return String(N.$y).slice(-2);case"YYYY":return re.s(N.$y,4,"0");case"M":return P+1;case"MM":return re.s(P+1,2,"0");case"MMM":return Ye(I.monthsShort,P,ne,3);case"MMMM":return Ye(ne,P);case"D":return N.$D;case"DD":return re.s(N.$D,2,"0");case"d":return String(N.$W);case"dd":return Ye(I.weekdaysMin,N.$W,G,2);case"ddd":return Ye(I.weekdaysShort,N.$W,G,3);case"dddd":return G[N.$W];case"H":return String(M);case"HH":return re.s(M,2,"0");case"h":return ve(1);case"hh":return ve(2);case"a":return ht(M,H,!0);case"A":return ht(M,H,!1);case"m":return String(H);case"mm":return re.s(H,2,"0");case"s":return String(N.$s);case"ss":return re.s(N.$s,2,"0");case"SSS":return re.s(N.$ms,3,"0");case"Z":return v}return null}(Je)||v.replace(":","")})},V.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},V.diff=function(S,N,I){var B,v=this,M=re.p(N),H=ye(S),P=(H.utcOffset()-this.utcOffset())*a,G=this-H,ne=function(){return re.m(v,H)};switch(M){case z:B=ne()/12;break;case b:B=ne();break;case T:B=ne()/3;break;case y:B=(G-P)/6048e5;break;case _:B=(G-P)/864e5;break;case m:B=G/o;break;case d:B=G/a;break;case h:B=G/i;break;default:B=G}return I?B:re.a(B)},V.daysInMonth=function(){return this.endOf(b).$D},V.$locale=function(){return be[this.$L]},V.locale=function(S,N){if(!S)return this.$L;var I=this.clone(),B=Ge(S,N,!0);return B&&(I.$L=B),I},V.clone=function(){return re.w(this.$d,this)},V.toDate=function(){return new Date(this.valueOf())},V.toJSON=function(){return this.isValid()?this.toISOString():null},V.toISOString=function(){return this.$d.toISOString()},V.toString=function(){return this.$d.toUTCString()},Q}(),Pt=Le.prototype;return ye.prototype=Pt,[["$ms",c],["$s",h],["$m",d],["$H",m],["$W",_],["$M",b],["$y",z],["$D",j]].forEach(function(Q){Pt[Q[1]]=function(V){return this.$g(V,Q[0],Q[1])}}),ye.extend=function(Q,V){return Q.$i||(Q(V,Le,ye),Q.$i=!0),ye},ye.locale=Ge,ye.isDayjs=Pe,ye.unix=function(Q){return ye(1e3*Q)},ye.en=be[ie],ye.Ls=be,ye.p={},ye})}(go)),go.exports}var AN=CN();const ct=Ev(AN),wN=({onAdd:s,showError:t})=>{const[i,a]=qe.useState(""),[o,c]=qe.useState(""),h=_=>_.charAt(0).toUpperCase()+_.slice(1),d=()=>{const _=ct(o),y=ct();if(_.isBefore(y)){t("Please select a due date and time in the future.");return}const b=h(i);s(b,o),a(""),c("")},m=_=>{_.key==="Enter"&&d()};return x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"input-group",children:[x.jsx("input",{type:"text",placeholder:"Enter Todo Here",value:i,onChange:_=>a(_.target.value),onKeyPress:_=>_.key==="Enter"&&d(),onKeyDown:m}),x.jsx("input",{type:"datetime-local",value:o,onChange:_=>c(_.target.value),id:"dateInput",onKeyDown:m,placeholder:"Due Date"}),x.jsx("label",{htmlFor:"dateInput",children:"Enter Due Date and Time"})]}),x.jsx("button",{onClick:d,children:"Add Todo"})]})};var x0={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},gv=Zi.createContext&&Zi.createContext(x0),RN=["attr","size","title"];function NN(s,t){if(s==null)return{};var i=ON(s,t),a,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(s);for(o=0;o<c.length;o++)a=c[o],!(t.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(s,a)&&(i[a]=s[a])}return i}function ON(s,t){if(s==null)return{};var i={};for(var a in s)if(Object.prototype.hasOwnProperty.call(s,a)){if(t.indexOf(a)>=0)continue;i[a]=s[a]}return i}function jo(){return jo=Object.assign?Object.assign.bind():function(s){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=i[a])}return s},jo.apply(this,arguments)}function vv(s,t){var i=Object.keys(s);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(s);t&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(s,o).enumerable})),i.push.apply(i,a)}return i}function qo(s){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?vv(Object(i),!0).forEach(function(a){DN(s,a,i[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(i)):vv(Object(i)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(i,a))})}return s}function DN(s,t,i){return t=MN(t),t in s?Object.defineProperty(s,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):s[t]=i,s}function MN(s){var t=IN(s,"string");return typeof t=="symbol"?t:t+""}function IN(s,t){if(typeof s!="object"||!s)return s;var i=s[Symbol.toPrimitive];if(i!==void 0){var a=i.call(s,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function k0(s){return s&&s.map((t,i)=>Zi.createElement(t.tag,qo({key:i},t.attr),k0(t.child)))}function Qa(s){return t=>Zi.createElement(xN,jo({attr:qo({},s.attr)},t),k0(s.child))}function xN(s){var t=i=>{var{attr:a,size:o,title:c}=s,h=NN(s,RN),d=o||i.size||"1em",m;return i.className&&(m=i.className),s.className&&(m=(m?m+" ":"")+s.className),Zi.createElement("svg",jo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,a,h,{className:m,style:qo(qo({color:s.color||i.color},i.style),s.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),c&&Zi.createElement("title",null,c),s.children)};return gv!==void 0?Zi.createElement(gv.Consumer,null,i=>t(i)):t(x0)}function U0(s){return Qa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(s)}function kN(s){return Qa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M17 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"},child:[]}]})(s)}function UN(s){return Qa({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(s)}function LN(s){return Qa({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.3 344.9l32-32c5-5 13.7-1.5 13.7 5.7V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V112c0-26.5 21.5-48 48-48h273.5c7.1 0 10.7 8.6 5.7 13.7l-32 32c-1.5 1.5-3.5 2.3-5.7 2.3H48v352h352V350.5c0-2.1.8-4.1 2.3-5.6zm156.6-201.8L296.3 405.7l-90.4 10c-26.2 2.9-48.5-19.2-45.6-45.6l10-90.4L432.9 17.1c22.9-22.9 59.9-22.9 82.7 0l43.2 43.2c22.9 22.9 22.9 60 .1 82.8zM460.1 174L402 115.9 216.2 301.8l-7.3 65.3 65.3-7.3L460.1 174zm64.8-79.7l-43.2-43.2c-4.1-4.1-10.8-4.1-14.8 0L436 82l58.1 58.1 30.9-30.9c4-4.2 4-10.8-.1-14.9z"},child:[]}]})(s)}function zN(s){return Qa({attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 0 0-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"},child:[]}]})(s)}const HN=({todo:s,onDelete:t,isEditing:i,onEdit:a,onSave:o,onCancel:c,onFinish:h})=>x.jsx(x.Fragment,{children:x.jsx("div",{className:"todo-actions",children:i?x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"save-btn",onClick:o,children:x.jsx(kN,{})}),x.jsx("button",{className:"cancel-btn",onClick:c,children:x.jsx(UN,{})})]}):x.jsxs(x.Fragment,{children:[x.jsx("button",{className:"delete-btn",onClick:()=>t(s.id),children:x.jsx(U0,{})}),x.jsx("button",{className:"edit-btn",onClick:a,children:x.jsx(LN,{})}),x.jsx("button",{className:"finish-btn",onClick:()=>h(s.id),children:x.jsx(zN,{})})]})})}),PN=({todo:s,onDelete:t,onUpdate:i,onFinish:a})=>{const[o,c]=qe.useState(!1),[h,d]=qe.useState(s.text),_=ct().isAfter(ct(s.dueDate)),y=()=>{c(!0)},b=()=>{h.trim()&&(i(s.id,h.charAt(0).toUpperCase()+h.slice(1)),c(!1))},T=()=>{d(s.text),c(!1)},z=()=>{a(s.id)};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:`todo-item ${_?"overdue-item":""}`,children:[o?x.jsx("input",{type:"text",value:h,onChange:j=>d(j.target.value),className:"edit-input",autoFocus:!0}):x.jsx(x.Fragment,{children:x.jsxs("div",{className:"todo-content",children:[x.jsx("span",{className:"todo-text",children:s.text}),x.jsxs("div",{className:"todo-meta",children:[x.jsxs("small",{children:["Created: ",ct(s.createdAt).format("MMM D,YYYY h:mm A")]}),x.jsx("br",{}),x.jsxs("small",{className:`due-date ${_?"overdue":""}`,children:["Due:",ct(s.dueDate).format("MMM D,YYYY h:mm A")]})]})]})}),x.jsx(HN,{todo:s,onDelete:t,isEditing:o,onEdit:y,onSave:b,onCancel:T,onFinish:z})]},s.id)})},BN=({todos:s,onDelete:t,onUpdate:i,onFinish:a,ontoggleSort:o,sortOrder:c})=>x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"todo-list-header",children:[x.jsx("h2",{children:"Todos"}),x.jsxs("button",{className:"sort-button",onClick:o,children:["Sort by Due Date ",c==="asc"?"↑ Asc":"↓ Desc"]})]}),x.jsx("div",{id:"show-output",children:s.map(h=>x.jsx(PN,{todo:h,onDelete:t,onUpdate:i,onFinish:a},h.id))})]}),jN=({finishedTodos:s,onDelete:t,onUnfinish:i,ontoggleSort:a,sortOrder:o})=>x.jsx(x.Fragment,{children:x.jsxs("div",{className:"completed-tasks",children:[x.jsx("h2",{children:"Completed Tasks"}),x.jsxs("div",{className:"completed-list",children:[s.length===0?x.jsx("h2",{children:"No Task Completed"}):s.map(c=>{const h=c.finishedLate,d=ct(c.finishedAt),m=ct(c.dueDate);return x.jsxs("div",{className:`completed-card ${h?"late":"on-time"}`,children:[x.jsxs("div",{className:"completed-content",children:[x.jsx("div",{className:"task-text",children:c.text}),x.jsxs("div",{className:"timeline-info",children:[x.jsxs("div",{className:"timeline-row",children:[x.jsx("span",{className:"timeline-label",children:"Created:"}),x.jsx("span",{children:ct(c.createdAt).format("MMM D,YYYY h:mm A")})]}),x.jsxs("div",{className:"timeline-row",children:[x.jsx("span",{className:"timeline-label",children:"Due Date:"}),x.jsx("span",{className:h?"overdue":"",children:m.format("MMM D,YYYY h:mm A")})]}),x.jsxs("div",{className:"timeline-row",children:[x.jsx("span",{className:"timeline-label",children:"FInished At:"}),x.jsx("span",{children:d.format("MMM D,YYYY h:mm A")})]}),h&&x.jsxs("div",{className:"late-indicator",children:[x.jsx("span",{className:"indicator-dot"}),"Finished Late"]})]})]}),x.jsx("br",{}),x.jsxs("div",{className:"buttons-group",children:[x.jsx("button",{onClick:()=>t(c.id),className:"completed-task-btn",children:x.jsx(U0,{})}),x.jsx("button",{onClick:()=>i(c.id),className:"unfinish-btn",children:"UnFinish Task"})]})]},c.id)}),x.jsxs("button",{onClick:a,className:"sort-button",children:["Sort by Completed Time ",o==="asc"?"↑ Asc":"↓ Desc"]})]})]})}),qN=({showError:s})=>{const[t,i]=qe.useState(""),[a,o]=qe.useState(""),c=async()=>{try{await XT(I0,t,a),s("Login Successful!")}catch(h){s(h.message)}};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"auth-container",children:[x.jsx("h2",{children:"Login"}),x.jsx("input",{type:"email",placeholder:"Enter Your Email",id:"loginInput",onChange:h=>i(h.target.value),value:t,className:"auth-input"}),x.jsx("input",{type:"password",placeholder:"Enter your password",id:"loginPass",className:"auth-input",onChange:h=>{o(h.target.value)},value:a,onKeyDown:h=>h.key==="Enter"?c():null}),x.jsx("button",{className:"auth-button",onClick:c,children:"Log In"})]})})},VN=({showError:s})=>{const[t,i]=qe.useState(""),[a,o]=qe.useState(""),c=async()=>{try{await KT(I0,t,a),s("Sign Up Successful!")}catch(h){s(h.message)}};return x.jsx(x.Fragment,{children:x.jsxs("div",{className:"auth-container",children:[x.jsx("h2",{children:"Sign Up"}),x.jsx("input",{type:"email",placeholder:"Enter Your Email",id:"signUpInput",className:"auth-input",onChange:h=>i(h.target.value)}),x.jsx("input",{type:"password",placeholder:"Enter a strong password",id:"passInput",onChange:h=>o(h.target.value),className:"auth-input",onKeyDown:h=>h.key==="Enter"?c():null}),x.jsx("button",{className:"auth-button",onClick:c,children:"Sign Up"})]})})},GN=({message:s,onClose:t})=>(qe.useEffect(()=>{const i=setTimeout(()=>{t()},3e3);return()=>clearTimeout(i)},[t]),x.jsx(x.Fragment,{children:x.jsxs("div",{className:"error-box",children:[x.jsxs("div",{className:"error-content",children:[x.jsxs("svg",{className:"error-icon",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[" ",x.jsx("path",{d:"M12 8V12M12 16H12.01M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),x.jsx("p",{children:s})]}),x.jsx("button",{className:"error-close",onClick:t,children:"×"})]})})),Wt=gN(ed),yv=vy(ed);function YN(){const[s,t]=qe.useState([]),[i,a]=qe.useState([]),[o,c]=qe.useState(null),[h,d]=qe.useState(!0),[m,_]=qe.useState(!1),[y,b]=qe.useState("asc"),[T,z]=qe.useState(null),[j,K]=qe.useState(1),te=10,ke=()=>{const S=j*te,N=S-te;return be.slice(N,S)},Oe=()=>{const S=j*te,N=S-te;return He.slice(N,S)},de=S=>K(S),Ie=S=>{z(S),setTimeout(()=>z(null),5e3)},ie=()=>{b(S=>S==="asc"?"desc":"asc")},be=[...s].sort((S,N)=>{const I=ct(S.dueDate),B=ct(N.dueDate);return y==="asc"?I-B:B-I}),He=[...i].sort((S,N)=>{const I=ct(S.finishedAt),B=ct(N.finishedAt);return y==="asc"?I-B:B-I});qe.useEffect(()=>{const S=$T(yv,N=>{c(N),d(!1)});return()=>S()},[]),qe.useEffect(()=>{if(!o)return;const S=Xt(Wt,`users/${o.uid}/todos`),N=Xt(Wt,`users/${o.uid}/finishedTodos`),I=M=>{console.error(`Firebase read error: ${M}`),Ie(`Firebase data read error: ${M.message}`)},B=mv(S,M=>{const H=M.val();t(H||[])}),v=mv(N,M=>{const H=M.val();a(H||[])},I);return()=>{B(),v()}},[o]),qe.useEffect(()=>{K(1)},[s,i]);const Pe=()=>{o&&(pn(Xt(Wt,`users/${o.uid}/todos`),s),pn(Xt(Wt,`users/${o.uid}/finishedTodos`),i))},Ge=(S,N)=>{if(!o||S.trim()==="")return;const I={id:Date.now(),text:S,createdAt:ct().format(),dueDate:N||ct().add(2,"seconds").format()},B=[...s,I];t(B),pn(Xt(Wt,`users/${o.uid}/todos`),B),console.log(Date.now())},ye=S=>{if(!o)return;const N=s.filter(I=>I.id!==S);t(N),pn(Xt(Wt,`users/${o.uid}/todos`),N)},re=(S,N)=>{if(!o)return;const I=s.map(B=>B.id===S?{...B,text:N}:B);t(I),pn(Xt(Wt,`users/${o.uid}/todos`),I)},Le=S=>{if(!o)return;const N=s.findIndex(P=>P.id===S),I=s.find(P=>P.id===S);if(!I)return;const B=ct(),v=B.isAfter(ct(I.dueDate)),M=s.filter(P=>P.id!==S),H=[...i,{...I,originalIndex:N,finishedLate:v,finishedAt:B.format()}];t(M),a(H),pn(Xt(Wt,`users/${o.uid}/todos`),M),pn(Xt(Wt,`users/${o.uid}/finishedTodos`),H)},Pt=S=>{if(!o)return;const N=i.find(H=>H.id===S);if(!N)return;const I=i.filter(H=>H.id!==S),B=[...s],v=typeof N.originalIndex=="number"?N.originalIndex:B.length,M={...N};delete M.originalIndex,B.splice(v,0,M),t(B),a(I),pn(Xt(Wt,`users/${o.uid}/todos`),B),pn(Xt(Wt,`users/${o.uid}/finishedTodos`),I)},Q=S=>{if(!o)return;const N=i.filter(I=>I.id!==S);a(N),pn(Xt(Wt,`users/${o.uid}/finishedTodos`),N)},V=async()=>{try{t([]),a([]),await JT(yv)}catch(S){console.error("Error Signing Out",S)}};return h?x.jsx(x.Fragment,{children:x.jsx("div",{className:"loadin-screen",children:x.jsx("div",{className:"loading-spinner"})})}):x.jsx(x.Fragment,{children:o?x.jsx(x.Fragment,{children:x.jsxs("div",{className:"container",children:[o&&x.jsx(x.Fragment,{children:x.jsxs("div",{className:"user-credentials",children:[x.jsx("p",{className:"userId",children:`User Id: ${o.uid}`}),x.jsx("h2",{className:"welcomeUser",children:`Welcome: ${o.email}`})]})}),x.jsx(wN,{onAdd:Ge,showError:Ie}),x.jsx(BN,{todos:ke(),sortOrder:y,ontoggleSort:ie,onDelete:ye,onUpdate:re,onFinish:Le,putData:Pe}),x.jsx(PaginateTODOS,{todosPerPage:te,totalTodos:be.length,currentPage:j,paginate:de}),x.jsx(jN,{sortOrder:y,finishedTodos:Oe(),onDelete:Q,onUnfinish:Pt,putData:Pe,ontoggleSort:ie}),x.jsx(PaginateTODOS,{todosPerPage:te,totalTodos:He.length,currentPage:j,paginate:de}),x.jsx("button",{onClick:V,className:"auth-button",children:"Log Out"})]})}):x.jsx(x.Fragment,{children:x.jsx("div",{className:"auth-layout",children:x.jsxs("div",{className:"auth-card",children:[m?x.jsxs(x.Fragment,{children:[x.jsx(qN,{showError:Ie}),x.jsx("p",{children:"Don't have an account?"}),x.jsx("span",{onClick:()=>_(!1),className:"signuplogin",children:"Sign Up"})]}):x.jsxs(x.Fragment,{children:[x.jsx(VN,{showError:Ie}),x.jsx("p",{children:"Already have an account?"}),x.jsx("span",{onClick:()=>{_(!0)},className:"signuplogin",children:"Login"})]}),T&&x.jsx(GN,{message:T,onClose:()=>z(null)})]})})})})}db.createRoot(document.getElementById("root")).render(x.jsx(qe.StrictMode,{children:x.jsx(YN,{})}));
